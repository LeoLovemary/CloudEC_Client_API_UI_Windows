webpackJsonp([16],{108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HwPluginSdk=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(2205);t.HwPluginSdk=function e(){(0,i.default)(this,e),(0,a.initPluginApi)()}},117:function(e,t,n){e.exports={default:n(148),__esModule:!0}},1175:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(134),a=r(i),o=n(1),s=r(o),u=n(2),c=r(u),l=n(117),f=r(l),h=n(4),p=r(h),d=n(5),m=r(d),g=n(118),v=r(g),y=n(119),_=r(y),I=n(2207),C=r(I),N=n(690),E=window.Logger("Plugin")("logic/pluginimlp"),S=n(2208).Validator,b=function(e){function t(){var e=this;(0,p.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return n.registJSLoadEvent=function(){E.info("registJSLoadEvent"),coreCommon.Observer.subscribe(constant.COMMON_NOTIFY.ON_COMMON_JS_LOADED,n.handleJSLoad)},n.initSucCallback=function(){n.hasConfig&&n.hasLoadJs&&n.clmApiCallback(N.PLUGIN_CMD.INIT,{code:0,msg:"",data:""})},n.handleJSLoad=function(){E.info("handleJSLoad"),n.registNotify(),n.hasLoadJs=!0,n.clmApiCallback(N.PLUGIN_CMD.JSLOADED,N.PLUGIN_RESULT.SUCCESS),n.initSucCallback()},n.loginNotify=function(e){E.info("plugin login notify:"+e.code+"  "+e.event),0!==e.code&&n.clmApiCallback(N.PLUGIN_CMD.LOGIN,{code:e.code,msg:e.event})},n.sipRegResultNotify=function(e){var t=$getState().login,r=t.sipImpi;if(E.info("plugin:[sip register]"),e.param.tel_number!==r)return void E.info(" [sip register] account not compared, no handle ");constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERED===e.param.register_state&&0===e.param.reason_code?(E.info("plugin sip notify is registered"),n.clmApiCallback(N.PLUGIN_CMD.LOGIN,N.PLUGIN_RESULT.SUCCESS),coreCommon.Observer.subscribe("ConfInfoNotify",n.pluginConfConnected)):constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERING===e.param.register_state?E.info("plugin sip notify is registering"):0===e.param.is_deregister&&(E.info("plugin sip notify register failed"),n.clmApiCallback(N.PLUGIN_CMD.LOGIN,{code:N.PLUGIN_RESULT.SIP_FAIL.code,msg:N.PLUGIN_RESULT.SIP_FAIL.msg,data:e.param.reason_code}))},n.confIncomingShownNotify=function(e){if(isNullOrEmpty(e.confHandle))return void E.warn("confId is empty, ignore!");n.handleConfIncoming()},n.pluginConfPreCheck=function(){return coreAccount.getLoginModel().uportalLoginState!==constant.UPORTAL_LOGIN_STATE.UPORTAL_LOGIN_SUCCESS?(E.info("plugin login: uportal is not logined,return fail"),N.PLUGIN_CONF_ERROR.OFFLINE):coreAccount.getLoginModel().sipRegisterState!==constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERED?(E.info("plugin sip is not registered, return fail"),N.PLUGIN_CONF_ERROR.SIP_UNREGISTER):N.PLUGIN_RESULT.SUCCESS},n.jsonStringCheck=function(){var t=(0,c.default)(s.default.mark(function t(n){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E.info("jsonStringCheck config=",n),r=new S,r.addSchema(N.confSchema,"/ConfSchema"),r.addSchema(N.confMenuSchema,"/ConfMenuSchema"),e.abrupt("return",r.validate(n,N.configSchema));case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.init=function(){var t=(0,c.default)(s.default.mark(function t(r){var i,a,o,u,c,l,f;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E.info("plugin init: param=",r),i=!0,a="",!r.config){e.next=19;break}return e.prev=4,o=JSON.parse(r.config),e.next=8,n.jsonStringCheck(o);case 8:if(u=e.sent,E.info("plugin init: config check ret=",u),c=u.errors,c.length>0){for(l=0;l<c.length;l++)E.info("plugin init: config check failed, property=",c[l].property+", message=",c[l].message),a+=c[l].message;i=!1}else E.info("plugin init: config check success"),coreCommon.dispatchModuleEvent("pluginInitConfig",o);e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),E.error("plugin init: config check error, e=",e.t0),i=!1,a=e.t0;case 19:i?(n.hasConfig=!0,n.initSucCallback()):(f=N.PLUGIN_RESULT.ARGS_ERROR,f.msg=a,n.clmApiCallback(N.PLUGIN_CMD.INIT,f));case 20:case"end":return e.stop()}},t,e,[[4,14]])}));return function(e){return t.apply(this,arguments)}}(),n.login=function(){var t=(0,c.default)(s.default.mark(function t(r){var i,a,o,u,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E.info("plugin login enter"),i=coreAccount.getLoginModel().uportalLoginState,a=coreAccount.getLoginModel().sipRegisterState,i!==constant.UPORTAL_LOGIN_STATE.UPORTAL_LOGIN_LOGINING){e.next=7;break}return E.info("plugin login: is logining,return fail"),n.clmApiCallback(N.PLUGIN_CMD.LOGIN,N.PLUGIN_RESULT.REPEAT_ERROR),e.abrupt("return");case 7:if(i!==constant.UPORTAL_LOGIN_STATE.UPORTAL_LOGIN_SUCCESS||r.account!==coreAccount.getLoginModel().account){e.next=17;break}if(a!==constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERED){e.next=14;break}return E.info("plugin login: accout has already logined"),n.clmApiCallback(N.PLUGIN_CMD.LOGIN,{code:0,msg:"successed",data:""}),e.abrupt("return");case 14:if(a!==constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERING&&a!==constant.SIP_REGISTER_STATE.SIP_REGISTER_DEREGISTERING){e.next=17;break}return n.clmApiCallback(N.PLUGIN_CMD.LOGIN,N.PLUGIN_RESULT.REPEAT_ERROR),e.abrupt("return");case 17:if(!(isNullOrEmpty(r.account)||isNullOrEmpty(r.password)||isNullOrEmpty(r.serverAddress)||isNullOrEmpty(r.serverPort))){e.next=21;break}return E.info("account or [password] is null"),n.clmApiCallback(N.PLUGIN_CMD.LOGIN,N.PLUGIN_RESULT.ARGS_ERROR),e.abrupt("return");case 21:return e.next=23,n.handlePreLogin();case 23:return E.info("login: [account]="+handlePhoneNumber(r.account)+", serverAddress="+handlePhoneNumber(r.serverAddress)+", serverPort="+handlePhoneNumber(r.serverPort)),o=r.account,u=r.serverAddress,c=r.serverPort,e.next=29,window.handleSwitchAccount({account:o,serverAddress:u,serverPort:c,noNeedLogout:!0});case 29:coreAccount.getLoginModel().password=r.password,coreAccount.login({});case 31:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.creatInstantMeeting=function(){var t=(0,c.default)(s.default.mark(function t(r,i){var o,u,c,l,f,h,p,d,m,g,v,y,_,I,C;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.closeAllAlertAndConfirm(),o=n.pluginConfPreCheck(),u=i?N.PLUGIN_CMD.CREATE_MEETING_WITH_PARTICIPANTS:N.PLUGIN_CMD.CREATE_MEETING,0===o.code){e.next=7;break}return n.clmApiCallback(u,o),E.warn("plugin createMeeting preCheck failed!"),e.abrupt("return");case 7:if(E.info("creatInstantMeeting"),c=$getState().myInfo,l=[],l.push(c),f=!r.needPassword,h=r.mediaType,p=r.confSubject,!r.hasOwnProperty("participants")){e.next=36;break}if(d=r.participants,!(d.length>0)){e.next=36;break}for(m=!0,g=!1,v=void 0,e.prev=20,y=(0,a.default)(d);!(m=(_=y.next()).done);m=!0)I=_.value,l.push(I);e.next=28;break;case 24:e.prev=24,e.t0=e.catch(20),g=!0,v=e.t0;case 28:e.prev=28,e.prev=29,!m&&y.return&&y.return();case 31:if(e.prev=31,!g){e.next=34;break}throw v;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.next=38,coreConf.actionCreateConf(c,l,{group_id:""},h,f,p);case 38:C=e.sent,n.clmApiCallback(u,{code:C?0:1,msg:"",data:""});case 40:case"end":return e.stop()}},t,e,[[20,24,28,36],[29,,31,35]])}));return function(e,n){return t.apply(this,arguments)}}(),n.closeAllAlertAndConfirm=function(){window.hideConfirm&&window.hideConfirm(),window.hideAlert&&window.hideAlert(),coreUi.hideModal&&coreUi.hideModal(),window.hideNotifyConfirm&&window.hideNotifyConfirm(),window.clearDialogQueue&&window.clearDialogQueue()},n.joinMeetingById=function(){var t=(0,c.default)(s.default.mark(function t(r){var i,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.closeAllAlertAndConfirm(),i=n.pluginConfPreCheck(),0===i.code){e.next=6;break}return n.clmApiCallback(N.PLUGIN_CMD.JOIN_MEETING_BY_ID,i),E.warn("plugin joinMeetingById preCheck failed!"),e.abrupt("return");case 6:return E.info("onEnterMeetingById"),e.next=9,coreConf.enterConfByIdOnlyWithConfPas(r);case 9:a=e.sent,a||n.clmApiCallback(N.PLUGIN_CMD.JOIN_MEETING_BY_ID,{code:-1,msg:"",data:""});case 11:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.pluginConfConnected=function(){E.info("pluginConfConnected"),n.clmApiCallback(N.PLUGIN_CMD.JOIN_MEETING_BY_ID,N.PLUGIN_RESULT.SUCCESS)},n.hasLoadJs=!1,n.hasConfig=!1,n}return(0,_.default)(t,e),(0,m.default)(t,[{key:"registNotify",value:function(){E.info("registNotify"),coreCommon.registeModuleListener("login",this.loginNotify),coreCommon.registeModuleListener("sipRegResultEvent",this.sipRegResultNotify),coreCommon.registeModuleListener("confIncomingShown",this.confIncomingShownNotify),coreCommon.registeModuleListener("sipMultiDeviceLogined",this.handleSipMultiDeviceLogined),coreCommon.registeModuleListener("sipOtherPCLogin",this.handleSipOtherPCLogin),coreCommon.registeModuleListener("sipKickOutFinished",this.handleSipKickOutFinished),coreCommon.registeModuleListener("eServerKickOut",this.handleEServerKickOut),coreCommon.registeModuleListener("pluginUserCustomMenuClickNottify",this.pluginUserCustomMenuClickNotify),coreCommon.registeModuleListener("pluginWhiteBoardSharingStateChangedNotify",this.pluginWhiteBoardSharingStateChangedNotify),coreCommon.registeModuleListener("pluginScreenSharingStateChangedNotify",this.pluginScreenSharingStateChangedNotify),coreCommon.registeModuleListener("pluginDataSharingPersonChangedNotify",this.pluginDataSharingPersonChangedNotify)}}]),t}(C.default);t.default=b},118:function(e,t,n){e.exports=n(0)(33)},119:function(e,t,n){e.exports=n(0)(34)},132:function(e,t,n){e.exports=n(0)(242)},134:function(e,t,n){e.exports={default:n(157),__esModule:!0}},136:function(e,t,n){var r=n(10),i=n(8),a=n(137);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},137:function(e,t,n){e.exports=n(0)(60)},139:function(e,t,n){e.exports=n(0)(67)},146:function(e,t,n){e.exports=n(0)(97)},148:function(e,t,n){n(149),e.exports=n(8).Object.getPrototypeOf},149:function(e,t,n){var r=n(132),i=n(150);n(136)("getPrototypeOf",function(){return function(e){return i(r(e))}})},150:function(e,t,n){e.exports=n(0)(596)},157:function(e,t,n){n(23),n(22),e.exports=n(158)},158:function(e,t,n){var r=n(9),i=n(26);e.exports=n(8).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},2205:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initPluginApi=void 0;var i=n(1),a=r(i),o=n(2),s=r(o),u=n(2206),c=r(u),l=n(2211),f=r(l),h=n(690),p=window.Logger("plugin")("logic/index"),d=null;t.initPluginApi=function(){var t=(0,s.default)(a.default.mark(function t(){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!coreCommon.isPc()){t.next=7;break}return t.next=3,coreCommon.getConsoleUrl();case 3:n=t.sent,n===h.PLUGIN_URL.pluginEnvConfig?window.isPluginEnv=!0:n&&"cloudlink://welinksoftclient/startupconfig?model=integrated"===n&&(window.isHubEnv=!0),t.next=8;break;case 7:window.isPluginEnv="opensdk"===e.env.CHANNEL;case 8:if(window.isPluginEnv){t.next=10;break}return t.abrupt("return");case 10:try{null===d&&(coreCommon.isMobile()?d=new c.default:coreCommon.isWin()&&(d=new f.default),d&&(d.registChannel(),d.registJSLoadEvent()))}catch(e){p.error("init plugin api error",e.toString())}case 11:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}()}).call(t,n(146))},2206:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(67),a=r(i),o=n(1),s=r(o),u=n(2),c=r(u),l=n(117),f=r(l),h=n(4),p=r(h),d=n(118),m=r(d),g=n(119),v=r(g),y=n(1175),_=r(y),I=n(690),C=window.Logger("Plugin")("logic/pluginimlp"),N=function(e){function t(){var e,n,r,i,o=this;(0,p.default)(this,t);for(var u=arguments.length,l=Array(u),h=0;h<u;h++)l[h]=arguments[h];return n=r=(0,m.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(l))),r.registChannel=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.openClmApi=r.openClmApi,window.backToNativeView=r.backToNativeView,window.isNeedBackToNative=r.isNeedBackToNative;case 3:case"end":return e.stop()}},e,o)})),r.clmApiCallback=function(e,t){if(coreCommon.isIos())window.cordova.exec(null,null,"OCJSBridge","clmApiCallback",[e,t]);else if(coreCommon.isAndroid()){var n=(0,a.default)(t);window.webView.clmApiCallback(e,n)}},r.openClmApi=function(e,t){switch(C.info("openClmApi"),e){case I.PLUGIN_CMD.INIT:r.init(t);break;case I.PLUGIN_CMD.LOGIN:r.login(t);break;case I.PLUGIN_CMD.CREATE_MEETING:r.creatInstantMeeting(t,!1);break;case I.PLUGIN_CMD.CREATE_MEETING_WITH_PARTICIPANTS:r.creatInstantMeeting(t,!0);break;case I.PLUGIN_CMD.JOIN_MEETING_BY_ID:r.joinMeetingById(t);break;default:C.error("call error:cmd not defined"),r.clmApiCallback(e,I.PLUGIN_RESULT.CMD_ERROR)}},r.isNeedBackToNative=function(e){if(C.info("isNeedBackToNative enter,path = ",e),coreCommon.isPc())return!1;var t=window.getRoute();if(isNullOrEmpty(e)||isNullOrEmpty(t))return!1;var n=["callMain","ConfMemberList","mConfMemberPage","mShowQrcode","mSelectBox","mInitShowSelectBox","selectCorporateDirectory","selectPhoneAddress","selectCorporateDirctory"];return n.includes(t)&&!n.includes(e)},r.backToNativeView=function(){},r.handlePreLogin=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $getState().dialogModal.isShowDialog&&(C.info("clear dialog"),window.clearDialogQueueIt($getState().dialogModal.contentStr)),e.next=3,coreCommon.initLogin(!1);case 3:case"end":return e.stop()}},e,o)})),r.handleConfIncoming=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e,o)})),r.handleSipMultiDeviceLogined=function(){C.info("plugin multi device logined "),r.clmApiCallback(I.PLUGIN_CMD.LOGIN,I.PLUGIN_LOGIN_ERROR.MULTI_DEVICE_ONLINE)},r.handleSipOtherPCLogin=function(){C.info("handleSipOtherPCLogin enter");var e=I.PLUGIN_LOGIN_ERROR.OTHER_PC_LOGINED;r.handleSipKickOut(e)},r.handleSipKickOutFinished=function(){var e=I.PLUGIN_LOGIN_ERROR.KICK_OUT;r.handleSipKickOut(e)},r.handleEServerKickOut=function(){var e=I.PLUGIN_LOGIN_ERROR.KICK_OUT;r.handleSipKickOut(e)},r.handleSipKickOut=function(e){C.info("plugin sip kick out ")},r.pluginUserCustomMenuClickNotify=function(){},r.pluginWhiteBoardSharingStateChangedNotify=function(){},r.pluginDataSharingPersonChangedNotify=function(){},i=n,(0,m.default)(r,i)}return(0,v.default)(t,e),t}(_.default);t.default=N},2207:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1),a=r(i),o=n(2),s=r(o),u=n(117),c=r(u),l=n(4),f=r(l),h=n(118),p=r(h),d=n(119),m=r(d),g=function(e){function t(){var e,n,r,i,o=this;(0,f.default)(this,t);for(var u=arguments.length,l=Array(u),h=0;h<u;h++)l[h]=arguments[h];return n=r=(0,p.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(l))),r.init=function(){var e=(0,s.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}(),r.login=function(){var e=(0,s.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}(),r.creatInstantMeeting=function(){var e=(0,s.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,o)}));return function(t,n){return e.apply(this,arguments)}}(),r.joinMeetingById=function(){var e=(0,s.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}(),r.closeApp=(0,s.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,o)})),i=n,(0,p.default)(r,i)}return(0,m.default)(t,e),t}(coreCommon.Interface);t.default=g},2208:function(e,t,n){"use strict";var r=e.exports.Validator=n(2209);e.exports.ValidatorResult=n(423).ValidatorResult,e.exports.ValidationError=n(423).ValidationError,e.exports.SchemaError=n(423).SchemaError,e.exports.SchemaScanResult=n(937).SchemaScanResult,e.exports.scan=n(937).scan,e.exports.validate=function(e,t,n){return(new r).validate(e,t,n)}},2209:function(e,t,n){"use strict";function r(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}var i=n(228),a=n(2210),o=n(423),s=n(937).scan,u=o.ValidatorResult,c=o.SchemaError,l=o.SchemaContext,f=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(h),this.attributes=Object.create(a.validators)};f.prototype.customFormats={},f.prototype.schemas=null,f.prototype.types=null,f.prototype.attributes=null,f.prototype.unresolvedRefs=null,f.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var r=s(t||"/",e),i=t||e.id;for(var a in r.id)this.schemas[a]=r.id[a];for(var a in r.ref)this.unresolvedRefs.push(a);return this.unresolvedRefs=this.unresolvedRefs.filter(function(e){return void 0===n.schemas[e]}),this.schemas[i]},f.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},f.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},f.prototype.setSchemas=function(e){this.schemas=e},f.prototype.getSchema=function(e){return this.schemas[e]},f.prototype.validate=function(e,t,n,r){n||(n={});var a=n.propertyName||"instance",o=i.resolve(n.base||"/",t.id||"");if(!r){r=new l(t,n,a,o,Object.create(this.schemas)),r.schemas[o]||(r.schemas[o]=t);var u=s(o,t);for(var f in u.id){var h=u.id[f];r.schemas[f]=h}}if(t){var p=this.validateSchema(e,t,n,r);if(!p)throw new Error("Result undefined");return p}throw new c("no schema specified",t)},f.prototype.validateSchema=function(e,t,n,i){var s=new u(e,t,n,i);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(t.extends instanceof Array){var f={schema:t,ctx:i};t.extends.forEach(this.schemaTraverser.bind(this,f)),t=f.schema,f.schema=null,f.ctx=null,f=null}else t=o.deepMerge(t,this.superResolve(t.extends,i));var h;if(h=r(t)){var p=this.resolve(t,h,i),d=new l(p.subschema,n,i.propertyPath,p.switchSchema,i.schemas);return this.validateSchema(e,p.subschema,n,d)}var m=n&&n.skipAttributes||[];for(var g in t)if(!a.ignoreProperties[g]&&m.indexOf(g)<0){var v=null,y=this.attributes[g];if(y)v=y.call(this,e,t,n,i);else if(!1===n.allowUnknownAttributes)throw new c("Unsupported attribute: "+g,t);v&&s.importErrors(v)}if("function"==typeof n.rewrite){var _=n.rewrite.call(this,e,t,n,i);s.instance=_}return s},f.prototype.schemaTraverser=function(e,t){e.schema=o.deepMerge(e.schema,this.superResolve(t,e.ctx))},f.prototype.superResolve=function(e,t){var n;return(n=r(e))?this.resolve(e,n,t).subschema:e},f.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var r=i.parse(t),a=r&&r.hash,s=a&&a.length&&t.substr(0,t.length-a.length);if(!s||!n.schemas[s])throw new c("no such schema <"+t+">",e);var u=o.objectGetPath(n.schemas[s],a.substr(1));if(void 0===u)throw new c("no such schema "+a+" located in <"+s+">",e);return{subschema:u,switchSchema:t}},f.prototype.testType=function(e,t,n,r,i){if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var a=this.validateSchema(e,i,n,r);return void 0===a||!(a&&a.errors.length)}return!0};var h=f.prototype.types={};h.string=function(e){return"string"==typeof e},h.number=function(e){return"number"==typeof e&&isFinite(e)},h.integer=function(e){return"number"==typeof e&&e%1==0},h.boolean=function(e){return"boolean"==typeof e},h.array=function(e){return Array.isArray(e)},h.null=function(e){return null===e},h.date=function(e){return e instanceof Date},h.any=function(e){return!0},h.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},e.exports=f},2210:function(e,t,n){"use strict";function r(e,t,n,r,i){var a=t.throwError;t.throwError=!1;var o=this.validateSchema(e,i,t,n);return t.throwError=a,!o.valid&&r instanceof Function&&r(o),o.valid}function i(e,t,n,r,i,a){if(this.types.object(e)&&(!t.properties||void 0===t.properties[i]))if(!1===t.additionalProperties)a.addError({name:"additionalProperties",argument:i,message:"additionalProperty "+JSON.stringify(i)+" exists in instance when not allowed"});else{var o=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,i,o,n,r);var s=this.validateSchema(e[i],o,n,r.makeChild(o,i));s.instance!==a.instance[i]&&(a.instance[i]=s.instance),a.importErrors(s)}}function a(e,t,n){var r,i=n.length;for(r=t+1,i;r<i;r++)if(o.deepCompareStrict(e,n[r]))return!1;return!0}var o=n(423),s=o.ValidatorResult,u=o.SchemaError,c={};c.ignoreProperties={id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0};var l=c.validators={};l.type=function(e,t,n,r){if(void 0===e)return null;var i=new s(e,t,n,r),a=Array.isArray(t.type)?t.type:[t.type];if(!a.some(this.testType.bind(this,e,t,n,r))){var o=a.map(function(e){return e.id&&"<"+e.id+">"||e+""});i.addError({name:"type",argument:o,message:"is not of a type(s) "+o})}return i},l.anyOf=function(e,t,n,i){if(void 0===e)return null;var a=new s(e,t,n,i),o=new s(e,t,n,i);if(!Array.isArray(t.anyOf))throw new u("anyOf must be an array");if(!t.anyOf.some(r.bind(this,e,n,i,function(e){o.importErrors(e)}))){var c=t.anyOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});n.nestedErrors&&a.importErrors(o),a.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return a},l.allOf=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new u("allOf must be an array");var i=new s(e,t,n,r),a=this;return t.allOf.forEach(function(t,o){var s=a.validateSchema(e,t,n,r);if(!s.valid){var u=t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+o+"]";i.addError({name:"allOf",argument:{id:u,length:s.errors.length,valid:s},message:"does not match allOf schema "+u+" with "+s.errors.length+" error[s]:"}),i.importErrors(s)}}),i},l.oneOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new u("oneOf must be an array");var a=new s(e,t,n,i),o=new s(e,t,n,i),c=t.oneOf.filter(r.bind(this,e,n,i,function(e){o.importErrors(e)})).length,l=t.oneOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});return 1!==c&&(n.nestedErrors&&a.importErrors(o),a.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),a},l.properties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r),a=t.properties||{};for(var o in a){"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,o,a[o],n,r);var u=Object.hasOwnProperty.call(e,o)?e[o]:void 0,c=this.validateSchema(u,a[o],n,r.makeChild(a[o],o));c.instance!==i.instance[o]&&(i.instance[o]=c.instance),i.importErrors(c)}return i}},l.patternProperties=function(e,t,n,r){if(this.types.object(e)){var a=new s(e,t,n,r),o=t.patternProperties||{};for(var u in e){var c=!0;for(var l in o){if(new RegExp(l).test(u)){c=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,u,o[l],n,r);var f=this.validateSchema(e[u],o[l],n,r.makeChild(o[l],u));f.instance!==a.instance[u]&&(a.instance[u]=f.instance),a.importErrors(f)}}c&&i.call(this,e,t,n,r,u,a)}return a}},l.additionalProperties=function(e,t,n,r){if(this.types.object(e)){if(t.patternProperties)return null;var a=new s(e,t,n,r);for(var o in e)i.call(this,e,t,n,r,o,a);return a}},l.minProperties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);return Object.keys(e).length>=t.minProperties||i.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),i}},l.maxProperties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);return Object.keys(e).length<=t.maxProperties||i.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),i}},l.items=function(e,t,n,r){var i=this;if(this.types.array(e)&&t.items){var a=new s(e,t,n,r);return e.every(function(e,o){var s=Array.isArray(t.items)?t.items[o]||t.additionalItems:t.items;if(void 0===s)return!0;if(!1===s)return a.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=i.validateSchema(e,s,n,r.makeChild(s,o));return u.instance!==a.instance[o]&&(a.instance[o]=u.instance),a.importErrors(u),!0}),a}},l.minimum=function(e,t,n,r){if(this.types.number(e)){var i=new s(e,t,n,r),a=!0;return a=t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum:e>=t.minimum,a||i.addError({name:"minimum",argument:t.minimum,message:"must have a minimum value of "+t.minimum}),i}},l.maximum=function(e,t,n,r){if(this.types.number(e)){var i,a=new s(e,t,n,r);return i=t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum:e<=t.maximum,i||a.addError({name:"maximum",argument:t.maximum,message:"must have a maximum value of "+t.maximum}),a}};var f=function(e,t,n,r,i,a){if(this.types.number(e)){var c=t[i];if(0==c)throw new u(i+" cannot be zero");var l=new s(e,t,n,r),f=o.getDecimalPlaces(e),h=o.getDecimalPlaces(c),p=Math.max(f,h),d=Math.pow(10,p);return Math.round(e*d)%Math.round(c*d)!=0&&l.addError({name:i,argument:c,message:a+JSON.stringify(c)}),l}};l.multipleOf=function(e,t,n,r){return f.call(this,e,t,n,r,"multipleOf","is not a multiple of (divisible by) ")},l.divisibleBy=function(e,t,n,r){return f.call(this,e,t,n,r,"divisibleBy","is not divisible by (multiple of) ")},l.required=function(e,t,n,r){var i=new s(e,t,n,r);return void 0===e&&!0===t.required?i.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(t){void 0===e[t]&&i.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})}),i},l.pattern=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r);return e.match(t.pattern)||i.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern)}),i}},l.format=function(e,t,n,r){if(void 0!==e){var i=new s(e,t,n,r);return i.disableFormat||o.isFormat(e,t.format,this)||i.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),i}},l.minLength=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)>=t.minLength||i.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),i}},l.maxLength=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)<=t.maxLength||i.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),i}},l.minItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.length>=t.minItems||i.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),i}},l.maxItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.length<=t.maxItems||i.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),i}},l.uniqueItems=function(e,t,n,r){function i(e,t,n){for(var r=t+1;r<n.length;r++)if(o.deepCompareStrict(e,n[r]))return!1;return!0}if(this.types.array(e)){var a=new s(e,t,n,r);return e.every(i)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}},l.uniqueItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.every(a)||i.addError({name:"uniqueItems",message:"contains duplicate item"}),i}},l.dependencies=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);for(var a in t.dependencies)if(void 0!==e[a]){var o=t.dependencies[a],u=r.makeChild(o,a);if("string"==typeof o&&(o=[o]),Array.isArray(o))o.forEach(function(t){void 0===e[t]&&i.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})});else{var c=this.validateSchema(e,o,n,u);i.instance!==c.instance&&(i.instance=c.instance),c&&c.errors.length&&(i.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),i.importErrors(c))}}return i}},l.enum=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new u("enum expects an array",t);var i=new s(e,t,n,r);return t.enum.some(o.deepCompareStrict.bind(null,e))||i.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),i},l.const=function(e,t,n,r){if(void 0===e)return null;var i=new s(e,t,n,r);return o.deepCompareStrict(t.const,e)||i.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),i},l.not=l.disallow=function(e,t,n,r){var i=this;if(void 0===e)return null;var a=new s(e,t,n,r),o=t.not||t.disallow;return o?(Array.isArray(o)||(o=[o]),o.forEach(function(o){if(i.testType(e,t,n,r,o)){var s=o&&o.id&&"<"+o.id+">"||o;a.addError({name:"not",argument:s,message:"is of prohibited type "+s})}}),a):null},e.exports=c},2211:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(67),a=r(i),o=n(1),s=r(o),u=n(2),c=r(u),l=n(117),f=r(l),h=n(4),p=r(h),d=n(5),m=r(d),g=n(118),v=r(g),y=n(119),_=r(y),I=n(1175),C=r(I),N=n(2212),E=r(N),S=n(690),b=n(2213),A=r(b),O=window.Logger("plugin")("logic/index"),P=function(e){function t(){var e=this;(0,p.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return n.registChannel=(0,c.default)(s.default.mark(function t(){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.openClmApi=n.openClmApi,e.next=3,new E.default;case 3:r=e.sent,null!==r?(r.setCmdFunc(n.openClmApi),O.info("initPlugin: Create WebSocket success.")):O.info("initPlugin: Create WebSocket failed.");case 5:case"end":return e.stop()}},t,e)})),n.clmApiCallback=function(){var t=(0,c.default)(s.default.mark(function t(n,r){var i,a,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O.info("pluginCmdCallback: cmd=",n+", result=",r),i=void 0,e.t0=n,e.next=e.t0===S.PLUGIN_CMD.INIT?5:e.t0===S.PLUGIN_CMD.LOGIN?7:e.t0===S.PLUGIN_CMD.CREATE_MEETING?9:e.t0===S.PLUGIN_CMD.CREATE_MEETING_WITH_PARTICIPANTS?11:e.t0===S.PLUGIN_CMD.JOIN_MEETING_BY_ID?13:15;break;case 5:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_INIT,e.abrupt("break",17);case 7:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_LOGIN,e.abrupt("break",17);case 9:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_CREATE_MEETING,e.abrupt("break",17);case 11:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_CREATE_MEETING_WITH_PARTICIPANTS,e.abrupt("break",17);case 13:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_JOIN_MEETING_BY_ID,e.abrupt("break",17);case 15:return O.info("cmd error"),e.abrupt("return");case 17:return e.next=19,new E.default;case 19:a=e.sent,o=0,0!==r.code&&"0"!==r.code&&(o=1),a.postRpsMessage(i,o);case 23:case"end":return e.stop()}},t,e)}));return function(e,n){return t.apply(this,arguments)}}(),n.clmApiNotify=function(){var t=(0,c.default)(s.default.mark(function t(n,r){var i,a,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=void 0,e.t0=n,e.next=e.t0===S.PLUGIN_NOTIFY.CUSTOM_MENU_CLICK?4:e.t0===S.PLUGIN_NOTIFY.DATA_SHARING_STATE_CHANGED?6:e.t0===S.PLUGIN_NOTIFY.DATA_SHARING_PERSON_CHANGED?8:e.t0===S.PLUGIN_NOTIFY.PLUGIN_NOTIFY_USER_WAS_KICKED_OUT?10:12;break;case 4:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_CUSTOM_MENU_CLICK,e.abrupt("break",14);case 6:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_DATA_SHARING_STATE_CHANGED,e.abrupt("break",14);case 8:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_DATA_SHARING_PERSON_CHANGED,e.abrupt("break",14);case 10:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_USER_WAS_KICKED_OUT,e.abrupt("break",14);case 12:return O.info("notify cmd error"),e.abrupt("return");case 14:return a={},a.nty=i,a.description=n,a.result=0,a.param=r,O.info("clmApiNotify: notify=",a),e.next=22,new E.default;case 22:o=e.sent,o.postNotifyMessage(a);case 24:case"end":return e.stop()}},t,e)}));return function(e,n){return t.apply(this,arguments)}}(),n.closeApp=(0,c.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O.info("closeApp begin"),setTimeout(function(){try{appService.exitApp()}catch(e){O.error("closeApp:",{e:e.toJSON()})}},500);case 2:case"end":return e.stop()}},t,e)})),n.openClmApi=function(e){var t=e.cmd;switch(O.info("pluginCmdCallback: cmd=",t),t){case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_INIT:n.init(e.param);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_LOGIN:n.login(e.param);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_CREATE_MEETING:n.creatInstantMeeting(e.param,!1);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_CREATE_MEETING_WITH_PARTICIPANTS:n.creatInstantMeeting(e.param,!0);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_JOIN_MEETING_BY_ID:n.joinMeetingById(e.param);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_EXIT:n.closeApp();break;default:O.error("pluginCmdCallback: not support, data=",(0,a.default)(e))}},n.handlePreLogin=function(){},n.handleConfIncoming=(0,c.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),n.handleSipOtherPCLogin=function(){},n.handleSipKickOutFinished=function(){O.info("plugin: handleSipKickOutFinished");var e=S.PLUGIN_LOGIN_ERROR.KICK_OUT;n.clmApiNotify(S.PLUGIN_NOTIFY.PLUGIN_NOTIFY_USER_WAS_KICKED_OUT,e)},n.handleEServerKickOut=function(){O.info("plugin: handleEServerKickOut");var e=S.PLUGIN_LOGIN_ERROR.KICK_OUT;n.clmApiNotify(S.PLUGIN_NOTIFY.PLUGIN_NOTIFY_USER_WAS_KICKED_OUT,e)},n.pluginUserCustomMenuClickNotify=function(e){n.clmApiNotify(S.PLUGIN_NOTIFY.CUSTOM_MENU_CLICK,e)},n.pluginWhiteBoardSharingStateChangedNotify=function(e){O.info("plugin: pluginWhiteBoardSharingStateChangedNotify param",e);var t={state:e?1:0};n.clmApiNotify(S.PLUGIN_NOTIFY.DATA_SHARING_STATE_CHANGED,t)},n.pluginScreenSharingStateChangedNotify=function(e){O.info("plugin: pluginScreenSharingStateChangedNotify param",e);var t={state:e.state};n.clmApiNotify(S.PLUGIN_NOTIFY.DATA_SHARING_STATE_CHANGED,t)},n.pluginDataSharingPersonChangedNotify=function(e){O.info("plugin: pluginDataSharingPersonChangedNotify param",e),n.clmApiNotify(S.PLUGIN_NOTIFY.DATA_SHARING_PERSON_CHANGED,e)},n.loadExtennal(),n}return(0,_.default)(t,e),(0,m.default)(t,[{key:"loadExtennal",value:function(){new A.default}}]),t}(C.default);t.default=P},2212:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(67),a=r(i),o=n(3),s=r(o),u=n(4),c=r(u),l=n(5),f=r(l),h=window.Logger("plugin")("websocket"),p=null,d=null,m=null,g=function(e){null!==p&&p.sendToTup(e)},v=function(){function e(){var t=this;return(0,c.default)(this,e),d&&p&&0===p.readyState?(h.info("plugin WebSocket is connecting"),d):d=new s.default(function(e,n){p&&1===p.readyState?e(t):(p=new WebSocket("ws://localhost:"+(window.CLIENTCONFIG.API_PORT||"7685"),"clk_plugin_service_protocol"),p.onopen=function(){h.info("plugin WebSocket is opened"),e(t)},p.onclose=function(){h.info("plugin WebSocket is closed"),p=null},p.onerror=function(e){h.info("plugin WebSocket is error, e = ",(0,a.default)(e)),p=null},p.onmessage=function(e){var t=JSON.parse(e.data);h.info("CloudLink Recive plugin message: ",t),t.cmd>0&&"function"==typeof m&&m(t)})})}return(0,f.default)(e,[{key:"setCmdFunc",value:function(e){h.info("set cmd func success"),m=e}},{key:"postRpsMessage",value:function(e,t){var n={description:"",rps:e,opt:0,call:0,result:t};g(n),h.debug("CloudLink Rsp to proxy: rps = "+n.rps+", result = "+n.result)}},{key:"postRpsParamMessage",value:function(e,t,n){var r={description:"",rps:e,opt:0,call:0,result:n,param:t};g(r),h.debug("CloudLink Rsp param to proxy: rps = "+r.rps+", result = "+r.result+", param = "+r.param)}},{key:"postNotifyMessage",value:function(e){h.debug("postNotifyMessage",e),g(e),h.debug("CloudLink notify param to proxy: notify = "+e.nty+", param = "+e.param)}}]),e}();t.default=v},2213:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(67),a=r(i),o=n(4),s=r(o),u=n(5),c=r(u),l=n(690),f=window.Logger("Plugin")("logic/CustomMenu"),h={1033:"en_US",1036:"fr_FR",2052:"zh_CN"},p=function(){function e(){var t=this;(0,s.default)(this,e),this.handleChangeLanguageNotify=function(e){f.info("handleChangeLanguageNotify",e),t.languageName=h[e]||"zh_CN",t.translateAndSendMenu(t.currentUserCustomMenu)},this.handleUserCustomMenuClickNotify=function(e){var n=e.menuType;f.info("handleUserCustomMenuClickNotify",(0,a.default)(e)),1===n?t.switchMenu(e):e.menuIndex=0,coreCommon.dispatchModuleEvent("pluginUserCustomMenuClickNotify",e)},this.switchMenu=function(e){var n=e.menuKey,r=e.menuName;!function i(a){a.forEach(function(a){if(a.id===n){var o=t._getMenuTitle(a.title[0]);a.menuName=r===o?t._getMenuTitle(a.title[1]):o,a.defaultIndex=r===a.title[0][t.languageName]?1:0,e.menuIndex=1===a.defaultIndex?0:1}a.subMenu&&i(a.subMenu)})}(t.currentUserCustomMenu),coreConf.NativeInterface.setCustomMenu(t.currentUserCustomMenu)},this._getMenuTitle=function(e){return e[t.languageName]||e[t.defaultLanguageName]},this.translateAndSendMenu=function(e){0!==e.length&&(e.forEach(function(e){if(e.type===l.PLUGIN_MENU_TYPE.SWITCH){var n=e.defaultIndex,r=void 0===n?0:n;e.menuName=t._getMenuTitle(e.title[r>1?1:r])}else e.menuName=t._getMenuTitle(e.title[0]);e.subMenu&&t.translateAndSendMenu(e.subMenu),e.menuType=e.type,e.menuKey=e.id}),f.info("processInitConfig",(0,a.default)(e)),coreConf.NativeInterface.setCustomMenu(e))},this.processInitConfig=function(e){if(!e.conf||!e.conf.menu||0===e.conf.menu.length)return!1;var n=(0,a.default)(e.conf.menu);t.currentUserCustomMenu=JSON.parse(n),t.translateAndSendMenu(t.currentUserCustomMenu)},this.init()}return(0,c.default)(e,[{key:"init",value:function(){this.registerNotify(),this.currentUserCustomMenu=[],this.languageName=h[window.langcode]||"zh_CN",this.defaultLanguageName="zh_CN"}},{key:"registerNotify",value:function(){coreCommon.registeModuleListener("pluginInitConfig",this.processInitConfig),coreCommon.registeModuleListener("userCustomMenuClick",this.handleUserCustomMenuClickNotify),coreCommon.registeModuleListener("changeLanguage",this.handleChangeLanguageNotify)}},{key:"dispatchNotify",value:function(e,t){coreCommon.dispatchModuleEvent(e,t)}}]),e}();t.default=p},228:function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&c.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function a(e){return c.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function o(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}var u=n(621),c=n(622);t.parse=i,t.resolve=o,t.resolveObject=s,t.format=a,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(p),m=["'"].concat(d),g=["%","/","?",";","#"].concat(m),v=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,I={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},N={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(623);r.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",a=e.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),e=a.join(i);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var f=h.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?E.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=l.exec(s);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,s=s.substr(p.length)}if(n||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||p&&C[p]||(s=s.substr(2),this.slashes=!0)}if(!C[p]&&(S||p&&!N[p])){for(var b=-1,A=0;A<v.length;A++){var O=s.indexOf(v[A]);-1!==O&&(-1===b||O<b)&&(b=O)}var P,w;w=-1===b?s.lastIndexOf("@"):s.lastIndexOf("@",b),-1!==w&&(P=s.slice(0,w),s=s.slice(w+1),this.auth=decodeURIComponent(P)),b=-1;for(var A=0;A<g.length;A++){var O=s.indexOf(g[A]);-1!==O&&(-1===b||O<b)&&(b=O)}-1===b&&(b=s.length),this.host=s.slice(0,b),s=s.slice(b),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var M=this.hostname.split(/\./),A=0,R=M.length;A<R;A++){var T=M[A];if(T&&!T.match(y)){for(var G="",U=0,x=T.length;U<x;U++)T.charCodeAt(U)>127?G+="x":G+=T[U];if(!G.match(y)){var k=M.slice(0,A),D=M.slice(A+1),j=T.match(_);j&&(k.push(j[1]),D.unshift(j[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=u.toASCII(this.hostname));var F=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+F,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!I[d])for(var A=0,R=m.length;A<R;A++){var $=m[A];if(-1!==s.indexOf($)){var J=encodeURIComponent($);J===$&&(J=escape($)),s=s.split($).join(J)}}var q=s.indexOf("#");-1!==q&&(this.hash=s.substr(q),s=s.slice(0,q));var H=s.indexOf("?");if(-1!==H?(this.search=s.substr(H),this.query=s.substr(H+1),t&&(this.query=E.parse(this.query)),s=s.slice(0,H)):t&&(this.search="",this.query={}),s&&(this.pathname=s),N[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",Y=this.search||"";this.path=F+Y}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(a=E.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||N[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+i+n+o+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),a=0;a<i.length;a++){var o=i[a];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=e[l])}return N[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!N[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var p=f[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||C[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=y||v||n.host&&e.pathname,I=_,E=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!N[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(""===d[0]||""===E[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=E.shift();var b=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");b&&(n.auth=b.shift(),n.host=n.hostname=b.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=E.slice(-1)[0],O=(n.host||e.host||E.length>1)&&("."===A||".."===A)||""===A,P=0,w=E.length;w>=0;w--)A=E[w],"."===A?E.splice(w,1):".."===A?(E.splice(w,1),P++):P&&(E.splice(w,1),P--);if(!_&&!I)for(;P--;P)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var L=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(S){n.hostname=n.host=L?"":E.length?E.shift():"";var b=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");b&&(n.auth=b.shift(),n.host=n.hostname=b.shift())}return _=_||n.host&&E.length,_&&!L&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},308:function(e,t,n){e.exports=n(0)(106)},423:function(e,t,n){"use strict";function r(e,t){return t+": "+e.toString()+"\n"}function i(e,t,n,r){"object"==typeof n?t[r]=s(e[r],n):-1===e.indexOf(n)&&t.push(n)}function a(e,t,n){t[n]=e[n]}function o(e,t,n,r){"object"==typeof t[r]&&t[r]&&e[r]?n[r]=s(e[r],t[r]):n[r]=t[r]}function s(e,t){var n=Array.isArray(t),r=n&&[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(i.bind(null,e,r))):(e&&"object"==typeof e&&Object.keys(e).forEach(a.bind(null,e,r)),Object.keys(t).forEach(o.bind(null,e,t,r))),r}function u(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}var c=n(228),l=t.ValidationError=function(e,t,n,r,i,a){r&&(this.property=r),e&&(this.message=e),n&&(n.id?this.schema=n.id:this.schema=n),t&&(this.instance=t),this.name=i,this.argument=a,this.stack=this.toString()};l.prototype.toString=function(){return this.property+" "+this.message};var f=t.ValidatorResult=function(e,t,n,r){this.instance=e,this.schema=t,this.propertyPath=r.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.disableFormat=n&&!0===n.disableFormat};f.prototype.addError=function(e){var t;if("string"==typeof e)t=new l(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new l(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},f.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},f.prototype.toString=function(e){return this.errors.map(r).join("")},Object.defineProperty(f.prototype,"valid",{get:function(){return!this.errors.length}});var h=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};h.prototype=Object.create(Error.prototype,{constructor:{value:h,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var p=t.SchemaContext=function(e,t,n,r,i){this.schema=e,this.options=t,this.propertyPath=n,this.base=r,this.schemas=i};p.prototype.resolve=function(e){return c.resolve(this.base,e)},p.prototype.makeChild=function(e,t){var n=void 0===t?this.propertyPath:this.propertyPath+m(t),r=c.resolve(this.base,e.id||""),i=new p(e,this.options,n,r,Object.create(this.schemas));return e.id&&!i.schemas[r]&&(i.schemas[r]=e),i};var d=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};d.regexp=d.regex,d.pattern=d.regex,d.ipv4=d["ip-address"],t.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==d[t]){if(d[t]instanceof RegExp)return d[t].test(e);if("function"==typeof d[t])return d[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var m=t.makeSuffix=function(e){return e=e.toString(),e.match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};t.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(t instanceof Array)return n instanceof Array&&(t.length===n.length&&t.every(function(r,i){return e(t[i],n[i])}));if("object"==typeof t){if(!t||!n)return t===n;var r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every(function(r){return e(t[r],n[r])})}return t===n},e.exports.deepMerge=s,t.objectGetPath=function(e,t){for(var n,r=t.split("/").slice(1);"string"==typeof(n=r.shift());){var i=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},t.encodePath=function(e){return e.map(u).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var r=n[0].split(".");return 2===r.length&&(t+=r[1].length),t}},621:function(e,t,n){(function(e,r){var i;!function(a){function o(e){throw new RangeError(R[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(M,"."),r+s(e.split("."),t).join(".")}function c(e){for(var t,n,r=[],i=0,a=e.length;i<a;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<a?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=U(e>>>10&1023|55296),e=56320|1023&e),t+=U(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:C}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?G(e/b):e>>1,e+=G(e/t);e>T*E>>1;r+=C)e=G(e/T);return G(r+(T+1)*e/(e+S))}function d(e){var t,n,r,i,a,s,u,c,h,d,m=[],g=e.length,v=0,y=O,_=A;for(n=e.lastIndexOf(P),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&o("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=v,s=1,u=C;i>=g&&o("invalid-input"),c=f(e.charCodeAt(i++)),(c>=C||c>G((I-v)/s))&&o("overflow"),v+=c*s,h=u<=_?N:u>=_+E?E:u-_,!(c<h);u+=C)d=C-h,s>G(I/d)&&o("overflow"),s*=d;t=m.length+1,_=p(v-a,t,0==a),G(v/t)>I-y&&o("overflow"),y+=G(v/t),v%=t,m.splice(v++,0,y)}return l(m)}function m(e){var t,n,r,i,a,s,u,l,f,d,m,g,v,y,_,S=[];for(e=c(e),g=e.length,t=O,n=0,a=A,s=0;s<g;++s)(m=e[s])<128&&S.push(U(m));for(r=i=S.length,i&&S.push(P);r<g;){for(u=I,s=0;s<g;++s)(m=e[s])>=t&&m<u&&(u=m);for(v=r+1,u-t>G((I-n)/v)&&o("overflow"),n+=(u-t)*v,t=u,s=0;s<g;++s)if(m=e[s],m<t&&++n>I&&o("overflow"),m==t){for(l=n,f=C;d=f<=a?N:f>=a+E?E:f-a,!(l<d);f+=C)_=l-d,y=C-d,S.push(U(h(d+_%y,0))),l=G(_/y);S.push(U(h(l,0))),a=p(n,v,r==i),n=0,++r}++n,++t}return S.join("")}function g(e){return u(e,function(e){return w.test(e)?d(e.slice(4).toLowerCase()):e})}function v(e){return u(e,function(e){return L.test(e)?"xn--"+m(e):e})}var y=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var _,I=2147483647,C=36,N=1,E=26,S=38,b=700,A=72,O=128,P="-",w=/^xn--/,L=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=C-N,G=Math.floor,U=String.fromCharCode;_={version:"1.4.1",ucs2:{decode:c,encode:l},decode:d,encode:m,toASCII:v,toUnicode:g},void 0!==(i=function(){return _}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(308)(e),n(139))},622:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},623:function(e,t,n){"use strict";t.decode=t.parse=n(624),t.encode=t.stringify=n(625)},624:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,h,p,d,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),h=m.substr(g+1)):(f=m,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(o,p)?i(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},625:function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(o(e),function(o){var s=encodeURIComponent(i(o))+n;return a(e[o])?r(e[o],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[o]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},67:function(e,t,n){e.exports={default:n(68),__esModule:!0}},68:function(e,t,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLUGIN_CMD={JSLOADED:"jsLoaded",INIT:"init",LOGIN:"login",CREATE_MEETING:"createMeeting",CREATE_MEETING_WITH_PARTICIPANTS:"createMeetingWithParticipants",JOIN_MEETING_BY_ID:"joinMeetingById",EXIT:"exit"},t.PLUGIN_NOTIFY={CUSTOM_MENU_CLICK:"customMenuClick",DATA_SHARING_STATE_CHANGED:"dataSharingStateChanged",DATA_SHARING_PERSON_CHANGED:"dataSharingPersonChanged",PLUGIN_NOTIFY_USER_WAS_KICKED_OUT:"userWasKickedOut"},t.PLUGIN_URL={pluginEnvConfig:"cloudlink://welinksoftclient/startupconfig?model=plugin"},t.PLUGIN_MENU_TYPE={NORMAL:0,SWITCH:1},t.configSchema={id:"/ConfigSchema",type:"object",properties:{conf:{$ref:"/ConfSchema"}}},t.confSchema={id:"/ConfSchema",type:"object",properties:{menu:{type:"array",items:{type:{$ref:"/ConfMenuSchema"}}}}},t.confMenuSchema={id:"/ConfMenuSchema",type:"object",properties:{type:{type:"integer"},id:{type:"string"},title:{type:"array",items:{type:"object",properties:{zh_CN:{type:"string"},en_US:{type:"string"},fr_FR:{type:"string"}},required:["zh_CN"]}},defaultIndex:{type:"integer"},subMenu:{type:"array",items:{type:{$ref:"/ConfMenuSchema"}}}},required:["type","id","title"]},t.PLUGIN_RESULT={SUCCESS:{code:0,msg:"成功"},UNKNOW_ERROR:{code:1001,msg:"未知错误"},REPEAT_ERROR:{code:1002,msg:"正在处理，请勿重复操作"},NET_ERROR:{code:1003,msg:"网络错误"},ARGS_ERROR:{code:1004,msg:"参数错误"},SIP_FAIL:{code:1005,msg:"协议注册失败"},CMD_ERROR:{code:1006,msg:"接口未定义"}},t.PLUGIN_CONF_ERROR={OFFLINE:{code:2001,msg:"未登录"},SIP_UNREGISTER:{code:2002,msg:"协议未注册"}},t.PLUGIN_LOGIN_ERROR={MULTI_DEVICE_ONLINE:{code:3001,msg:"有其他设备已经登录当前账号"},KICK_OUT:{code:3002,msg:"您的账号在其他设备登录，您已被迫下线"},OTHER_PC_LOGINED:{code:3003,msg:"有其他PC设备已经登录当前账号,如需继续操作，请退出其他设备！"}}},937:function(e,t,n){function r(e,t){this.id=e,this.ref=t}var i=n(228),a=n(423);e.exports.SchemaScanResult=r,e.exports.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t){if(t.$ref){var r=i.resolve(e,t.$ref);return void(c[r]=c[r]?c[r]+1:0)}var l=t.id?i.resolve(e,t.id):e;if(l){if(l.indexOf("#")<0&&(l+="#"),u[l]){if(!a.deepCompareStrict(u[l],t))throw new Error("Schema <"+t+"> already exists with different definition");return u[l]}u[l]=t,"#"==l[l.length-1]&&(u[l.substring(0,l.length-1)]=t)}o(l+"/items",t.items instanceof Array?t.items:[t.items]),o(l+"/extends",t.extends instanceof Array?t.extends:[t.extends]),n(l+"/additionalItems",t.additionalItems),s(l+"/properties",t.properties),n(l+"/additionalProperties",t.additionalProperties),s(l+"/definitions",t.definitions),s(l+"/patternProperties",t.patternProperties),s(l+"/dependencies",t.dependencies),o(l+"/disallow",t.disallow),o(l+"/allOf",t.allOf),o(l+"/anyOf",t.anyOf),o(l+"/oneOf",t.oneOf),n(l+"/not",t.not)}}function o(e,t){if(t instanceof Array)for(var r=0;r<t.length;r++)n(e+"/"+r,t[r])}function s(e,t){if(t&&"object"==typeof t)for(var r in t)n(e+"/"+r,t[r])}var u={},c={};return n(e,t),new r(u,c)}}});