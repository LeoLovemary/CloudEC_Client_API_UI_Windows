webpackJsonp([18],{103:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HwDbSdk=void 0;var i=r(121),u=a(i),o=r(4),c=a(o),s=r(2154),l=n(s),p=r(1102),d=n(p),f=r(1103),_=n(f),m=r(1104),y=n(m),v=r(1105),O=n(v),E=r(740),b=n(E),h=r(1101),g=a(h);t.HwDbSdk=function e(){(0,c.default)(this,e),(0,u.default)(this,l),(0,u.default)(this,d),(0,u.default)(this,_),(0,u.default)(this,y),(0,u.default)(this,O),(0,u.default)(this,b),this.HWTupSqlite=g.default}},1101:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(1),i=n(a),u=r(121),o=n(u),c=r(2),s=n(c),l=r(3),p=n(l),d=r(4),f=n(d),_=r(5),m=n(_),y=window.Logger("tup")("sqlite"),v=coreCommon.getTupProtocolClass(),O=function(e){return isNullOrEmpty(e)?0:e},E=null,b=function(){function e(t){var r=this;return(0,f.default)(this,e),new p.default(function(){var e=(0,s.default)(i.default.mark(function e(n,a){var u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u={key:constant.TupModuleKey.sqlite,moduleName:"tup_plugin_service_protocol",webSocketUri:"/sqlite_plugin"},(0,o.default)(u,t),e.next=4,new v(u);case 4:r.tupProtocol=e.sent,n(r);case 6:case"end":return e.stop()}},e,r)}));return function(t,r){return e.apply(this,arguments)}}())}return(0,m.default)(e,[{key:"init",value:function(e,t){var r={cmd:1,description:"tup_sqlite_init_db",param:{_useraccount:t,_dbpath:e}};return this._service(r,1)}},{key:"addsysconfig",value:function(e,t){var r={cmd:2,description:"tup_sqlite_add_sysconfig",param:{_keyvalue:{id:0,strkey:e,strvalue:t}}};return this._service(r,2)}},{key:"delsysconfig",value:function(e,t){var r={cmd:3,description:"tup_sqlite_del_sysconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,3)}},{key:"querysysconfig",value:function(e,t){var r={cmd:4,description:"tup_sqlite_query_sysconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,4)}},{key:"addlogininfo",value:function(e){var t={cmd:5,description:"tup_sqlite_add_logininfo",param:{_logininfo:e}};return this._service(t,5)}},{key:"dellogininfo",value:function(e,t){var r={cmd:6,description:"tup_sqlite_del_logininfo",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,6)}},{key:"querylogininfo",value:function(e,t){var r={cmd:7,description:"tup_sqlite_query_logininfo",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,7)}},{key:"updatelogininfo",value:function(e,t,r){var n={cmd:8,description:"tup_sqlite_update_logininfo",param:{_multimatchinfo:{datalist:e,datalen:t,operationtype:r}}};return this._service(n,8)}},{key:"addcontactgroup",value:function(e){var t={cmd:9,description:"tup_sqlite_add_contactgroup",param:{_contactgroupinfo:e}};return this._service(t,9)}},{key:"addcontactgrouplist",value:function(e){var t={cmd:10,description:"tup_sqlite_add_contactgrouplist",param:{_contactgroupinfolist:e,_arraylen:e.length}};return this._service(t,10)}},{key:"delcontactgroup",value:function(e,t){var r={cmd:11,description:"tup_sqlite_delete_contactgroup",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,11)}},{key:"querycontactgroup",value:function(e,t){var r={cmd:12,description:"tup_sqlite_query_contactgroup",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,12)}},{key:"addcontactgroupmember",value:function(e){var t={cmd:13,description:"tup_sqlite_add_contactgroupmem",param:{_contactgroupmeminfo:e}};return this._service(t,13)}},{key:"addcontactgroupmemberlist",value:function(e){var t={cmd:14,description:"tup_sqlite_add_contactgroupmemlist",param:{_contactgroupmeminfolist:e,_arraylen:e.length}};return this._service(t,14)}},{key:"delcontactgroupmember",value:function(e,t,r){var n={cmd:15,description:"tup_sqlite_delete_contactgroupmem",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,15)}},{key:"querycontactgroupmember",value:function(e,t){var r={cmd:16,description:"tup_sqlite_query_contactgroupmem",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,16)}},{key:"addstaff",value:function(e){var t={cmd:17,description:"tup_sqlite_add_staff",param:{_staffinfo:{id:O(e.id),staffid:e.staff_id,account:e.account,contactid:e.contact_id,name:e.name,qpinyin:e.q_pin_yin,gender:e.gender,mobilephone:e.mobile,officephone:e.office_phone,otherphone:e.other_phone,fax:e.fax,email:e.email,zip:e.postcode,address:e.address,title:e.title,deptname:e.dept_name,imageid:e.image_id,signature:e.signature,website:e.website,bindno:e.bindno,nativename:e.native_name,staffno:e.staff_no,corpname:e.crop_name,deptid:e.dept_id,deptnamecn:e.dept_name_cn,deptnameen:e.dept_name_en,desc:e.desc,foreignname:e.foreign_name,imno:e.im_no,imagesynctime:e.image_sync_time,ipphone:e.ip_phone,issecurity:e.is_security,nickname:e.nick_name,oldaccount:e.old_account,shortphone:e.short_phone,voip:e.voip,modifytime:e.modify_time}}};return this._service(t,17)}},{key:"addstafflist",value:function(e,t){for(var r=new Array,n=0;n<t;++n){var a=e[n];r[n]={id:O(a.id),staffid:a.staff_id,account:a.account,contactid:a.contact_id,name:a.name,qpinyin:a.q_pin_yin,gender:a.gender,mobilephone:a.mobile,officephone:a.office_phone,otherphone:a.other_phone,fax:a.fax,email:a.email,zip:a.postcode,address:a.address,title:a.title,deptname:a.dept_name,imageid:a.image_id,signature:a.signature,website:a.website,bindno:a.bindno,nativename:a.native_name,staffno:a.staff_no,corpname:a.crop_name,deptid:a.dept_id,deptnamecn:a.dept_name_cn,deptnameen:a.dept_name_en,desc:a.desc,foreignname:a.foreign_name,imno:a.im_no,imagesynctime:a.image_sync_time,ipphone:a.ip_phone,issecurity:a.is_security,nickname:a.nick_name,oldaccount:a.old_account,shortphone:a.short_phone,voip:a.voip,modifytime:a.modify_time}}var i={cmd:18,description:"tup_sqlite_add_stafflist",param:{_staffinfolist:r,_arraylen:t}};return this._service(i,18)}},{key:"delstaff",value:function(e,t){var r={cmd:19,description:"tup_sqlite_delete_staff",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,19)}},{key:"querystaff",value:function(e,t){var r={cmd:20,description:"tup_sqlite_query_staff",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,20)}},{key:"addcontact",value:function(e){var t={cmd:21,description:"tup_sqlite_add_contact",param:{_contactinfo:e}};return this._service(t,21)}},{key:"addcontactlist",value:function(e){var t={cmd:22,description:"tup_sqlite_add_contactlist",param:{_contactinfolist:e,_arraylen:e.length}};return this._service(t,22)}},{key:"delcontact",value:function(e,t){var r={cmd:23,description:"tup_sqlite_delete_contactlist",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,23)}},{key:"querycontact",value:function(e,t){var r={cmd:24,description:"tup_sqlite_query_contact",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,24)}},{key:"adduserconfig",value:function(e){var t={cmd:25,description:"tup_sqlite_add_userconfig",param:{_keyvalue:{id:O(e.id),strkey:e.key,strvalue:e.value}}};return this._service(t,25)}},{key:"adduserconfiglist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={id:O(n.id),strkey:n.key,strvalue:n.value}}var a={cmd:75,description:"tup_sqlite_add_userconfiglist",param:{_keyvaluelist:t,_arraylen:e.length}};return this._service(a,75)}},{key:"deluserconfig",value:function(e,t){var r={cmd:26,description:"tup_sqlite_del_userconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,26)}},{key:"queryuserconfig",value:function(e,t){var r={cmd:27,description:"tup_sqlite_query_userconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,27)}},{key:"addgroup",value:function(e){var t={cmd:28,description:"tup_sqlite_add_group",param:{_groupinfo:e}};return this._service(t,28)}},{key:"addgrouplist",value:function(e){var t={cmd:29,description:"tup_sqlite_add_grouplist",param:{_groupinfolist:e,_arraylen:e.length}};return this._service(t,29)}},{key:"delgroup",value:function(e,t){var r={cmd:30,description:"tup_sqlite_delete_groupinfo",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,30)}},{key:"querygroup",value:function(e,t){var r={cmd:31,description:"tup_sqlite_query_groupinfo",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,31)}},{key:"updategroup",value:function(e){var t={cmd:88,description:"tup_sqlite_update_group",param:{_matchinfo:{condition_keytype:e.condition_keytype,condition_value:e.condition_value,_datalen:e.datalist.length,_datalist:e.datalist}}};return this._service(t,88)}},{key:"addgroupmember",value:function(e){var t={cmd:37,description:"tup_sqlite_add_groupmember",param:{_memberinfo:e}};return this._service(t,37)}},{key:"addgroupmemberlist",value:function(e){var t={cmd:38,description:"tup_sqlite_add_groupmemberlist",param:{_memberinfolist:e,_arraylen:e.length}};return this._service(t,38)}},{key:"delgroupmember",value:function(e,t,r){var n={cmd:39,description:"tup_sqlite_delete_groupmember",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,39)}},{key:"querygroupmember",value:function(e,t,r){var n={cmd:40,description:"tup_sqlite_query_groupmember",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,40)}},{key:"addgroupconfig",value:function(e){var t={id:O(e.id),groupid:e.group_id,mutenotifications:e.mute_notifications,savetocontact:e.save_to_contact,stickontop:e.stick_on_top,invitepermission:e.invite_permission,timestamp:e.timestamp},r={cmd:32,description:"tup_sqlite_add_groupconfig",param:{_configinfo:t}};return this._service(r,32)}},{key:"addgroupconfiglist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={id:O(n.id),groupid:n.group_id,mutenotifications:n.mute_notifications,savetocontact:n.save_to_contact,stickontop:n.stick_on_top,invitepermission:n.invite_permission,timestamp:n.timestamp}}var a={cmd:33,description:"tup_sqlite_add_groupconfiglist",param:{_configinfolist:t,_arraylen:e.length}};return this._service(a,33)}},{key:"delgroupconfig",value:function(e,t){var r={cmd:34,description:"tup_sqlite_delete_groupconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,34)}},{key:"querygroupconfig",value:function(e,t){var r={cmd:35,description:"tup_sqlite_query_groupconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,35)}},{key:"addconversation",value:function(e){y.debug("addconversation",e);var t={cmd:41,description:"tup_sqlite_add_conversation",param:{_cvsinfo:e}};return this._service(t,41)}},{key:"addconversationlist",value:function(e){y.debug("addconversation",e);var t={cmd:42,description:"tup_sqlite_add_conversationlist",param:{_cvsinfolist:e,_arraylen:e.length}};return this._service(t,42)}},{key:"delconversation",value:function(e,t){var r={cmd:43,description:"tup_sqlite_delete_conversation",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,43)}},{key:"queryconversation",value:function(e,t){var r={cmd:44,description:"tup_sqlite_query_conversation",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,44)}},{key:"addfile",value:function(e){var t={cmd:46,description:"tup_sqlite_add_filerecord",param:{_filerecordinfo:e}};return this._service(t,46)}},{key:"addfilelist",value:function(e){var t={cmd:47,description:"tup_sqlite_add_filerecordlist",param:{_filerecordlist:e,_arraylen:e.length}};return this._service(t,47)}},{key:"delfile",value:function(e,t){var r={cmd:48,description:"tup_sqlite_delete_filerecord",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,48)}},{key:"queryfile",value:function(e,t,r){var n={cmd:49,description:"tup_sqlite_query_filerecord",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,49)}},{key:"addscreenshot",value:function(e){var t={cmd:50,description:"tup_sqlite_add_screenshotfile",param:{_screenfileinfo:e}};return this._service(t,50)}},{key:"addscreenshotlist",value:function(e){var t={cmd:51,description:"tup_sqlite_add_screenshotfileist",param:{_screenfileinfolist:e,_arraylen:e.length}};return this._service(t,51)}},{key:"delscreenshot",value:function(e,t){var r={cmd:52,description:"tup_sqlite_delete_screenshotfile",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,52)}},{key:"queryscreenshot",value:function(e,t,r){var n={cmd:53,description:"tup_sqlite_query_screenshotfile",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,53)}},{key:"addhistoryrecord",value:function(e){var t={cmd:54,description:"tup_sqlite_add_historyrecord",param:{_historyrecord:e}};return this._service(t,54)}},{key:"addhistoryrecordlist",value:function(e){var t={cmd:55,description:"tup_sqlite_add_historyrecordlist",param:{_historyrecordlist:e,_arraylen:e.length}};return this._service(t,55)}},{key:"deletehistoryrecord",value:function(e,t){var r={cmd:56,description:"tup_sqlite_delete_historyrecord",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,56)}},{key:"queryhistoryrecord",value:function(e,t,r){var n={cmd:57,description:"tup_sqlite_query_historyrecord",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,57)}},{key:"updatehistoryrecord",value:function(e,t,r){var n={cmd:58,description:"tup_sqlite_update_historyrecord",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,58)}},{key:"addgroupcollection",value:function(e){var t={collectionid:e.type_id,name:e.name,state:e.state},r={cmd:59,description:"tup_sqlite_add_groupcollection",param:{_groupcollectinfo:t}};return this._service(r,59)}},{key:"addgroupcollectionlist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={collectionid:n.type_id,name:n.name,state:n.state}}var a={cmd:60,description:"tup_sqlite_add_groupcollectionlist",param:{_groupcollectinfolist:t,_arraylen:e.length}};return this._service(a,60)}},{key:"delgroupcollection",value:function(e,t){var r={cmd:61,description:"tup_sqlite_delete_groupcollection",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,61)}},{key:"querygroupcollection",value:function(e,t){var r={cmd:62,description:"tup_sqlite_query_groupcollection",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,62)}},{key:"addgroupcollectionmem",value:function(e){var t={collectionid:e.type_id,groupid:e.group_id},r={cmd:63,description:"tup_sqlite_add_groupcollectionmem",param:{_groupcollectmeminfo:t}};return this._service(r,63)}},{key:"addgroupcollectionmemlist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={collectionid:n.type_id,groupid:n.group_id}}var a={cmd:64,description:"tup_sqlite_add_groupcollectionmemlist",param:{_groupcollectmeminfolist:t,_arraylen:e.length}};return this._service(a,64)}},{key:"delgroupcollectionmem",value:function(e,t,r){var n={cmd:65,description:"tup_sqlite_delete_groupcollectionmem",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,65)}},{key:"querygroupcollectionmem",value:function(e,t){var r={cmd:66,description:"tup_sqlite_query_groupcollectionmem",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,66)}},{key:"addusertrack",value:function(e){var t={id:O(e.id),content:e.content,retrycount:O(e.retrycount)},r={cmd:67,description:"tup_sqlite_add_usertrack",param:{_usertrackinfo:t}};return this._service(r,67)}},{key:"addusertracklist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={id:O(n.id),content:n.content,retrycount:O(n.retrycount)}}var a={cmd:68,description:"tup_sqlite_add_usertracklist",param:{_usertrackinfolist:t,_arraylen:e.length}};return this._service(a,68)}},{key:"delusertrack",value:function(e,t){var r={cmd:69,description:"tup_sqlite_delete_usertrack",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,69)}},{key:"queryusertrack",value:function(e,t){var r={cmd:70,description:"tup_sqlite_query_usertrack",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,70)}},{key:"addcallrecord",value:function(e){var t={cmd:71,description:"tup_sqlite_add_callrecord",param:{_callrecordinfo:e}};return this._service(t,71)}},{key:"addcallrecordlist",value:function(e){var t={cmd:72,description:"tup_sqlite_add_callrecordlist",param:{_callrecordinfolist:e,_arraylen:e.length}};return this._service(t,72)}},{key:"delcallrecord",value:function(e,t){var r={cmd:73,description:"tup_sqlite_delete_callrecord",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,73)}},{key:"querycallrecord",value:function(e,t,r){var n={cmd:74,description:"tup_sqlite_query_callrecord",param:{_multimatchinfo:{operationtype:e,datalist:t,datalen:r}}};return this._service(n,74)}},{key:"querydiscnumber",value:function(){var e={cmd:76,description:"tup_sqlite_get_discnumber",param:{}};return this._service(e,76)}},{key:"setdbsaltkey",value:function(e,t,r){var n={cmd:77,description:"tup_sqlite_set_saltvalue",param:{plainvalue:e,vecvalue:t,secvalue:r}};return this._service(n,77)}},{key:"getdbsaltkey",value:function(){var e={cmd:78,description:"tup_sqlite_get_saltvalue",param:{}};return this._service(e,78)}},{key:"initdbpath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={cmd:79,description:"tup_sqlite_init_dbpath",param:{_dbpath:e,_logpath:t}};return this._service(r,79)}},{key:"examineEncryptFile",value:function(e,t,r){var n={cmd:80,description:"tup_sqlite_examin_encrypt_file",param:{_encrypt:{aesIv:e,resources_path:t,fail_reason:r}}};return this._service(n,80)}},{key:"addavatartag",value:function(e){var t={cmd:81,description:"tup_sqlite_add_avatartag",param:{_avatartag:e}};return this._service(t,81)}},{key:"delavatartag",value:function(e,t){var r={cmd:82,description:"tup_sqlite_delete_avatartag",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,82)}},{key:"queryavatartag",value:function(e,t){var r={cmd:83,description:"tup_sqlite_query_avatartag",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,83)}},{key:"addofficialaccountsdetail",value:function(e){var t={cmd:84,description:"tup_sqlite_add_officialaccountsdetail",param:{_officialaccountsdetail:e}};return this._service(t,84)}},{key:"addofficialaccountsdetaillist",value:function(e){var t={cmd:85,description:"tup_sqlite_add_officialaccountsdetaillist",param:{__officialaccountsdetaillist:e,_arraylen:e.length}};return this._service(t,85)}},{key:"delofficialaccountsdetail",value:function(e,t){var r={cmd:86,description:"tup_sqlite_delete_officialaccountsdetail",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,86)}},{key:"queryofficialaccountsdetail",value:function(e,t){var r={cmd:87,description:"tup_sqlite_query_officialaccountsdetail",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,87)}},{key:"_service",value:function(e,t){var r=this;return new p.default(function(n,a){if(window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){n({result:0})}else{var i={resolve:n,data:e,rspIdx:t};r.tupProtocol.setRspFuncsAndSendMessage(i)}})}}],[{key:"getinstance",value:function(){return null===E&&(E=new e),E}}]),e}();t.default=b},1102:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGININFO_TYPE={LOGININFO_ID:0,LOGININFO_ACCOUNT:1,LOGININFO_DISPLAYACCOUNT:2,LOGININFO_PWD:3,LOGININFO_AUTOLOGIN:4,LOGININFO_REMPWD:5,LOGININFO_USERRANDOM:6,LOGININFO_TIMESTAMP:7,LOGININFO_ALL:8},t.KEYVALUE_TYPE={KEYVALUE_ID:0,KEYVALUE_KEY:1,KEYVALUE_VALUE:2,KEYVALUE_ALL:3},t.CONTACTGROUP_TYPE={CONTACTGROUP_ID:0,CONTACTGROUP_GROUPID:1,CONTACTGROUP_INDEX:2,CONTACTGROUP_NAME:3,CONTACTGROUP_STATE:4,CONTACTGROUP_ALL:5},t.CONTACTGROUPMEMBER_TYPE={CONTACTGROUPMEM_ID:0,CONTACTGROUPMEM_GROUPID:1,CONTACTGROUPMEM_CONTACTID:2,CONTACTGROUPMEM_STATE:3,CONTACTGROUPMEM_CONTACTID_GROUPID:4,CONTACTGROUPMEM_ALL:5},t.CONTACT_TYPE={CONTACTINFO_ID:0,CONTACTINFO_CONTACTID:1,CONTACTINFO_STAFFID:2,CONTACTINFO_ACCOUNT:3,CONTACTINFO_NAME:4,CONTACTINFO_QPINYIN:5,CONTACTINFO_GENDER:6,CONTACTINFO_MOBILEPHONE:7,CONTACTINFO_OFFICEPHONE:8,CONTACTINFO_OFFICEPHONE2:9,CONTACTINFO_ESPACENUMBER:10,CONTACTINFO_OTHERPHONE:11,CONTACTINFO_FAX:12,CONTACTINFO_EMAIL:13,CONTACTINFO_ZIP:14,CONTACTINFO_ADDRESS:15,CONTACTINFO_TITLE:16,CONTACTINFO_DEPTNAME:17,CONTACTINFO_IMAGEID:18,CONTACTINFO_SIGNATURE:19,CONTACTINFO_WEBSITE:20,CONTACTINFO_BINDNO:21,CONTACTINFO_NATIVENAME:22,CONTACTINFO_STAFFNO:23,CONTACTINFO_CORPNAME:24,CONTACTINFO_DEPTID:25,CONTACTINFO_DEPTNAMECN:26,CONTACTINFO_DEPTNAMEEN:27,CONTACTINFO_DESC:28,CONTACTINFO_FOREIGNNAME:29,CONTACTINFO_IMNO:30,CONTACTINFO_IMAGESYNCTIME:31,CONTACTINFO_IPPHONE:32,CONTACTINFO_ISSECURITY:33,CONTACTINFO_NICKNAME:34,CONTACTINFO_OLDACCOUNT:35,CONTACTINFO_SHORTPHONE:36,CONTACTINFO_VOIP:37,CONTACTINFO_MODIFYTIME:38,CONTACTINFO_PHONENUMBER:39,CONTACTINFO_ALL:40,CONTACTINFO_SEARCHGLOBAL:41,CONTACTINFO_HOMEPHONE:42,CONTACTINFO_OTHERPHONE2:43,CONTACTINFO_ETAG:44,CONTACTINFO_EXPARAM:45,CONTACTINFO_PHONENUMBER_ACCURATE:46,CONTACTINFO_SHOWACCOUNT:47,CONTACTINFO_ALL_DEBUG:48},t.GROUP_TYPE={GROUPINFO_ID:0,GROUPINFO_GROUPID:1,GROUPINFO_GROUP_GROUPID:2,GROUPINFO_CAPACITY:3,GROUPINFO_NAME:4,GROUPINFO_ENNAME:5,GROUPINFO_OWNER:6,GROUPINFO_DESC:7,GROUPINFO_GROUPTYPE:8,GROUPINFO_JOINFLAG:9,GROUPINFO_MANIFESTO:10,GROUPINFO_MSGPOLICYTYPE:11,GROUPINFO_STATE:12,GROUPINFO_SETTOP:13,GROUPINFO_ORDERBY:14,GROUPINFO_TIMESTAMP:15,GROUPINFO_ALL:16,GROUPINFO_SEARCHGLOBAL:17,GROUPINFO_ISFIXED:18,GROUPINFO_EXPARAMS:19,GROUPINFO_SINGLEFILESPACE:20,GROUPINFO_GROUPSPACEID:21,GROUPINFO_GROUPSPACENAME:22},t.GROUPMEMBER_TYPE={GROUPMEMBER_ID:0,GROUPMEMBER_GROUPID:1,GROUPMEMBER_STAFFID:2,GROUPMEMBER_ACCOUNT:3,GROUPMEMBER_NAME:4,GROUPMEMBER_FLAG:5,GROUPMEMBER_GROUPID_STAFFID:6,GROUPMEMBER_ALL:7,GROUPMEMBER_GROUPLIST_BYACCOUNT:8,GROUPMEMBER_SEARCHTEXT:9,GROUPMEMBER_SHOWACCOUNT:12},t.GROUPCONFIG_TYPE={GROUPCONFIG_ID:0,GROUPCONFIG_GROUPID:1,GROUPCONFIG_MUTENOTIFY:2,GROUPCONFIG_SAVETOCONTACT:3,GROUPCONFIG_STICKONTOP:4,GROUPCONFIG_INVITEPERM:5,GROUPCONFIG_TIMESTAMP:6,GROUPCONFIG_ALL:7},t.CONVERSATION_TYPE={CONV_AUTOID:0,CONV_TYPE:1,CONV_ACCOUNT:2,CONV_CONTACTAUTOID:3,CONV_GROUPID:4,CONV_LASTMESSAGE_ID:5,CONV_UNREADMSG:6,CONV_UNREADCALL:7,CONV_ISDELETE:8,CONV_TIMESTAMP:9,CONV_ALL:10,CONV_CONTACTID:11,CONV_LASTSERVERMESSAGE_ID:12,CONV_CONVID:13},t.FILERECORD_TYPE={FILERECORD_ID:0,FILERECORD_CONVID:1,FILERECORD_CONVAUTOID:2,FILERECORD_MESSAGEID:3,FILERECORD_SERVERMESSAGEID:4,FILERECORD_STAFFID:5,FILERECORD_FILEHANDLE:6,FILERECORD_FILEDEALTYPE:7,FILERECORD_FILEPATH:8,FILERECORD_ISP2P:9,FILERECORD_FILENAME:10,FILERECORD_REALNAME:11,FILERECORD_REALPATH:12,FILERECORD_SIZE:13,FILERECORD_UM_URL:14,FILERECORD_UM_ACCESSCODE:15,FILERECORD_ISDOWNLOADED:16,FILERECORD_ISQUOTE:17,FILERECORD_TIMESTAMP:18,FILERECORD_ALL:19,FILERECORD_SEARCHGLOBAL:20,FILERECORD_PAGELIMIT:21},t.SCREENFILE_TYPE={SCREENSHOT_ID:0,SCREENSHOT_CONVID:1,SCREENSHOT_CONVAUTOID:2,SCREENSHOT_MESSAGEID:3,SCREENSHOT_SERVERMESSAGEID:4,SCREENSHOT_STAFFID:5,SCREENSHOT_FILEHANDLE:6,SCREENSHOT_FILEDEALTYPE:7,SCREENSHOT_FILEPATH:8,SCREENSHOT_FILENAME:9,SCREENSHOT_REALNAME:10,SCREENSHOT_REALPATH:11,SCREENSHOT_HEIGHT:12,SCREENSHOT_WIDTH:13,SCREENSHOT_UM_URL:14,SCREENSHOT_UM_ACCESSCODE:15,SCREENSHOT_ISDOWNLOADED:16,SCREENSHOT_ISQUOTE:17,SCREENSHOT_TIMESTAMP:18,SCREENSHOT_ALL:19,SCREENSHOT_SEARCHGLOBAL:20},t.HISTORYRECORD_TYPE={HISTORYRECORD_RECORDID:0,HISTORYRECORD_CONVID:1,HISTORYRECORD_CONVAUTOID:2,HISTORYRECORD_MESSAGEID:3,HISTORYRECORD_CLIENTMESSAGEID:4,HISTORYRECORD_CHATTYPE:5,HISTORYRECORD_CONTENT:6,HISTORYRECORD_CONTENTTYPE:7,HISTORYRECORD_DELIVERTIME:8,HISTORYRECORD_FILELIST:9,HISTORYRECORD_GROUPID:10,HISTORYRECORD_GROUPNAME:11,HISTORYRECORD_PEERNAME:12,HISTORYRECORD_PEERNATIVENAME:13,HISTORYRECORD_ORIGIN:14,HISTORYRECORD_TARGET:15,HISTORYRECORD_SHOWHTML:16,HISTORYRECORD_SHOWTEXT:17,HISTORYRECORD_ISREAD:18,HISTORYRECORD_MEDIATYPE:19,HISTORYRECORD_ISDELETE:20,HISTORYRECORD_SOURCEFLAG:21,HISTORYRECORD_QUOTE:22,HISTORYRECORD_TIMESTAMP:23,HISTORYRECORD_UTCSTAMP:24,HISTORYRECORD_LIMIT:25,HISTORYRECORD_OFFSET:26,HISTORYRECORD_RESERVERINT1:27,HISTORYRECORD_RESERVERINT2:28,HISTORYRECORD_RESERVERSTR1:29,HISTORYRECORD_RESERVERSTR2:30,HISTORYRECORD_UPDATE_UNREADBYCONVID:31,HISTORYRECORD_UPDATE_UNREADBYRECORD:32,HISTORYRECORD_UPDATE_UNREADBEFORECONVMESSAGEID:33,HISTORYRECORD_UPDATE_HTMLBYID:34,HISTORYRECORD_UPDATE_TEXTBYID:35,HISTORYRECORD_UPDATE_BODYANDTEXTBYMSGID:36,HISTORYRECORD_UPDATE_MSGIDBYRECORDID:37,HISTORYRECORD_ALL:38,HISTORY_SEARCHGLOBAL:39},t.GROUPCOLLECTION_TYPE={GROUPCOLLECTION_ID:0,GROUPCOLLECTION_COLLECTID:1,GROUPCOLLECTION_NAME:2,GROUPCOLLECTION_INDEX:3,GROUPCOLLECTION_STATE:4,GROUPCOLLECTION_ALL:5},t.GROUPCOLLECTIONMEM_TYPE={GROUPCOLLECTIONMEM_ID:0,GROUPCOLLECTIONMEM_COLLECTIONID:1,GROUPCOLLECTIONMEM_GROUPID:2,GROUPCOLLECTIONMEM_GROUPID_COLLECTIONID:3,GROUPCOLLECTIONMEM_ALL:4},t.USERTRACK_TYPE={USERTRACK_ID:0,USERTRACK_CONTENT:1,USERTRACK_RETRYCOUNT:2,USERTRACK_ALL:3,USERTRACK_LIMITCOUNT:4,USERTRACK_ALLLENGTH:5},t.AVATARTAG_TYPE={AVATARTAG_ID:0,AVATARTAG_ACCOUNT:1,AVATARTAG_ALL:2},t.OFFICIALACCOUNTSDETAIL_TYPE={OFFICIALACCOUNTSDETAIL_ID:0,OFFICIALACCOUNTSDETAIL_NODEID:1,OFFICIALACCOUNTSDETAIL_ALL:2},t.CALLRECORD_TYPE={CALLRECORD_ID:0,CALLRECORD_PEERACCOUNT:1,CALLRECORD_ISCALLOUT:2,CALLRECORD_CALLERNUMBER:3,CALLRECORD_CALLEENUMBER:4,CALLRECORD_CALLSTATE:5,CALLRECORD_CALLTYPE:6,CALLRECORD_CONFID:7,CALLRECORD_CONFPASSCODE:8,CALLRECORD_CONFMEMBERS:9,CALLRECORD_GROUPID:10,CALLRECORD_STARTTIME:11,CALLRECORD_DURATION:12,CALLRECORD_LIMITCOUNT:13,CALLRECORD_ALL:14,CALLRECORD_EXPARAMS:15,CALLRECORD_ALLCONF:16,CALLRECORD_ALLCALL:17}},1103:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.convertOfficialAccountsDetail2JsList=t.convertCallRecord2JsList=t.convertContactGroupMember2JsList=t.convertContactGroup2JsList=t.convertGroupMember2JsList=t.convertGroupInfo2JsList=t.convertContact2JsList=t.convertRecent2JsList=t.convertMessage2JsList=t.convertScreenShot2JsList=t.convertFile2JsList=t.convertLoginInfo2SQLite=t.convertOfficialAccountsDetailList2SQLite=t.convertOfficialAccountsDetail2SQLite=t.convertAvatarTag2Data=t.convertCallRecord2Data=t.convertCallRecordList2Data=t.convertConfRecord2Data=t.convertContactGroupMemberList2SQLite=t.convertContactGroupMember2SQLite=t.convertContactGroupList2SQLite=t.convertContactGroup2SQLite=t.convertGroupMemberList2SQLite=t.convertGroupMember2SQLite=t.convertGroupList2SQLite=t.convertGroup2SQLite=t.convertContact2SqLiteList=t.convertContact2SqLite=t.convertRecent2SqLiteList=t.convertRecent2SqLite=t.convertMessage2SqLiteList=t.convertMessage2SqLite=t.convertScreenShot2SqLiteList=t.convertScreenShot2SqLite=t.convertFile2SqLiteList=t.convertFile2SqLite=void 0;var a=r(1104),i=n(a),u=r(1105),o=n(u);t.convertFile2SqLite=i.convertFile2SqLite,t.convertFile2SqLiteList=i.convertFile2SqLiteList,t.convertScreenShot2SqLite=i.convertScreenShot2SqLite,t.convertScreenShot2SqLiteList=i.convertScreenShot2SqLiteList,t.convertMessage2SqLite=i.convertMessage2SqLite,t.convertMessage2SqLiteList=i.convertMessage2SqLiteList,t.convertRecent2SqLite=i.convertRecent2SqLite,t.convertRecent2SqLiteList=i.convertRecent2SqLiteList,t.convertContact2SqLite=i.convertContact2SqLite,t.convertContact2SqLiteList=i.convertContact2SqLiteList,t.convertGroup2SQLite=i.convertGroup2SQLite,t.convertGroupList2SQLite=i.convertGroupList2SQLite,t.convertGroupMember2SQLite=i.convertGroupMember2SQLite,t.convertGroupMemberList2SQLite=i.convertGroupMemberList2SQLite,t.convertContactGroup2SQLite=i.convertContactGroup2SQLite,t.convertContactGroupList2SQLite=i.convertContactGroupList2SQLite,t.convertContactGroupMember2SQLite=i.convertContactGroupMember2SQLite,t.convertContactGroupMemberList2SQLite=i.convertContactGroupMemberList2SQLite,t.convertConfRecord2Data=i.convertConfRecord2Data,t.convertCallRecordList2Data=i.convertCallRecordList2Data,t.convertCallRecord2Data=i.convertCallRecord2Data,t.convertAvatarTag2Data=i.convertAvatarTag2Data,t.convertOfficialAccountsDetail2SQLite=i.convertOfficialAccountsDetail2SQLite,t.convertOfficialAccountsDetailList2SQLite=i.convertOfficialAccountsDetailList2SQLite,t.convertLoginInfo2SQLite=i.convertLoginInfo2SQLite,t.convertFile2JsList=o.convertFile2JsList,t.convertScreenShot2JsList=o.convertScreenShot2JsList,t.convertMessage2JsList=o.convertMessage2JsList,t.convertRecent2JsList=o.convertRecent2JsList,t.convertContact2JsList=o.convertContact2JsList,t.convertGroupInfo2JsList=o.convertGroupInfo2JsList,t.convertGroupMember2JsList=o.convertGroupMember2JsList,t.convertContactGroup2JsList=o.convertContactGroup2JsList,t.convertContactGroupMember2JsList=o.convertContactGroupMember2JsList,t.convertCallRecord2JsList=o.convertCallRecord2JsList,t.convertOfficialAccountsDetail2JsList=o.convertOfficialAccountsDetail2JsList},1104:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertLoginInfo2SQLite=t.convertOfficialAccountsDetailList2SQLite=t.convertOfficialAccountsDetail2SQLite=t.convertAvatarTag2Data=t.convertConfRecord2Data=t.convertCallRecord2Data=t.convertCallRecordList2Data=t.convertGroup2SQLite=t.convertGroupList2SQLite=t.convertContactGroupMember2SQLite=t.convertContactGroupMemberList2SQLite=t.convertContactGroup2SQLite=t.convertContactGroupList2SQLite=t.convertGroupMember2SQLite=t.convertGroupMemberList2SQLite=t.convertContact2SqLiteList=t.convertContact2SqLite=t.convertRecent2SqLiteList=t.convertRecent2SqLite=t.convertMessage2SqLiteList=t.convertMessage2SqLite=t.convertScreenShot2SqLiteList=t.convertScreenShot2SqLite=t.convertFile2SqLiteList=t.convertFile2SqLite=void 0;var a=r(129),i=n(a),u=r(67),o=n(u),c=r(126),s=n(c),l=window.Logger("service")("DB/sqLite/convert2SqLite"),p=t.convertFile2SqLite=function(e){try{var t=e.file_deal_type,r=e.file_type,n=t;isNullOrEmpty(r)||(n+=10*r);var a={},i=(0,s.default)({},e);a.width=i.width||0,a.height=i.height||0,a.duration=i.duration||0,a.local=i.send_from_local||0;var u=(0,o.default)(a);return{id:g(i.id),convid:h(i.recent_owner),recordid:g(i.message_id),servermessageid:h(i.message_server_chat_id_str),convautoid:i.recent_id,filehandle:h(i.file_handle),filedealtype:n,filepath:h(i.file_path),isp2p:g(i.is_p2p),filename:h(i.file_name),filerealpath:h(i.file_real_save_path),filerealname:h(i.file_real_save_name),filesize:h(i.file_size),umurl:h(i.um_url),umaccesscode:h(i.um_plain_access_code),isdownloaded:g(b(i)),timestamp:g(i.time_stamp).toString(),isquote:g(i.is_quote),staffid:0,filetype:g(i.file_type),fileid:h(i.file_id),exparams:u}}catch(e){return l.error("convertFile2SqLite",{e:e.toJSON()}),null}},d=(t.convertFile2SqLiteList=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){t.push(p(e))}),t},t.convertScreenShot2SqLite=function(e){try{var t=(0,s.default)({},e);return{id:g(t.id),convid:h(t.recent_owner),recordid:t.message_id,servermessageid:h(t.message_server_chat_id_str),convautoid:t.recent_id,filehandle:h(t.file_handle),filedealtype:t.file_deal_type,filepath:h(t.file_path),filename:h(t.file_name),filerealpath:h(t.file_real_save_path),filerealname:h(t.file_real_save_name),umurl:h(t.um_url),umaccesscode:h(t.um_plain_access_code),isdownloaded:g(b(t)),timestamp:g(t.time_stamp).toString(),isquote:g(t.is_quote),staffid:0,height:h(t.height),width:h(t.width),fileid:h(t.file_id)}}catch(e){return l.error("convertScreenShot2SqLite",{e:e.toJSON()}),null}}),f=(t.convertScreenShot2SqLiteList=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=d(e);t.push(r)}),t},t.convertMessage2SqLite=function(e){try{var t=(0,s.default)({},e),r="",n=-1;if(!isNullOrEmpty(t.file_list)){var a=[].concat((0,i.default)(t.file_list));r=coreCommon.zip((0,o.default)(a))}isNullOrEmpty(t.status)||(n=t.status);var u={is_quote:0,has_quote:0,server_chat_id_str:"",client_chat_id:"",id:"",status:constant.SEND_STATUS.success,cardtype:-1};isNullOrEmpty(t.send_status)||(u.status=t.send_status),u.is_dealed_apply=t.is_dealed_apply,isNullOrEmpty(t.card_type)||(u.cardtype=t.card_type),isNullOrEmpty(t.recent_owner)&&(u.is_quote=1),isNullOrEmpty(t.quote)||(u.has_quote=1,u.server_chat_id_str=t.quote.server_chat_id_str,u.client_chat_id=t.quote.client_chat_id);var c=t.show_html;isNullOrEmpty(c)||(c=coreCommon.zip(c));var p=constant.IS_DELETE.NO;t.is_delete===constant.IS_DELETE.YES&&(p=constant.IS_DELETE.YES);return{recordid:g(t.id)||0,convid:h(t.recent_owner),convautoid:g(t.recent_id),servermessageid:h(t.server_chat_id_str),clientmessageid:g(t.client_chat_id).toString(),chattype:g(t.chat_type),content:h(t.content),contenttype:t.content_type,delivertime:g(t.deliver_time).toString(),groupid:h(t.group_id),groupname:h(t.group_name),peername:h(t.name),peernativename:h(t.native_name),originaccount:h(t.origin),targetaccount:h(t.target),showhtml:h(c),showtext:h(t.show_text),sourceflag:t.source_flag,isread:t.is_read,mediatype:t.media_type,timestamp:h(t.time_stamp),utcstamp:g(t.utc_stamp).toString(),isdelete:p,submsgtype:g(t.sub_msg_type),filelist:r,limitcount:0,offset:0,reservedint1:0,reservedint2:0,reservedstr1:"",reservedstr2:"",quote:h((0,o.default)(u)),status:n}}catch(e){return l.error("convertMessage2SqLite",{e:e.toJSON()}),null}}),_=(t.convertMessage2SqLiteList=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=f(e);t.push(r)}),t},t.convertRecent2SqLite=function(e){try{var t=(0,s.default)({},e),r="",n=0,a="",i=0,u="",c="",p={};coreIm.isGroup(t.chat_type)?a=isNullOrEmpty(t.group)?t.owner||t.group_id||"":t.group.group_id:coreIm.isCustomChat(t.chat_type)?p.name=t.name||t.owner:(isNullOrEmpty(t.contact)?r=t.chat_type===constant.CHAT_TYPE.SYSTEM_NOTIFICATION?"":t.owner||t.account||"":(r=t.contact.account,n=t.contact.id),isNullOrEmpty(t.contact_id)||(c=h(t.contact_id))),isNullOrEmpty(t.last_message)||(i=t.last_message.id||0,u=t.last_message.server_chat_id_str);var d=constant.IS_DELETE.NO;t.is_delete===constant.IS_DELETE.YES&&(d=constant.IS_DELETE.YES),t.is_disable&&(p.is_disable="1"),isNullOrEmpty(t.messageSign)||(p.sign=t.messageSign),isNullOrEmpty(t.set_unread_num)||0===t.set_unread_num||(p.unreadnum=t.set_unread_num),isNullOrEmpty(t.group_name)||(p.groupname=t.group_name),isNullOrEmpty(t.unread_group_notify_num)||0===t.unread_group_notify_num||(p.unread_group_notify_num=t.unread_group_notify_num);var f=(0,o.default)(p);return{id:g(t.id),convtype:g(t.chat_type),account:h(r),contactautoid:g(n),contactid:h(c),groupid:h(a),lastmessagerecordid:i,unreadcall:0,unreadmsg:g(t.unread_num),timestamp:g(t.time_stamp).toString(),isdelete:d,stickontop:g(t.stick_on_top),lastservermessageid:u||"",convid:h(t.owner),exparams:f}}catch(e){return l.error("convertRecent2SqLite",{e:e.toJSON()}),null}}),m=(t.convertRecent2SqLiteList=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=_(e);t.push(r)}),t},t.convertContact2SqLite=function(e){try{return{id:0,staffid:g(e.staff_id),account:h(e.account),etag:h(e.etag),exparam:h(e.exparam),contactid:h(e.contact_id),name:h(e.name),qpinyin:h(e.q_pin_yin),gender:g(e.gender),mobilephone:h(e.mobile),officephone:h(e.office_phone),officephone2:h(e.office_phone2),otherphone:h(e.other_phone),fax:h(e.fax),email:h(e.email),zip:h(e.postcode),address:h(e.address),title:h(e.title),deptname:h(e.dept_name),imageid:h(e.image_id),signature:h(e.signature),website:h(e.website),bindno:h(e.bind_no),nativename:h(e.native_name),homephone:h(e.home_phone),otherphone2:h(e.other_phone2),staffno:h(e.staff_no),corpname:h(e.crop_name),deptid:h(e.dept_id),deptnamecn:h(e.dept_name_cn),deptnameen:h(e.dept_name_en),desc:h(e.desc),foreignname:h(e.foreign_name),imno:h(e.im_no),imagesynctime:h(e.image_sync_time),ipphone:h(e.ip_phone),issecurity:g(e.is_security),nickname:h(e.nick_name),oldaccount:h(e.old_account),shortphone:h(e.short_phone),voip:h(e.voip),modifytime:h(e.modify_time),espacenumber:h(e.espacenumber),showaccount:h(e.show_account),timestamp:h(e.time_stamp)}}catch(e){return l.error("convertContact2SqLite",{e:e.toJSON()}),{}}}),y=(t.convertContact2SqLiteList=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=m(e);t.push(r)}),t},t.convertGroupMemberList2SQLite=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=y(e);t.push(r)}),t},t.convertGroupMember2SQLite=function(e){var t={id:g(e.id),groupid:e.group_id,account:isNullOrEmpty(e.account)?"":e.account,membername:isNullOrEmpty(e.name)?"":e.name,memberstaffid:g(e.staffid),flag:g(e.flag),groupname:h(e.groupname),qpinyin:e.q_pin_yin,showaccount:h(e.show_account)};return t.qpinyin||(t.qpinyin=window.pinyinUtil.getPinyin(t.membername).toUpperCase()),t}),v=(t.convertContactGroupList2SQLite=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=v(e);t.push(r)}),t},t.convertContactGroup2SQLite=function(e){return{id:g(e.id),groupid:e.group_id.toString(),groupindex:e.index,name:e.name,state:e.state,isdefault:e.isDefault||0}}),O=(t.convertContactGroupMemberList2SQLite=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=O(e);t.push(r)}),t},t.convertContactGroupMember2SQLite=function(e){return{id:g(e.id),groupid:h(e.group_id).toString(),contactid:h(e.contact_id),state:e.state}}),E=(t.convertGroupList2SQLite=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=E(e);t.push(r)}),t},t.convertGroup2SQLite=function(e){try{var t=(0,s.default)({},e),r={};isNullOrEmpty(t.is_init_group_name)||(r.is_init_group_name=t.is_init_group_name),isNullOrEmpty(t.sync_member_time)||(r.mtime=t.sync_member_time),isNullOrEmpty(t.single_file_space)||(r.singlefilespace=t.single_file_space),isNullOrEmpty(t.team_notify_is_read)||(r.teamnotifyisread=t.team_notify_is_read);var n=(0,o.default)(r);return{id:g(t.id),groupid:t.group_id,group_groupid:t.group_id,capacity:t.capacity,name:t.name,enname:"",owner:t.owner,desc:t.desc,grouptype:t.group_type,joinflag:t.auto_join_flag,manifesto:t.manifesto,msgpolicytype:t.msg_policy_type,state:g(t.state),singlefilespace:0,settop:0,orderby:0,timestamp:"",isfixed:g(t.fix_discuss),groupspaceid:h(t.group_space_id),groupspacename:h(t.group_space_name),exparams:n}}catch(e){return l.error("convertGroup2SQLite",{e:e.toJSON()}),null}}),b=function(e){var t=(0,s.default)({},e);return t.file_deal_type===constant.FILE_DEAL_TYPE.UPLOAD?t.is_uploaded:t.file_deal_type===constant.FILE_DEAL_TYPE.DOWNLOAD||t.file_deal_type===constant.FILE_DEAL_TYPE.RE_DOWNLOAD?t.is_downloaded:t.file_deal_type===constant.FILE_DEAL_TYPE.SEND?t.is_sent:t.file_deal_type===constant.FILE_DEAL_TYPE.RECEIVE||t.file_deal_type===constant.FILE_DEAL_TYPE.RE_RECEIVE?t.is_received:null},h=function(e){return isNullOrEmpty(e)?"":"string"!=typeof e?e.toString():e},g=function(e){return isNullOrEmpty(e)?0:parseInt(e)},C=(t.convertCallRecordList2Data=function(e){var t=[];return e=[].concat((0,i.default)(e)),e.forEach(function(e){var r=C(e);t.push(r)}),t},t.convertCallRecord2Data=function(e){try{var t=(0,s.default)({},e),r={};isNullOrEmpty(t.isCallSuccess)||(r.isCallSuccess=t.isCallSuccess),isNullOrEmpty(t.callUserName)||(r.callUserName=t.callUserName),isNullOrEmpty(t.isVideo)||(r.isVideo=t.isVideo),isNullOrEmpty(t.contact_id)||(r.contact_id=t.contact_id);var n=(0,o.default)(r);return{id:g(t.id),peeraccount:h(t.peeraccount),iscallout:t.iscallout,callernumber:h(t.callernumber),calleenumber:h(t.calleenumber),confid:h(t.confid),confpasscode:h(t.confpasscode),confmembers:t.confmembers,groupid:h(t.groupid),starttime:t.starttime,callstate:t.callstate,calltype:t.calltype,duration:t.duration,exparams:n}}catch(e){return l.error("convertCallRecord2Data",{e:e.toJSON()}),null}}),L=(t.convertConfRecord2Data=function(e){try{var t=(0,s.default)({},e),r={};isNullOrEmpty(e.media_type)||(r.mtype=e.media_type.toString()),isNullOrEmpty(e.record_type)||(r.rtype=e.record_type),isNullOrEmpty(e.scheduser_name)||(r.sname=e.scheduser_name),isNullOrEmpty(e.scheduser_number)||(r.snum=e.scheduser_number),isNullOrEmpty(e.isInPast)||(r.past=e.isInPast),isNullOrEmpty(e.conf_subject)||(r.subj=e.conf_subject),isNullOrEmpty(e.cycle_conf_id)||(r.ccid=e.cycle_conf_id);var n=(0,o.default)(r),a={id:0,peeraccount:"",iscallout:0,callernumber:"",calleenumber:"",callstate:0,calltype:0,confid:h(t.conf_id),confpasscode:h(t.general_pwd),confmembers:isNullOrEmpty(t.confmembers)?"":t.confmembers,groupid:h(t.groupid),starttime:g(t.starttime),duration:g(t.duration),exparams:n};return a.duration>2147483646&&(a.duration=2147483646),a}catch(e){return l.error("convertConfRecord2Data",{e:e.toJSON()}),null}},t.convertAvatarTag2Data=function(e){return{id:g(e.id),account:h(e.account).toString(),etag_small:h(e.etag_small).toString(),etag_medium:h(e.etag_medium).toString(),etag_large:h(e.etag_large).toString()}},t.convertOfficialAccountsDetail2SQLite=function(e){return{id:g(e.id),nodeID:h(e.nodeID).toString(),qrcodeSmallUrl:h(e.qrcodeSmallUrl).toString(),qrcodeBigUrl:h(e.qrcodeBigUrl).toString(),nodeIconUrl:h(e.nodeIconUrl).toString(),isRequired:g(e.isRequired),isVip:g(e.isVip),privateCode:g(e.privateCode),systemVersion:h(e.systemVersion).toString(),nodeName:h(e.nodeName).toString(),nodeNameEn:h(e.nodeNameEn).toString(),description:h(e.description).toString(),descriptionEn:h(e.descriptionEn).toString(),nodeType:h(e.nodeType).toString(),attentionAll:g(e.attentionAll),isSubscribe:g(e.isSubscribe),exparams:h(e.exparams).toString()}});t.convertOfficialAccountsDetailList2SQLite=function(e){var t=[];return e.forEach(function(e){var r=L(e);t.push(r)}),t},t.convertLoginInfo2SQLite=function(e){var t=!0===e.isAutoLogin?1:0,r=!0===e.isRememberPassWord?1:0;return{id:g(e.id),account:e.account||"",userpwd:e.encryptPassword||"",isautologin:t,isrememberpwd:r,displayaccount:h(e.display_account)||"",userrandom:e.strUserRandom||"",tenantcn:e.tenantcn||"",tenanten:e.tenanten||"",tenantid:e.tenantid||"",thirdcertype:e.thirdcertype||!1,timestamp:h(e.time_stamp)}}},1105:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertOfficialAccountsDetail2JsList=t.convertCallRecord2JsList=t.convertContactGroupMember2JsList=t.convertContactGroup2JsList=t.convertGroupInfo2JsList=t.convertGroupMember2JsList=t.convertContact2JsList=t.convertRecent2JsList=t.convertMessage2JsList=t.convertScreenShot2JsList=t.convertFile2JsList=void 0;var a=r(3),i=n(a),u=r(126),o=n(u),c=r(1),s=n(c),l=r(2),p=n(l),d=r(129),f=n(d),_=r(740),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(_),y=window.Logger("service")("DB/sqLite/convert2Js"),v=(t.convertFile2JsList=function(e){var t=[];return e=[].concat((0,f.default)(e)),e.forEach(function(e){t.push(v(e))}),t},function(e){try{var t={id:e.id,file_handle:e.filehandle,file_deal_type:e.filedealtype,message_server_chat_id_str:e.servermessageid,recent_id:e.convautoid,recent_owner:e.convid,file_real_save_name:e.filerealname,file_real_save_path:e.filerealpath,file_name:e.filename,file_path:e.filepath,is_p2p:e.isp2p,file_size:e.filesize,um_url:e.umurl,time_stamp:parseInt(e.timestamp),um_plain_access_code:e.umaccesscode,message_id:e.recordid,is_quote:e.isquote,file_type:e.filetype,file_id:e.fileid,exparams:e.exparams};if(!isNullOrEmpty(e.exparams)){var r=JSON.parse(e.exparams);t.width=r.width||0,t.height=r.height||0,t.duration=r.duration||0}return t=I(t,e.isdownloaded)}catch(e){y.error("convertFile2Js",{e:e.toJSON()})}}),O=(t.convertScreenShot2JsList=function(e){var t=[];return e=[].concat((0,f.default)(e)),e.forEach(function(e){t.push(O(e))}),t},function(e){try{var t={id:e.id,file_handle:e.filehandle,file_deal_type:e.filedealtype,message_server_chat_id_str:e.servermessageid,recent_id:e.convautoid,recent_owner:e.convid,file_real_save_name:e.filerealname,file_real_save_path:e.filerealpath,file_name:e.filename,file_path:e.filepath,um_url:e.umurl,time_stamp:parseInt(e.timestamp),um_plain_access_code:e.umaccesscode,message_id:e.recordid,is_quote:e.isquote,height:parseInt(e.height),width:parseInt(e.width),file_id:e.fileid};return t=I(t,e.isdownloaded)}catch(e){y.error("convertScreenShot2Js",{e:e.toJSON()})}}),E=(t.convertMessage2JsList=function(){var e=(0,p.default)(s.default.mark(function e(t){var r,n,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],t=[].concat((0,f.default)(t)),n=0;case 3:if(!(n<t.length)){e.next=12;break}return a=t[n],e.next=7,E(a);case 7:a=e.sent,r.push(a);case 9:n++,e.next=3;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),function(){var e=(0,p.default)(s.default.mark(function e(t){var r,n,a,i,u,c,l,p,d,f;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=(0,o.default)({},t),n=r.filelist,a=[],i=constant.SEND_STATUS.success,u=void 0,c=JSON.parse(r.quote),isNullOrEmpty(c.status)||(i=c.status),u=parseInt(c.is_dealed_apply),isNullOrEmpty(n)){e.next=12;break}coreCommon.isZipStr(n)&&(n=coreCommon.unZip(n)),n=n.replace(/\\\\/g,"/"),a=JSON.parse(n),e.next=17;break;case 12:if(!coreIm.hasScreenShot(r.mediatype)){e.next=17;break}return y.debug("convertMessage2Js press 查询截图表"),e.next=16,m.queryScreenShotList({message_server_chat_id_str:r.servermessageid});case 16:a=e.sent;case 17:if(l=r.showhtml,isNullOrEmpty(l)||coreCommon.isZipStr(l)&&(l=coreCommon.unZip(l)),p={},1!==c.has_quote){e.next=41;break}if(c.server_chat_id_str!==r.servermessageid){e.next=25;break}y.info("convertMessage2Js quote.server_chat_id_str === info.servermessageid，no deal"),e.next=41;break;case 25:if(isNullOrEmpty(c.server_chat_id_str)){e.next=31;break}return e.next=28,m.queryMessage({server_chat_id_str:c.server_chat_id_str});case 28:p=e.sent,e.next=41;break;case 31:if(isNullOrEmpty(c.client_chat_id)){e.next=37;break}return e.next=34,m.queryMessage({client_chat_id:c.client_chat_id});case 34:p=e.sent,e.next=41;break;case 37:if(isNullOrEmpty(c.id)){e.next=41;break}return e.next=40,m.queryMessage({id:c.id});case 40:p=e.sent;case 41:if(d={id:r.recordid,recent_id:r.convautoid,recent_owner:r.convid,server_chat_id_str:r.servermessageid,client_chat_id:parseInt(r.clientmessageid),chat_type:r.chattype,content:r.content,content_type:r.contenttype,deliver_time:parseInt(r.delivertime),group_id:r.groupid,group_name:r.groupname,name:r.peername,native_name:r.peernativename,nick_name:c.nick_name,origin:r.originaccount,target:r.targetaccount,show_html:l,sub_msg_type:r.submsgtype?r.submsgtype:0,show_text:r.showtext,source_flag:r.sourceflag,is_read:r.isread,media_type:r.mediatype,time_stamp:parseInt(r.timestamp),utc_stamp:parseInt(r.utcstamp),is_delete:r.isdelete,file_list:a,quote:p,is_quote:c.is_quote,card_type:c.cardtype,status:r.status,send_status:i,is_dealed_apply:u},!(isNullOrEmpty(d.name)&&isNullOrEmpty(d.native_name)&&isNullOrEmpty(d.nick_name))){e.next=50;break}if(d.chat_type===constant.CHAT_TYPE.SYSTEM_NOTIFICATION){e.next=50;break}return e.next=46,coreContact.getContactByAccount(d.origin);case 46:f=e.sent,d.name=f.name,d.native_name=f.native_name,d.nick_name=f.nick_name;case 50:return e.abrupt("return",d);case 53:return e.prev=53,e.t0=e.catch(0),y.error("convertMessage2Js",e.t0.toString()),e.abrupt("return",{});case 57:case"end":return e.stop()}},e,void 0,[[0,53]])}));return function(t){return e.apply(this,arguments)}}()),b=(t.convertRecent2JsList=function(){var e=(0,p.default)(s.default.mark(function e(t){var r,n,a,i,u,o,c,l,p,d,_,v,O,E,g;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,showDealTime("convertRecent2JsList 处理基本信息 Pre"),r=[],n=[].concat((0,f.default)(t)),a=[],i=[],u=[],o=[],c={},l={},p={},d={},_=n.length-1;case 4:if(!(_>-1)){e.next=32;break}return v=n[_],r[_]=b(v),O={},isNullOrEmpty(r[_].exparams)||(O=JSON.parse(r[_].exparams)),isNullOrEmpty(v.convid)?coreIm.isGroup(v.convtype)?(r[_].owner=v.groupid,"1"!==O.is_disable&&i.push(r[_].owner),l[r[_].owner]=_,r[_].group={}):(r[_].owner=v.account||v.contactid,a.push(r[_].owner),c[r[_].owner]=_,r[_].contact={}):coreIm.isGroup(v.convtype)?("1"!==O.is_disable&&i.push(r[_].owner),l[r[_].owner]=_,r[_].group={}):coreIm.isPublicNo(v.convtype)?(u.push(r[_].owner),p[r[_].owner]=_,r[_].publicNoInfo={}):(a.push(r[_].owner),c[r[_].owner]=_,r[_].contact={}),e.next=12,x(v,r[_]);case 12:if(r[_]=e.sent,isNullOrEmpty(v.lastservermessageid)){e.next=18;break}d[v.lastservermessageid]=_,o.push(v.lastservermessageid),e.next=29;break;case 18:if(!(v.lastmessagerecordid>0)){e.next=25;break}return e.next=21,m.queryMessage({id:v.lastmessagerecordid});case 21:E=e.sent,r[_].last_message=E,e.next=29;break;case 25:return e.next=27,m.limitMessageListByNum({recent_owner:r[_].owner,utc_stamp:9999999999999},!0,1);case 27:g=e.sent,isNullOrEmpty(g)||(r[_].last_message=g[0]);case 29:_--,e.next=4;break;case 32:return e.next=34,h(a,c,i,l,o,d,u,p,r);case 34:return r=e.sent,e.abrupt("return",r);case 38:return e.prev=38,e.t0=e.catch(0),y.error("convertRecent2JsList",{e:e.t0.toJSON()}),e.abrupt("return",[]);case 42:case"end":return e.stop()}},e,void 0,[[0,38]])}));return function(t){return e.apply(this,arguments)}}(),function(e){var t=coreGroup.checkIsMuteNotify(e.convid);return{id:e.id,chat_type:e.convtype,unread_num:0,set_unread_num:0,time_stamp:parseInt(e.timestamp),stick_on_top:e.stickontop,account:e.account,group_id:e.groupid,contact_id:e.contactid,isMute:t,owner:e.convid,is_delete:e.isdelete||constant.IS_DELETE.NO,last_message_server_chat_id_str:e.lastservermessageid,is_disable:!1,exparams:e.exparams,messageSign:[]}}),h=function(){var e=(0,p.default)(s.default.mark(function e(t,r,n,a,i,u,o,c,l){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=4;break}return e.next=3,C(t,r,l);case 3:l=e.sent;case 4:if(!(n.length>0)){e.next=8;break}return e.next=7,R(n,a,l);case 7:l=e.sent;case 8:if(!(i.length>0)){e.next=12;break}return e.next=11,T(i,u,l);case 11:l=e.sent;case 12:if(!(o.length>0)){e.next=16;break}return e.next=15,L(o,c,l);case 15:l=e.sent;case 16:return l=g(l),e.abrupt("return",l);case 18:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,a,i,u,o,c,s){return e.apply(this,arguments)}}(),g=function(e){for(var t=0;t<e.length;t++){if(!isNullOrEmpty(e[t].exparams)){var r=JSON.parse(e[t].exparams);"1"===r.is_disable&&(e[t].is_disable=!0),isNullOrEmpty(r.sign)||(e[t].messageSign=r.sign),isNullOrEmpty(r.unreadnum)||(e[t].set_unread_num=r.unreadnum),isNullOrEmpty(r.name)||(e[t].show_name=r.name),isNullOrEmpty(r.groupname)||(e[t].group_name=r.groupname),isNullOrEmpty(r.unread_group_notify_num)||(e[t].unread_group_notify_num=r.unread_group_notify_num)}coreIm.isShowRecent(e[t])?e[t].is_delete=constant.IS_DELETE.NO:e[t].is_delete=constant.IS_DELETE.YES}return e},C=function(){var e=(0,p.default)(s.default.mark(function e(t,r,n){var a,i,u,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.queryContactList({all:"",accountlist:t.join(",")});case 2:if(a=e.sent,a.length>0)for(i=0;i<a.length;++i)u=a[i],o=r[u.account],isNullOrEmpty(o)||(n[o].contact=u);return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),L=function(){var e=(0,p.default)(s.default.mark(function e(t,r,n){var a,i,u,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.queryOfficialAccountsDetailList({all:""});case 2:if(a=e.sent,a.length>0)for(i=0;i<a.length;++i)u=a[i],o=r[u.nodeID],isNullOrEmpty(o)||(n[o].publicNoInfo=u);return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),R=function(){var e=(0,p.default)(s.default.mark(function e(t,r,n){var a,i,u,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.queryGroupListByIdList(t.join(","));case 2:if(a=e.sent,a.length>0)for(i=0;i<a.length;++i)u=a[i],isNullOrEmpty(u)||(o=r[u.group_id],isNullOrEmpty(o)||(n[o].group=u));return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),T=function(){var e=(0,p.default)(s.default.mark(function e(t,r,n){var a,u,o,c,l,p,d;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],u=[],o=t.splitByNum(constant.AppConfig.IM.maxOnceQueryMessageNum),o.forEach(function(e){u.push(m.queryMessageList({server_chat_id_str:e.join(",")}))}),e.next=6,i.default.all(u);case 6:if(c=e.sent,c.forEach(function(e){a=a.concat(e)}),a.length>0)for(l=0;l<a.length;++l)p=a[l],d=r[p.server_chat_id_str],isNullOrEmpty(d)||(n[d].last_message=p);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),x=function(){var e=(0,p.default)(s.default.mark(function e(t,r){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isdelete===constant.IS_DELETE.YES?r.is_delete=constant.IS_DELETE.YES:r.is_delete=constant.IS_DELETE.NO,!isNullOrEmpty(r.owner)){e.next=10;break}if(!isNullOrEmpty(t.contactid)){e.next=9;break}return e.next=5,m.queryContact({contact_id:t.contactid});case 5:n=e.sent,r.contact=n,e.next=10;break;case 9:y.error("queryRecentList no support param");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),A=(t.convertContact2JsList=function(e){var t=[];return e=[].concat((0,f.default)(e)),e.forEach(function(e){t.push(A(e))}),t},function(e){try{return{id:e.id,staff_id:e.staffid,account:e.account,etag:e.etag,contact_id:e.contactid,name:e.name,q_pin_yin:e.qpinyin,gender:e.gender,mobile:e.mobilephone,office_phone:e.officephone,office_phone2:e.officephone2,other_phone:e.otherphone,fax:e.fax,email:e.email,postcode:e.zip,address:e.address,title:e.title,dept_name:e.deptname,image_id:e.imageid,signature:e.signature,website:e.website,bind_no:e.bindno,native_name:e.nativename,staff_no:e.staffno,crop_name:e.corpname,dept_id:e.deptid,dept_name_cn:e.deptnamecn.replace(/\*/g,"-"),dept_name_en:e.deptnameen.replace(/\*/g,"-"),desc:e.desc,foreign_name:e.foreignname,im_no:e.imno,image_sync_time:e.imagesynctime,ip_phone:e.ipphone,is_security:e.issecurity,nick_name:e.nickname,old_account:e.oldaccount,short_phone:e.shortphone,voip:e.voip,modify_time:e.modifytime,home_phone:e.homephone,other_phone2:e.otherphone2,espacenumber:e.espacenumber,exparam:e.exparam,show_account:e.showaccount,time_stamp:e.timestamp}}catch(e){y.error("convertContact2Js",{e:e.toJSON()})}}),N=(t.convertGroupMember2JsList=function(e,t){var r=[];if(e=[].concat((0,f.default)(e)),e.forEach(function(e){r.push(N(e))}),r.sort(function(e,t){return e.q_pin_yin===t.q_pin_yin?0:e.q_pin_yin<t.q_pin_yin?-1:1}),!isNullOrEmpty(t)){var n=r.findIndex(function(e){return e.account===t});if(n>-1){var a=r.splice(n,1);r.unshift(a[0])}}return r},function(e){try{var t={id:e.id,group_id:e.groupid,name:e.membername,staffid:e.memberstaffid,account:e.account,flag:e.flag,groupname:e.groupname,q_pin_yin:e.qpinyin,show_account:e.showaccount};return t.q_pin_yin||(t.q_pin_yin=window.pinyinUtil.getPinyin(t.name).toUpperCase()),t}catch(e){y.error("convertGroupMember2Js",{e:e.toJSON()})}}),S=(t.convertGroupInfo2JsList=function(e){var t=[];return e=[].concat((0,f.default)(e)),e.forEach(function(e){var r=S(e);t.push(r)}),t.sort(function(e,t){return e.q_pin_yin<t.q_pin_yin?-1:1})},function(e){try{var t={id:e.id,group_id:e.groupid,capacity:e.capacity,name:e.name,owner:e.owner,desc:e.desc,group_type:e.grouptype,auto_join_flag:e.joinflag,exparams:e.exparams,manifesto:e.manifesto,msg_policy_type:e.msgpolicytype,state:e.state.toString(),single_file_space:e.singlefilespace,fix_discuss:e.isfixed,sync_member_time:"",group_space_id:e.groupspaceid,group_space_name:e.groupspacename};if(!isNullOrEmpty(t.exparams)){var r=JSON.parse(t.exparams);isNullOrEmpty(r.is_init_group_name)||(t.is_init_group_name=r.is_init_group_name),isNullOrEmpty(r.mtime)||(t.sync_member_time=r.mtime),isNullOrEmpty(r.singlefilespace)||(t.single_file_space=r.singlefilespace),isNullOrEmpty(r.teamnotifyisread)||(t.team_notify_is_read=r.teamnotifyisread)}return t}catch(e){return y.error("convertGroupInfo2Js",{e:e.toJSON()}),{}}}),k=(t.convertContactGroup2JsList=function(e){var t=[];return e=[].concat((0,f.default)(e)),e.forEach(function(e){t.push(k(e))}),t},function(e){try{return{id:e.id,group_id:e.groupid,index:e.groupindex,name:e.name,state:e.state,isDefault:e.isdefault||0}}catch(e){return y.error("convertGroupInfo2Js",{e:e.toJSON()}),{}}}),P=(t.convertContactGroupMember2JsList=function(e){var t=[];return e=[].concat((0,f.default)(e)),e.forEach(function(e){t.push(P(e))}),t},function(e){try{return{id:e.id,group_id:e.groupid,contact_id:e.contactid,state:e.state}}catch(e){return y.error("convertContactGroupMember2Js",{e:e.toJSON()}),{}}}),I=function(e,t){var r=0,n=void 0;return e.file_deal_type>10?(r=parseInt(e.file_deal_type/10),n=e.file_deal_type-10*r):n=e.file_deal_type,n===constant.FILE_DEAL_TYPE.UPLOAD?e.is_uploaded=t:n===constant.FILE_DEAL_TYPE.DOWNLOAD||n===constant.FILE_DEAL_TYPE.RE_DOWNLOAD?e.is_downloaded=t:n===constant.FILE_DEAL_TYPE.SEND?e.is_sent=t:n!==constant.FILE_DEAL_TYPE.RECEIVE&&n!==constant.FILE_DEAL_TYPE.RE_RECEIVE||(e.is_received=t),e.file_deal_type=n,e.file_type=r,0===r&&(e.file_type=constant.FILE_TYPE.NORMAL),e},w=(t.convertCallRecord2JsList=function(e){var t=[];return e=[].concat((0,f.default)(e)),e.forEach(function(e){t.push(w(e))}),t},function(e){try{var t={id:e.id,peeraccount:e.peeraccount,iscallout:e.iscallout,callernumber:e.callernumber,calleenumber:e.calleenumber,confid:e.confid,confpasscode:e.confpasscode,confmembers:e.confmembers,groupid:e.groupid,starttime:e.starttime,callstate:e.callstate,calltype:e.calltype,duration:e.duration,exparams:e.exparams};if(!isNullOrEmpty(t.exparams)){var r=JSON.parse(t.exparams);isNullOrEmpty(r.isCallSuccess)||(t.isCallSuccess=r.isCallSuccess),isNullOrEmpty(r.callUserName)||(t.callUserName=r.callUserName),isNullOrEmpty(r.isVideo)||(t.isVideo=r.isVideo),isNullOrEmpty(r.contact_id)||(t.contact_id=r.contact_id)}return t}catch(e){return y.error("convertCallRecord2Js",{e:e.toJSON()}),{}}}),D=(t.convertOfficialAccountsDetail2JsList=function(e){var t=[];return e=[].concat((0,f.default)(e)),e.forEach(function(e){var r=D(e);t.push(r)}),t},function(e){try{return{id:e.id,nodeID:e.nodeID,qrcodeSmallUrl:e.qrcodeSmallUrl,qrcodeBigUrl:e.qrcodeBigUrl,nodeIconUrl:e.nodeIconUrl,isRequired:e.isRequired,isVip:e.isVip,privateCode:e.privateCode,systemVersion:e.systemVersion,nodeName:e.nodeName,nodeNameEn:e.nodeNameEn,description:e.description,descriptionEn:e.descriptionEn,nodeType:e.nodeType,attentionAll:e.attentionAll,isSubscribe:e.isSubscribe,exparams:e.exparams}}catch(e){return y.error("convertOfficialAccountsDetail2Js",{e:e.toJSON()}),{}}})},121:function(e,t,r){e.exports=r(0)(573)},126:function(e,t,r){e.exports=r(0)(43)},127:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},129:function(e,t,r){"use strict";t.__esModule=!0;var n=r(141),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,a.default)(e)}},132:function(e,t,r){e.exports=r(0)(242)},139:function(e,t,r){e.exports=r(0)(67)},141:function(e,t,r){e.exports={default:r(165),__esModule:!0}},146:function(e,t,r){e.exports=r(0)(97)},165:function(e,t,r){r(22),r(166),e.exports=r(8).Array.from},166:function(e,t,r){"use strict";var n=r(11),a=r(10),i=r(132),u=r(31),o=r(32),c=r(27),s=r(167),l=r(26);a(a.S+a.F*!r(33)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,a,p,d=i(e),f="function"==typeof this?this:Array,_=arguments.length,m=_>1?arguments[1]:void 0,y=void 0!==m,v=0,O=l(d);if(y&&(m=n(m,_>2?arguments[2]:void 0,2)),void 0==O||f==Array&&o(O))for(t=c(d.length),r=new f(t);t>v;v++)s(r,v,y?m(d[v],v):d[v]);else for(p=O.call(d),r=new f;!(a=p.next()).done;v++)s(r,v,y?u(p,m,[a.value,v],!0):a.value);return r.length=v,r}})},167:function(e,t,r){"use strict";var n=r(25),a=r(168);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},168:function(e,t,r){e.exports=r(0)(80)},2154:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.examineEncryptFile=t.initDBPath=t.saveDBKeySalt=t.queryDBKeySalt=t.queryDiscSerialNumber=t.queryCallRecord=t.queryAllCallRecord=t.queryCallRecordList=t.bulkPutCallRecord=t.saveCallRecord=t.deleteUserTrack=t.queryUserTrackList=t.saveUserTrack=t.queryUserConfig=t.deleteUserConfig=t.queryUserConfigList=t.saveUserConfigList=t.saveUserConfig=t.bulkPutRecent=t.bulkPutMessage=t.bulkPutScreenShot=t.bulkPutFile=t.deleteContact=t.deleteGroup=t.deleteContactMemberGroup=t.deleteContactGroup=t.queryContactByPhonenumberAccurate=t.queryContactByNumber=t.queryFileBySearchText=t.queryMessageBySearchText=t.queryContactBySearchText=t.queryAllRecent=t.queryAllGroupTypeMemberList=t.queryAllGroupTypeList=t.queryGroupMemberList=t.bulkPutGroupTypeMemberList=t.bulkPutGroupTypeList=t.deleteGroupMember=t.queryGroupMember=t.bulkPutGroupMember=t.bulkPutGroup=t.queryAllContactMemberGroupList=t.queryAllContactGroupList=t.queryAllContact=t.limitMessageListByNum=t.limitMessageList=t.queryScreenShotList=t.queryScreenShot=t.saveScreenShot=t.deleteRecent=t.queryRecentList=t.queryRecent=t.saveRecent=t.queryMessageList=t.deleteMessage=t.queryMessage=t.saveMessage=t.queryGroupTypeMemberList=t.bulkPutGroupTypeMember=t.queryGroupTypeList=t.bulkPutGroupType=t.queryGroupList=t.queryGroup=t.saveGroup=t.queryFileList=t.queryFile=t.saveFile=t.bulkPutLoginSetting=t.queryContactMemberGroupList=t.bulkPutContactMemberGroup=t.saveContactMemberGroup=t.queryContactGroupList=t.bulkPutContactGroup=t.saveContactGroup=t.queryContactByContactId=t.queryContactList=t.queryContact=t.bulkPutContact=t.saveContact=t.queryAllLoginSetting=t.queryLoginSettingList=t.queryLoginSetting=t.saveLoginSetting=t.cleanEncryptValue=t.queryEncryptValue=t.saveEncryptValue=t.queryAllLoginRecord=t.deleteLoginRecord=t.queryLoginRecordList=t.queryLoginRecord=t.saveLoginRecord=t.initSQLitePrivateDB=void 0;var n=r(740),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),i=a;t.initSQLitePrivateDB=i.initSQLitePrivateDB,t.saveLoginRecord=i.saveLoginRecord,t.queryLoginRecord=i.queryLoginRecord,t.queryLoginRecordList=i.queryLoginRecordList,t.deleteLoginRecord=i.deleteLoginRecord,t.queryAllLoginRecord=i.queryAllLoginRecord,t.saveEncryptValue=i.saveEncryptValue,t.queryEncryptValue=i.queryEncryptValue,t.cleanEncryptValue=i.cleanEncryptValue,t.saveLoginSetting=i.saveLoginSetting,t.queryLoginSetting=i.queryLoginSetting,t.queryLoginSettingList=i.queryLoginSettingList,t.queryAllLoginSetting=i.queryAllLoginSetting,t.saveContact=i.saveContact,t.bulkPutContact=i.bulkPutContact,t.queryContact=i.queryContact,t.queryContactList=i.queryContactList,t.queryContactByContactId=i.queryContactByContactId,t.saveContactGroup=i.saveContactGroup,t.bulkPutContactGroup=i.bulkPutContactGroup,t.queryContactGroupList=i.queryContactGroupList,t.saveContactMemberGroup=i.saveContactMemberGroup,t.bulkPutContactMemberGroup=i.bulkPutContactMemberGroup,t.queryContactMemberGroupList=i.queryContactMemberGroupList,t.bulkPutLoginSetting=i.bulkPutLoginSetting,t.saveFile=i.saveFile,t.queryFile=i.queryFile,t.queryFileList=i.queryFileList,t.saveGroup=i.saveGroup,t.queryGroup=i.queryGroup,t.queryGroupList=i.queryGroupList,t.bulkPutGroupType=i.bulkPutGroupType,t.queryGroupTypeList=i.queryGroupTypeList,t.bulkPutGroupTypeMember=i.bulkPutGroupTypeMember,t.queryGroupTypeMemberList=i.queryGroupTypeMemberList,t.saveMessage=i.saveMessage,t.queryMessage=i.queryMessage,t.deleteMessage=i.deleteMessage,t.queryMessageList=i.queryMessageList,t.saveRecent=i.saveRecent,t.queryRecent=i.queryRecent,t.queryRecentList=i.queryRecentList,t.deleteRecent=i.deleteRecent,t.saveScreenShot=i.saveScreenShot,t.queryScreenShot=i.queryScreenShot,t.queryScreenShotList=i.queryScreenShotList,t.limitMessageList=i.limitMessageList,t.limitMessageListByNum=i.limitMessageListByNum,t.queryAllContact=i.queryAllContact,t.queryAllContactGroupList=i.queryAllContactGroupList,t.queryAllContactMemberGroupList=i.queryAllContactMemberGroupList,t.bulkPutGroup=i.bulkPutGroup,t.bulkPutGroupMember=i.bulkPutGroupMember,t.queryGroupMember=i.queryGroupMember,t.deleteGroupMember=i.deleteGroupMember,t.bulkPutGroupTypeList=i.bulkPutGroupTypeList,t.bulkPutGroupTypeMemberList=i.bulkPutGroupTypeMemberList,t.queryGroupMemberList=i.queryGroupMemberList,t.queryAllGroupTypeList=i.queryAllGroupTypeList,t.queryAllGroupTypeMemberList=i.queryAllGroupTypeMemberList,t.queryAllRecent=i.queryAllRecent,t.queryContactBySearchText=i.queryContactBySearchText,t.queryMessageBySearchText=i.queryMessageBySearchText,t.queryFileBySearchText=i.queryFileBySearchText,t.queryContactByNumber=i.queryContactByNumber,t.queryContactByPhonenumberAccurate=i.queryContactByPhonenumberAccurate,t.deleteContactGroup=i.deleteContactGroup,t.deleteContactMemberGroup=i.deleteContactMemberGroup,t.deleteGroup=i.deleteGroup,t.deleteContact=i.deleteContact,t.bulkPutFile=i.bulkPutFile,t.bulkPutScreenShot=i.bulkPutScreenShot,t.bulkPutMessage=i.bulkPutMessage,t.bulkPutRecent=i.bulkPutRecent,t.saveUserConfig=i.saveUserConfig,t.saveUserConfigList=i.saveUserConfigList,t.queryUserConfigList=i.queryUserConfigList,t.deleteUserConfig=i.deleteUserConfig,t.queryUserConfig=i.queryUserConfig,t.saveUserTrack=i.saveUserTrack,t.queryUserTrackList=i.queryUserTrackList,t.deleteUserTrack=i.deleteusertrack,t.saveCallRecord=i.saveCallRecord,t.bulkPutCallRecord=i.bulkPutCallRecord,t.queryCallRecordList=i.queryCallRecordList,t.queryAllCallRecord=i.queryAllCallRecord,t.queryCallRecord=i.queryCallRecord,t.queryDiscSerialNumber=i.queryDiscSerialNumber,t.queryDBKeySalt=i.queryDBKeySalt,t.saveDBKeySalt=i.saveDBKeySalt,t.initDBPath=i.initDBPath,t.examineEncryptFile=i.examineEncryptFile},2155:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initPublicDbAtomic=void 0;var a=r(1),i=n(a),u=r(2),o=n(u),c=r(740),s=window.Logger("service")("DB/db"),l=function(){var e=(0,o.default)(i.default.mark(function e(){var t,r,n,a,u,o,l,p,d,f,_,m;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=3;break}return s.info("[IT-Meeting] no need to init DB"),e.abrupt("return",coreCommon.ATOMIC_ACTION_RESULT.SUCCESS);case 3:return s.info("initPublicDB start"),e.next=6,(0,c.initDBPath)(window.APP_DATA_PATH,window.SQLITE_LOG_PATH);case 6:return e.next=8,(0,c.uninitSQliteDB)();case 8:return e.next=10,coreSecurity.startKmc();case 10:return e.next=12,(0,c.queryDBKeySalt)();case 12:if(t=e.sent,r=!1,!t||""===t){e.next=49;break}if(!(t.length>60)){e.next=37;break}if(n=t.split("|"),a="",u=n[0],2!==n.length){e.next=34;break}return a=n[1],e.next=23,coreSecurity.decryptKMC(u);case 23:if(!((o=e.sent)&&o.param&&o.param.PlainText&&""!==o.param.PlainText)){e.next=31;break}return s.info("[decrypt] localrandom success "),e.next=28,(0,c.saveDBKeySalt)(o.param.PlainText,a,t);case 28:r=!0,e.next=32;break;case 31:s.info("[decrypt] localrandom fail");case 32:e.next=35;break;case 34:s.info("local random length is not 2");case 35:e.next=49;break;case 37:if(!(t.length<60&&t.length>0)){e.next=48;break}return s.info("local random length less than 60"),e.next=41,coreSecurity.encryptKMC(t);case 41:return l=e.sent,p="",e.next=45,(0,c.saveDBKeySalt)(t,p,l.param.CiperText);case 45:r=!0,e.next=49;break;case 48:s.info("local random is empty");case 49:if(!1!==r){e.next=63;break}return e.next=52,coreSecurity.getRealRandom(16);case 52:return d=e.sent,e.next=55,coreSecurity.encryptKMC(d);case 55:return f=e.sent,e.next=58,coreSecurity.getRealRandom(16);case 58:if(_=e.sent,s.info("initial dbrandwom "),!(f&&f.param&&f.param.CiperText)){e.next=63;break}return e.next=63,(0,c.saveDBKeySalt)(d,_,f.param.CiperText+"|"+_);case 63:return e.next=65,(0,c.initSQLitePublicDB)(window.APP_DATA_PATH);case 65:return m=e.sent,s.info("node env = production"),""===m||void 0!==m.result&&0===m.result||(s.info("check[Encrypt] fail : "+m.result),window.CLIENTCONFIG.ISMOBILE||window.alert(""+language.INVALID_ENCRYPT_FILE_FOUND_CONTENT).then(function(e){appService.exitApp()})),e.abrupt("return",coreCommon.ATOMIC_ACTION_RESULT.SUCCESS);case 69:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),p=new coreCommon.AtomicAction("initPublicDb",l);t.initPublicDbAtomic=p},416:function(e,t,r){(function(e,n){function a(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),h(n.showHidden)&&(n.showHidden=!1),h(n.depth)&&(n.depth=2),h(n.colors)&&(n.colors=!1),h(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),c(n,e,n.depth)}function i(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function u(e,t){return e}function o(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function c(e,r,n){if(e.customInspect&&r&&T(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return E(a)||(a=c(e,a,n)),a}var i=s(e,r);if(i)return i;var u=Object.keys(r),m=o(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(r)),R(r)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return l(r);if(0===u.length){if(T(r)){var y=r.name?": "+r.name:"";return e.stylize("[Function"+y+"]","special")}if(g(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(L(r))return e.stylize(Date.prototype.toString.call(r),"date");if(R(r))return l(r)}var v="",O=!1,b=["{","}"];if(_(r)&&(O=!0,b=["[","]"]),T(r)){v=" [Function"+(r.name?": "+r.name:"")+"]"}if(g(r)&&(v=" "+RegExp.prototype.toString.call(r)),L(r)&&(v=" "+Date.prototype.toUTCString.call(r)),R(r)&&(v=" "+l(r)),0===u.length&&(!O||0==r.length))return b[0]+v+b[1];if(n<0)return g(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var h;return h=O?p(e,r,n,m,u):u.map(function(t){return d(e,r,n,m,t,O)}),e.seen.pop(),f(h,v,b)}function s(e,t){if(h(t))return e.stylize("undefined","undefined");if(E(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return O(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,a){for(var i=[],u=0,o=t.length;u<o;++u)k(t,String(u))?i.push(d(e,t,r,n,String(u),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(d(e,t,r,n,a,!0))}),i}function d(e,t,r,n,a,i){var u,o,s;if(s=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},s.get?o=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(o=e.stylize("[Setter]","special")),k(n,a)||(u="["+a+"]"),o||(e.seen.indexOf(s.value)<0?(o=y(r)?c(e,s.value,null):c(e,s.value,r-1),o.indexOf("\n")>-1&&(o=i?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n"))):o=e.stylize("[Circular]","special")),h(u)){if(i&&a.match(/^\d+$/))return o;u=JSON.stringify(""+a),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+o}function f(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function _(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return null==e}function O(e){return"number"==typeof e}function E(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function h(e){return void 0===e}function g(e){return C(e)&&"[object RegExp]"===A(e)}function C(e){return"object"==typeof e&&null!==e}function L(e){return C(e)&&"[object Date]"===A(e)}function R(e){return C(e)&&("[object Error]"===A(e)||e instanceof Error)}function T(e){return"function"==typeof e}function x(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}function S(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;t.format=function(e){if(!E(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,u=String(e).replace(P,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),o=n[r];r<i;o=n[++r])y(o)||!C(o)?u+=" "+o:u+=" "+a(o);return u},t.deprecate=function(r,a){function i(){if(!u){if(n.throwDeprecation)throw new Error(a);n.traceDeprecation?console.trace(a):console.error(a),u=!0}return r.apply(this,arguments)}if(h(e.process))return function(){return t.deprecate(r,a).apply(this,arguments)};if(!0===n.noDeprecation)return r;var u=!1;return i};var I,w={};t.debuglog=function(e){if(h(I)&&(I=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!w[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var r=n.pid;w[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else w[e]=function(){};return w[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=_,t.isBoolean=m,t.isNull=y,t.isNullOrUndefined=v,t.isNumber=O,t.isString=E,t.isSymbol=b,t.isUndefined=h,t.isRegExp=g,t.isObject=C,t.isDate=L,t.isError=R,t.isFunction=T,t.isPrimitive=x,t.isBuffer=r(682);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",S(),t.format.apply(t,arguments))},t.inherits=r(127),t._extend=function(e,t){if(!t||!C(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(139),r(146))},67:function(e,t,r){e.exports={default:r(68),__esModule:!0}},68:function(e,t,r){var n=r(8),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},682:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},740:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initSQLitePublicDB=t.saveDBKeySalt=t.initDBPath=t.queryDBKeySalt=t.examineEncryptFile=t.queryDiscSerialNumber=t.queryCallRecordList=void 0,t.queryAllCallRecord=t.queryAllConfRecord=t.queryCallRecord=t.delcallrecord=t.bulkPutCallRecord=t.saveConfRecord=t.saveCallRecord=t.queryOfficialAccountsDetailList=t.deleteOfficialAccountsDetail=t.bulkSaveOfficialAccountsDetail=t.saveOfficialAccountsDetail=t.queryAvatarTagList=t.deleteAvatarTag=t.saveAvatarTag=t.deleteusertrack=t.queryUserTrackList=t.saveUserTrack=t.limitMessageListByNum=t.limitMessageList=t.queryMessageList=t.deleteMessage=t.queryMessageBySearchText=t.queryMessage=t.bulkPutMessage=t.saveMessage=t.queryRecentList=t.queryRecent=t.queryAllRecent=t.deleteRecent=t.bulkPutRecent=t.saveRecent=t.queryScreenShotList=t.queryScreenShot=t.bulkPutScreenShot=t.saveScreenShot=t.queryFileList=t.queryFileBySearchText=t.queryFile=t.bulkPutFile=t.saveFile=t.queryAllGroupTypeMemberList=t.queryGroupTypeMemberList=t.bulkPutGroupTypeMemberList=t.bulkPutGroupTypeMember=t.queryAllGroupTypeList=t.queryGroupTypeList=t.bulkPutGroupTypeList=t.bulkPutGroupType=t.queryGroupMemberList=t.deleteGroupMember=t.bulkPutGroupMember=t.updateGroup=t.queryGroupList=t.queryGroup=t.queryGroupListByIdList=t.deleteGroup=t.saveGroup=t.bulkPutGroup=t.deleteContact=t.queryContactList=t.queryContactByPhonenumberAccurate=t.queryContactByNumberAccurate=t.queryContactByContactId=t.queryContactByNumber=t.queryContactBySearchText=t.queryContact=t.queryAllContact=t.bulkPutContact=t.saveContact=t.deleteContactMemberGroup=t.queryAllContactMemberGroupList=t.queryContactMemberGroupList=t.saveContactMemberGroup=t.bulkPutContactMemberGroup=t.deleteContactGroup=t.queryAllContactGroupList=t.queryContactGroupList=t.saveContactGroup=t.bulkPutContactGroup=t.deleteUserConfig=t.queryUserConfigList=t.saveUserConfigList=t.saveUserConfig=t.queryUserConfig=t.queryLoginSetting=t.queryAllLoginSetting=t.queryLoginSettingList=t.saveLoginSetting=t.cleanEncryptValue=t.queryEncryptValue=t.saveEncryptValue=t.bulkPutLoginSetting=t.deleteLoginRecord=t.queryAllLoginRecord=t.queryLoginRecordList=t.queryLoginRecord=t.saveLoginRecord=t.initSQLitePrivateDB=t.uninitSQliteDB=t.initPublicDbAtomic=void 0;var a=r(126),i=n(a),u=r(129),o=n(u),c=r(67),s=n(c),l=r(121),p=n(l),d=r(1),f=n(d),_=r(2),m=n(_),y=r(2155);Object.defineProperty(t,"initPublicDbAtomic",{enumerable:!0,get:function(){return y.initPublicDbAtomic}});var v=r(1101),O=n(v),E=r(1102),b=r(1103),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b),g=r(416),C=window.Logger("service")("DB/sqliteDB"),L=new Array,R=function(e){return(0,g.isNullOrUndefined)(e.recordid)||"number"==typeof e.recordid?(0,g.isNullOrUndefined)(e.convautoid)||"number"==typeof e.convautoid?!(!(0,g.isNullOrUndefined)(e.filedealtype)&&"number"!=typeof e.filedealtype)||(C.error("File filedealtype error!"),!1):(C.error("File convautoid error!"),!1):(C.error("File recordid error!"),!1)},T=function(e){return(0,g.isNullOrUndefined)(e.chattype)||"number"==typeof e.chattype?(0,g.isNullOrUndefined)(e.contenttype)||"number"==typeof e.contenttype?(0,g.isNullOrUndefined)(e.sourceflag)||"number"==typeof e.sourceflag?(0,g.isNullOrUndefined)(e.isread)||"number"==typeof e.isread?!(!(0,g.isNullOrUndefined)(e.mediatype)&&"number"!=typeof e.mediatype)||(C.error("Message mediatype error!"),!1):(C.error("Message isread error!"),!1):(C.error("Message sourceflag error!"),!1):(C.error("Message contenttype error!"),!1):(C.error("Message chattype error!"),!1)},x=function(e){return(0,g.isNullOrUndefined)(e.lastmessagerecordid)||"number"==typeof e.lastmessagerecordid?!(0,g.isNullOrUndefined)(e.lastservermessageid)&&"string"==typeof e.lastservermessageid||(C.error("Recent lastservermessageid error!"),!1):(C.error("Recent lastmessagerecordid error!"),!1)},A=function(e){return!0},N=function(e){return(0,g.isNullOrUndefined)(e.groupid)||"string"!=typeof e.groupid?(C.error("GroupMember groupid error!"),!1):(0,g.isNullOrUndefined)(e.account)||"string"!=typeof e.account?(C.error("GroupMember account error!"),!1):(0,g.isNullOrUndefined)(e.membername)||"string"!=typeof e.membername?(C.error("GroupMember membername error!"),!1):!(0,g.isNullOrUndefined)(e.qpinyin)&&"string"==typeof e.qpinyin||(C.error("GroupMember qpinyin error!"),!1)},S=function(e){return(0,g.isNullOrUndefined)(e.groupid)||"string"!=typeof e.groupid?(C.error("ContactGroup groupid error!"),!1):(0,g.isNullOrUndefined)(e.groupindex)||"number"==typeof e.groupindex?(0,g.isNullOrUndefined)(e.name)||"string"!=typeof e.name?(C.error("ContactGroup name error!"),!1):(0,g.isNullOrUndefined)(e.state)||"number"==typeof e.state?!(!(0,g.isNullOrUndefined)(e.isdefault)&&"number"!=typeof e.isdefault)||(C.error("ContactGroup isdefault error!"),!1):(C.error("ContactGroup state error!"),!1):(C.error("ContactGroup groupindex error!"),!1)},k=function(e){return!(!(0,g.isNullOrUndefined)(e.state)&&"number"!=typeof e.state)||(C.error("ContactGroupMember state error!"),!1)},P=function(e){return(0,g.isNullOrUndefined)(e.groupid)||"string"!=typeof e.groupid?(C.error("Group groupid error!"),!1):(0,g.isNullOrUndefined)(e.group_groupid)||"string"!=typeof e.group_groupid?(C.error("Group group_groupid error!"),!1):(0,g.isNullOrUndefined)(e.capacity)||"number"==typeof e.capacity?(0,g.isNullOrUndefined)(e.name)||"string"!=typeof e.name?(C.error("Group name error!"),!1):(0,g.isNullOrUndefined)(e.owner)||"string"!=typeof e.owner?(C.error("Group owner error!"),!1):(0,g.isNullOrUndefined)(e.desc)||"string"!=typeof e.desc?(C.error("Group desc error!"),!1):(0,g.isNullOrUndefined)(e.grouptype)||"number"==typeof e.grouptype?(0,g.isNullOrUndefined)(e.joinflag)||"number"==typeof e.joinflag?(0,g.isNullOrUndefined)(e.manifesto)||"string"!=typeof e.manifesto?(C.error("Group manifesto error!"),!1):!(!(0,g.isNullOrUndefined)(e.msgpolicytype)&&"number"!=typeof e.msgpolicytype)||(C.error("Group msgpolicytype error!"),!1):(C.error("Group joinflag error!"),!1):(C.error("Group grouptype error!"),!1):(C.error("Group capacity error!"),!1)},I=function(e){return(0,g.isNullOrUndefined)(e.iscallout)||"number"==typeof e.iscallout?(0,g.isNullOrUndefined)(e.confmembers)||"string"!=typeof e.confmembers?(C.error("CallRecord confmembers error!"),!1):(0,g.isNullOrUndefined)(e.starttime)||"number"==typeof e.starttime?(0,g.isNullOrUndefined)(e.callstate)||"number"==typeof e.callstate?(0,g.isNullOrUndefined)(e.calltype)||"number"==typeof e.calltype?!(!(0,g.isNullOrUndefined)(e.duration)&&"number"!=typeof e.duration)||(C.error("CallRecord duration error!"),!1):(C.error("CallRecord calltype error!"),!1):(C.error("CallRecord callstate error!"),!1):(C.error("CallRecord starttime error!"),!1):(C.error("CallRecord iscallout error!"),!1)},w=function(e){return!(0,g.isNullOrUndefined)(e.confmembers)&&"string"==typeof e.confmembers||(C.error("ConfRecord confmembers error!"),!1)},D=function(e){return(0,g.isNullOrUndefined)(e.account)||"string"!=typeof e.account?(C.error("LoginInfo account error!"),!1):(0,g.isNullOrUndefined)(e.userpwd)||"string"!=typeof e.userpwd?(C.error("LoginInfo userpwd error!"),!1):(0,g.isNullOrUndefined)(e.userrandom)||"string"!=typeof e.userrandom?(C.error("LoginInfo userrandom error!"),!1):(0,g.isNullOrUndefined)(e.tenantcn)||"string"!=typeof e.tenantcn?(C.error("LoginInfo tenantcn error!"),!1):(0,g.isNullOrUndefined)(e.tenanten)||"string"!=typeof e.tenanten?(C.error("LoginInfo tenanten error!"),!1):(0,g.isNullOrUndefined)(e.tenantid)||"string"!=typeof e.tenantid?(C.error("LoginInfo tenantid error!"),!1):!(!(0,g.isNullOrUndefined)(e.thirdcertype)&&"boolean"!=typeof e.thirdcertype&&"number"!=typeof e.account)||(C.error("LoginInfo thirdcertype error!"),!1)},q=function(e,t){return isNullOrEmpty(e)||"string"!=typeof e?(C.error("key error!"),!1):!(0,g.isNullOrUndefined)(t)&&"string"==typeof t||(C.error("value error!"),!1)},G=function(e){return!(0,g.isNullOrUndefined)(e.content)&&"string"==typeof e.content||(C.error("UserTrack content error!"),!1)},U=(t.uninitSQliteDB=function(){var e=(0,m.default)(f.default.mark(function e(){var t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L=new Array,C.info("resetInitSQLiteFlag"),e.next=4,new O.default;case 4:return t=e.sent,C.debug("sqliteObj",t),C.debug("window.LOG_PATH",window.LOG_PATH),e.next=9,t.init("","");case 9:C.debug(333333333),C.info("uninitSQliteDB Success");case 11:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.initSQLitePrivateDB=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==L.indexOf(t)){e.next=17;break}return e.next=3,y.initPublicDbAtomic.reset();case 3:return e.next=5,y.initPublicDbAtomic.wait();case 5:return C.info("initSQLitePrivateDB, account : "+handlePhoneNumber(t)),e.next=8,new O.default;case 8:return r=e.sent,e.next=11,r.init("1",t);case 11:return n=e.sent,C.info("initSQLitePrivateDB success"),L.push(t),e.abrupt("return",n);case 17:C.info("initSQLitePrivateDB success, already inited");case 18:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveLoginRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveLoginRecord start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,ae();case 7:if(!((r=e.sent)&&r.length>0)){e.next=11;break}return e.next=11,M({key:"discserialnumber",value:r});case 11:return 1!==t.isRememberPassWord&&"1"!==t.isRememberPassWord||(t.isRememberPassWord=!0),1!==t.isAutoLogin&&"1"!==t.isAutoLogin||(t.isAutoLogin=!0),e.next=15,new O.default;case 15:if(n=e.sent,a=h.convertLoginInfo2SQLite(t),D(a)){e.next=19;break}return e.abrupt("return",{});case 19:return e.next=21,n.addlogininfo(a);case 21:if(i=e.sent,isNullOrEmpty(i)){e.next=25;break}return u=(0,p.default)({},t,{id:i.result}),e.abrupt("return",u);case 25:return e.abrupt("return",{});case 26:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryLoginRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,U(t);case 4:if(r=e.sent,0===r.length){e.next=9;break}return e.abrupt("return",r[0]);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryLoginRecordList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o,c,s;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryLoginRecordList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n={},!t.hasOwnProperty("all")){e.next=13;break}return e.next=10,r.querylogininfo(E.LOGININFO_TYPE.LOGININFO_ALL,"");case 10:n=e.sent,e.next=28;break;case 13:if(!t.hasOwnProperty("account")){e.next=20;break}return C.info("queryLoginRecordList account, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=17,r.querylogininfo(E.LOGININFO_TYPE.LOGININFO_ACCOUNT,t.account.toString());case 17:n=e.sent,e.next=28;break;case 20:if(!t.hasOwnProperty("display_account")){e.next=27;break}return C.info("queryLoginRecordList display_account, value : ",(0,g.isNullOrUndefined)(t.display_account)),e.next=24,r.querylogininfo(E.LOGININFO_TYPE.LOGININFO_DISPLAYACCOUNT,t.display_account.toString());case 24:n=e.sent,e.next=28;break;case 27:C.error("queryLoginRecordList not support, by  param");case 28:if(!n||!n.param||null===n.param._logininfolist){e.next=44;break}return a=!1,e.next=32,ae();case 32:if(i=e.sent,!(i.length>0)){e.next=41;break}return e.next=36,Y({key:"discserialnumber"});case 36:if(u=e.sent,u&&u.value&&u.value.length>0?u.value!==i&&(a=!0):a=!1,!0!==a){e.next=41;break}return e.next=41,M({key:"discserialnumber",value:i});case 41:for(o=new Array,c=0;c<n.param._logininfolist.length;++c)s=n.param._logininfolist[c],o[c]={id:s.id,display_account:s.displayaccount,account:s.account,tenantcn:s.tenantcn||"",tenanten:s.tenanten||"",tenantid:s.tenantid||"",thirdcertype:s.thirdcertype||!1,encryptPassword:s.userpwd,isRememberPassWord:1===s.isrememberpwd,isAutoLogin:1===s.isautologin,strUserRandom:s.userrandom},!0===a&&(o[c].isAutoLogin=!1,o[c].isRememberPassWord=!1,o[c].encryptPassword="");return e.abrupt("return",o);case 44:return e.abrupt("return",[]);case 45:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),M=(t.queryAllLoginRecord=function(){var e=(0,m.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,U({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.deleteLoginRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteLoginRecord start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("account")){e.next=12;break}return C.info("deleteLoginRecord, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=10,r.dellogininfo(E.LOGININFO_TYPE.LOGININFO_ACCOUNT,t.account.toString());case 10:e.next=12;break;case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutLoginSetting=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=10;break}r=0;case 4:if(!(r<t.length)){e.next=10;break}return e.next=7,M(t[r]);case 7:++r,e.next=4;break;case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveEncryptValue=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info(" saveEValue k = "+t.key+"valuelen = ",t.value.length),e.next=3,new O.default;case 3:if(r=e.sent,C.info("saveEncryptValue, info.key : ",isNullOrEmpty(t.key)," info.value : ",(0,g.isNullOrUndefined)(t.value)),q(t.key,t.value)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,r.addsysconfig(t.key,t.value);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryEncryptValue=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info(" queryEValue k = "+t.key),e.next=3,new O.default;case 3:return r=e.sent,n=null,C.info("queryEncryptValue, value : ",(0,g.isNullOrUndefined)(t.key)),e.next=8,r.querysysconfig(E.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 8:if(!((n=e.sent)&&n.param&&null!==n.param._sysconfiglist&&n.param._sysconfiglist.length>=1)){e.next=12;break}return C.info("queryEValue len = "+n.param._sysconfiglist.length+", k = "+n.param._sysconfiglist[0].strkey+", valuelen = "+n.param._sysconfiglist[0].strvalue.length),e.abrupt("return",n.param._sysconfiglist[0].strvalue);case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.cleanEncryptValue=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info(" cleanEValue k = "+t.key),e.next=3,new O.default;case 3:return r=e.sent,C.info("cleanEncryptValue, value : ",(0,g.isNullOrUndefined)(t.key)),e.next=7,r.delsysconfig(E.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveLoginSetting=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveLoginSetting start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=5;break}return e.abrupt("return");case 5:if(!isNullOrEmpty(t)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,new O.default;case 9:if(r=e.sent,n=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=28;break}a=0;case 13:if(!(a<t.length)){e.next=26;break}if(i=void 0,i=isNullOrEmpty(t[a])?"":isNullOrEmpty(t[a].value)?"":t[a].value.toString(),C.info("saveLoginSetting array, info[index].key : ",isNullOrEmpty(t[a].key)," value : ",(0,g.isNullOrUndefined)(i)),q(t[a].key,i)){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,r.addsysconfig(t[a].key,i);case 21:n=e.sent,C.info("saveLoginSetting end array");case 23:++a,e.next=13;break;case 26:e.next=37;break;case 28:if(C.info("saveLoginSetting, info.key : ",isNullOrEmpty(t.key)," info.value.toString() : ",(0,g.isNullOrUndefined)(t.value.toString())),q(t.key,t.value)){e.next=31;break}return e.abrupt("return");case 31:return e.next=33,r.addsysconfig(t.key,t.value.toString());case 33:return n=e.sent,C.info("saveLoginSetting end"),u=(0,p.default)({},t,{id:n.result}),e.abrupt("return",u);case 37:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),F=t.queryLoginSettingList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryLoginSettingList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,new O.default;case 7:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=15;break}return e.next=12,r.querysysconfig(E.KEYVALUE_TYPE.KEYVALUE_ALL,"");case 12:n=e.sent,e.next=23;break;case 15:if(!t.hasOwnProperty("key")){e.next=22;break}return C.info("queryLoginSettingList start, value : ",(0,g.isNullOrUndefined)(t.key)),e.next=19,r.querysysconfig(E.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 19:n=e.sent,e.next=23;break;case 22:C.error("queryLoginSettingList not support query ");case 23:if(e.prev=23,!n||!n.param||null===n.param._sysconfiglist){e.next=28;break}for(a=new Array,i=0;i<n.param._sysconfiglist.length;++i)u=n.param._sysconfiglist[i],a[i]={id:u.id,key:u.strkey,value:u.strvalue};return e.abrupt("return",a);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(23),C.error("queryLoginSettingList error ");case 33:return e.abrupt("return",[]);case 34:case"end":return e.stop()}},e,void 0,[[23,30]])}));return function(t){return e.apply(this,arguments)}}(),Y=(t.queryAllLoginSetting=function(){var e=(0,m.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.abrupt("return",F({all:""}));case 3:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.queryLoginSetting=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,F(t);case 4:if(!((r=e.sent)&&"Array"===r.constructor.name&&r.length>0)){e.next=9;break}return e.abrupt("return",r[0]);case 9:return e.abrupt("return","{}");case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),B=(t.queryUserConfig=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,B(t);case 4:if(r=e.sent,!isNullOrEmpty(r)){e.next=7;break}return e.abrupt("return",{});case 7:return e.abrupt("return",r[0]);case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveUserConfig=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveUserConfig start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,new O.default;case 7:if(r=e.sent,n=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=24;break}a=0;case 11:if(!(a<t.length)){e.next=22;break}if(C.info("saveUserConfig array, key : ",isNullOrEmpty(t[a].key),", value : ",(0,g.isNullOrUndefined)(t[a].value)),q(t[a].key,t[a].value)){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,r.adduserconfig(t[a]);case 17:n=e.sent,-1===n.result&&C.info("value is crossing!");case 19:++a,e.next=11;break;case 22:e.next=33;break;case 24:if(C.info("saveUserConfig, key : ",isNullOrEmpty(t.key),", value : ",(0,g.isNullOrUndefined)(t.value)),q(t.key,t.value)){e.next=27;break}return e.abrupt("return");case 27:return e.next=29,r.adduserconfig(t);case 29:return n=e.sent,-1===n.result&&C.info("value is crossing!"),i=(0,p.default)({},t,{id:n.result}),e.abrupt("return",i);case 33:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveUserConfigList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveUserConfigList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,new O.default;case 7:if(r=e.sent,n=void 0,a=[],!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=20;break}if(t.forEach(function(e){C.info("saveUserConfigList array, key : ",isNullOrEmpty(e.key),", value : ",(0,g.isNullOrUndefined)(e.value)),q(e.key,e.value)&&a.push(e)}),C.info("length : ",a.length),!a){e.next=18;break}return e.next=16,r.adduserconfiglist(a);case 16:n=e.sent,n.result<=0&&C.info(n.result," value is crossing!");case 18:e.next=29;break;case 20:if(C.info("saveUserConfigList, key : ",isNullOrEmpty(t.key),", value : ",(0,g.isNullOrUndefined)(t.value)),q(t.key,t.value)){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,r.adduserconfig(t);case 25:return n=e.sent,-1===n.result&&C.info("value is crossing!"),i=(0,p.default)({},t,{id:n.result}),e.abrupt("return",i);case 29:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryUserConfigList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryUserConfigList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n={},!t.hasOwnProperty("all")){e.next=13;break}return e.next=10,r.queryuserconfig(E.KEYVALUE_TYPE.KEYVALUE_ALL,"");case 10:n=e.sent,e.next=21;break;case 13:if(!t.hasOwnProperty("key")){e.next=20;break}return C.info("queryUserConfigList, value : ",(0,g.isNullOrUndefined)(t.key)),e.next=17,r.queryuserconfig(E.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 17:n=e.sent,e.next=21;break;case 20:C.error("queryUserConfigList no support param");case 21:if(!n||!n.param||null===n.param._userconfiglist){e.next=25;break}for(a=new Array,i=0;i<n.param._userconfiglist.length;++i)u=n.param._userconfiglist[i],a[i]={id:u.id,key:u.strkey,value:u.strvalue};return e.abrupt("return",a);case 25:return e.abrupt("return",[]);case 26:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),H=(t.deleteUserConfig=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteUserConfig start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("key")){e.next=12;break}return C.info("deleteUserConfig, value : ",(0,g.isNullOrUndefined)(t.key)),e.next=10,r.deluserconfig(E.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 10:e.next=12;break;case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutContactGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutContactGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.info("bulkPutContactGroup data is nullOrEmpty"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertContactGroupList2SQLite(t),!(a=n.filter(S))){e.next=14;break}return e.next=14,r.addcontactgrouplist(a);case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveContactGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveContactGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.info("saveContactGroup data is nullOrEmpty"),e.abrupt("return",t);case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertContactGroup2SQLite(t),S(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addcontactgroup(n);case 14:return a=e.sent,e.abrupt("return",(0,p.default)({},t,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactGroupList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryContactGroupList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=11;break}return e.next=10,r.querycontactgroup(E.CONTACTGROUP_TYPE.CONTACTGROUP_ALL,"");case 10:n=e.sent;case 11:if(!n||!n.param||null===n.param._groupinfolist){e.next=14;break}return a=h.convertContactGroup2JsList(n.param._groupinfolist),e.abrupt("return",a);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),V=(t.queryAllContactGroupList=function(){var e=(0,m.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,H({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.deleteContactGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteContactGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("group_id")){e.next=10;break}return C.info("deleteContactGroup, value : ",(0,g.isNullOrUndefined)(t.group_id)),e.next=10,r.delcontactgroup(E.CONTACTGROUP_TYPE.CONTACTGROUP_GROUPID,t.group_id.toString());case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutContactMemberGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutContactMemberGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.info("bulkPutContactGroup data is nullOrEmpty"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertContactGroupMemberList2SQLite(t),!(a=n.filter(k))){e.next=14;break}return e.next=14,r.addcontactgroupmemberlist(a);case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveContactMemberGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveContactMemberGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.info("saveContactGroup  data is nullOrEmpty"),e.abrupt("return",t);case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertContactGroupMember2SQLite(t),k(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addcontactgroupmember(n);case 14:return a=e.sent,e.abrupt("return",(0,p.default)({},t,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactMemberGroupList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryContactMemberGroupList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=13;break}return e.next=10,r.querycontactgroupmember(E.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_ALL,"");case 10:n=e.sent,e.next=21;break;case 13:if(!t.hasOwnProperty("group_id")){e.next=20;break}return C.info("queryContactMemberGroupList, value : ",(0,g.isNullOrUndefined)(t.group_id)),e.next=17,r.querycontactgroupmember(E.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_GROUPID,t.group_id.toString());case 17:n=e.sent,e.next=21;break;case 20:C.error("queryContactMemberGroupList no support param");case 21:if(!n||!n.param||null===n.param._groupmeminfolist){e.next=24;break}return a=h.convertContactGroupMember2JsList(n.param._groupmeminfolist),e.abrupt("return",a);case 24:return e.abrupt("return",[]);case 25:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),J=(t.queryAllContactMemberGroupList=function(){var e=(0,m.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,V({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.deleteContactMemberGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteContactMemberGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("contact_id")||!t.hasOwnProperty("group_id")){e.next=17;break}return n=E.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_CONTACTID_GROUPID,a=new Array,a[0]={keytype:E.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_CONTACTID,match_value:t.contact_id.toString()},a[1]={keytype:E.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_GROUPID,match_value:t.group_id.toString()},C.info("deleteContactMemberGroup contact_id, operationtype : ",(0,g.isNullOrUndefined)(n)," ,datalist.length : ",(0,g.isNullOrUndefined)(a.length)),a.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=15,r.delcontactgroupmember(n,a,a.length);case 15:e.next=25;break;case 17:if(!t.hasOwnProperty("group_id")){e.next=25;break}return i=E.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_GROUPID,u=new Array,u[0]={keytype:E.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_GROUPID,match_value:t.group_id.toString()},C.info("deleteContactMemberGroup group_id, operationtype : ",(0,g.isNullOrUndefined)(i)," ,datalist.length : ",(0,g.isNullOrUndefined)(u.length)),u.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=25,r.delcontactgroupmember(i,u,u.length);case 25:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveContact=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveContact start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveContact 空数据"),e.abrupt("return",{});case 6:return e.next=8,new O.default;case 8:r=e.sent,n=h.convertContact2SqLite(t,u),e.next=12;break;case 12:return e.next=14,r.addcontact(n);case 14:return a=e.sent,i=(0,p.default)({},t,{id:a.result}),e.abrupt("return",i);case 17:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutContact=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutContact start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("bulkPutContact 空数据"),e.abrupt("return");case 6:return r=50,e.next=9,new O.default;case 9:n=e.sent,a=t.splitByNum(r),i=0;case 12:if(!(i<a.length)){e.next=21;break}if(u=h.convertContact2SqLiteList(a[i]),!(o=u.filter(A))){e.next=18;break}return e.next=18,n.addcontactlist(u);case 18:i++,e.next=12;break;case 21:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAllContact=function(){var e=(0,m.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,Q({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.queryContact=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,Q(t);case 4:if(r=e.sent,0===r.length){e.next=7;break}return e.abrupt("return",r[0]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),Q=(t.queryContactBySearchText=function(){var e=(0,m.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,Q({searchtext:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactByNumber=function(){var e=(0,m.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,Q({phonenumber:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactByContactId=function(){var e=(0,m.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,J({contact_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactByNumberAccurate=function(){var e=(0,m.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,Q({phonenumber_accurate:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactByPhonenumberAccurate=function(){var e=(0,m.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J({phonenumber_accurate:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryContactList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,!t.hasOwnProperty("account")){e.next=14;break}return C.info("queryContactList account, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=11,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_ACCOUNT,t.account.toString());case 11:n=e.sent,e.next=69;break;case 14:if(!t.hasOwnProperty("phonenumber")){e.next=21;break}return C.info("queryContactList phonenumber, value : ",(0,g.isNullOrUndefined)(t.phonenumber)),e.next=18,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_PHONENUMBER,t.phonenumber.toString());case 18:n=e.sent,e.next=69;break;case 21:if(!t.hasOwnProperty("all")){e.next=34;break}if(!t.hasOwnProperty("accountlist")){e.next=29;break}return C.info("queryContactList accountlist, value : ",(0,g.isNullOrUndefined)(t.accountlist)),e.next=26,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_ALL,t.accountlist.toString());case 26:n=e.sent,e.next=32;break;case 29:return e.next=31,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_ALL,"");case 31:n=e.sent;case 32:e.next=69;break;case 34:if(!t.hasOwnProperty("searchtext")){e.next=41;break}return C.info("queryContactList searchtext, value : ",(0,g.isNullOrUndefined)(t.searchtext)),e.next=38,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_SEARCHGLOBAL,t.searchtext.toString());case 38:n=e.sent,e.next=69;break;case 41:if(!t.hasOwnProperty("contact_id")){e.next=48;break}return C.info("queryContactList contact_id, value : ",(0,g.isNullOrUndefined)(t.contact_id)),e.next=45,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_CONTACTID,t.contact_id.toString());case 45:n=e.sent,e.next=69;break;case 48:if(!t.hasOwnProperty("phonenumber_accurate")){e.next=55;break}return C.info("queryContactList phonenumber_accurate, value : ",(0,g.isNullOrUndefined)(t.phonenumber_accurate)),e.next=52,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_PHONENUMBER_ACCURATE,t.phonenumber_accurate.toString());case 52:n=e.sent,e.next=69;break;case 55:if(!t.hasOwnProperty("show_account")){e.next=62;break}return C.info("queryContactList show_account, value : ",(0,g.isNullOrUndefined)(t.show_account)),e.next=59,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_SHOWACCOUNT,t.show_account.toString());case 59:n=e.sent,e.next=69;break;case 62:if(!t.hasOwnProperty("all_debug")){e.next=68;break}return e.next=65,r.querycontact(E.CONTACT_TYPE.CONTACTINFO_ALL_DEBUG,"");case 65:n=e.sent,e.next=69;break;case 68:return e.abrupt("return",[]);case 69:if(!n||!n.param||null===n.param._contactinfolist){e.next=73;break}return a=n.param._contactinfolist,i=h.convertContact2JsList(a),e.abrupt("return",i);case 73:return e.abrupt("return",[]);case 74:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),K=(t.deleteContact=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteContact start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("deleteContact data null"),e.abrupt("return",{});case 6:return e.next=8,new O.default;case 8:if(r=e.sent,!t.hasOwnProperty("all")){e.next=15;break}return e.next=12,r.delcontact(E.CONTACT_TYPE.CONTACTINFO_ALL,"");case 12:return e.abrupt("return",e.sent);case 15:if(!t.hasOwnProperty("id")){e.next=22;break}return C.info("deleteContact id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=19,r.delcontact(E.CONTACT_TYPE.CONTACTINFO_ID,t.id.toString());case 19:return e.abrupt("return",e.sent);case 22:if(!t.hasOwnProperty("show_account")){e.next=27;break}return C.info("deleteContact show_account, value : ",(0,g.isNullOrUndefined)(t.show_account)),e.next=26,r.delcontact(E.CONTACT_TYPE.CONTACTINFO_SHOWACCOUNT,t.show_account.toString());case 26:return e.abrupt("return",e.sent);case 27:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("bulkPutGroup 空数据"),e.abrupt("return");case 6:return r=50,e.next=9,new O.default;case 9:n=e.sent,a=t.splitByNum(r),i=0;case 12:if(!(i<a.length)){e.next=21;break}if(u=h.convertGroupList2SQLite(a[i]),!(o=u.filter(P))){e.next=18;break}return e.next=18,n.addgrouplist(o);case 18:i++,e.next=12;break;case 21:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveGroup 空数据"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertGroup2SQLite(t),P(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addgroup(n);case 14:return a=e.sent,i=(0,p.default)({},t,{id:a.result}),e.abrupt("return",i);case 17:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteGroup start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("group_id")){e.next=11;break}return C.info("deleteGroup, value : ",(0,g.isNullOrUndefined)(t.group_id)),e.next=10,r.delgroup(E.GROUP_TYPE.GROUPINFO_GROUPID,t.group_id.toString());case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryGroupListByIdList=function(){var e=(0,m.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",K({all:"",groupidlist:t}));case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,K(t);case 4:if(r=e.sent,0===r.length){e.next=7;break}return e.abrupt("return",r[0]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryGroupList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryGroupList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,!t.hasOwnProperty("group_id")){e.next=14;break}return C.info("queryGroupList group_id, value : ",(0,g.isNullOrUndefined)(t.group_id)),e.next=11,r.querygroup(E.GROUP_TYPE.GROUPINFO_GROUPID,isNullOrEmpty(t.group_id)?"":t.group_id.toString());case 11:n=e.sent,e.next=35;break;case 14:if(!t.hasOwnProperty("searchtext")){e.next=21;break}return C.info("queryGroupList searchtext, value : ",(0,g.isNullOrUndefined)(t.searchtext)),e.next=18,r.querygroup(E.GROUP_TYPE.GROUPINFO_SEARCHGLOBAL,t.searchtext.toString());case 18:n=e.sent,e.next=35;break;case 21:if(!t.hasOwnProperty("all")){e.next=34;break}if(!t.hasOwnProperty("groupidlist")){e.next=29;break}return C.info("queryGroupList groupidlist, value : ",(0,g.isNullOrUndefined)(t.groupidlist)),e.next=26,r.querygroup(E.GROUP_TYPE.GROUPINFO_ALL,t.groupidlist.toString());case 26:n=e.sent,e.next=32;break;case 29:return e.next=31,r.querygroup(E.GROUP_TYPE.GROUPINFO_ALL,"");case 31:n=e.sent;case 32:e.next=35;break;case 34:return e.abrupt("return",[]);case 35:if(!n||!n.param||null===n.param._groupinfolist){e.next=39;break}return a=n.param._groupinfolist,i=h.convertGroupInfo2JsList(a),e.abrupt("return",i);case 39:return e.abrupt("return",[]);case 40:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),j=(t.updateGroup=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("updateGroup start, datalen = ",t.datalist.length),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,isNullOrEmpty(t)||isNullOrEmpty(t.condition_value)||isNullOrEmpty(t.datalist)){e.next=11;break}return e.next=10,r.updategroup(t);case 10:n=e.sent;case 11:return C.info("updateGroup end, result = ",JSON.parse((0,s.default)(n))),e.abrupt("return",n);case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutGroupMember=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutGroupMember start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("bulkPutGroupMember empty"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:r=e.sent,n=t.splitByNum(50),a=0;case 11:if(!(a<n.length)){e.next=22;break}if(i=h.convertGroupMemberList2SQLite(n[a]),!(u=i.filter(N))){e.next=19;break}return e.next=17,r.addgroupmemberlist(u);case 17:o=e.sent,o.result<=0&&C.error(o.result," membername value is crossing!");case 19:a++,e.next=11;break;case 22:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteGroupMember=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o,c;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.info("deleteGroupMember start"),e.next=4,y.initPublicDbAtomic.wait();case 4:return e.next=6,new O.default;case 6:if(r=e.sent,!t.hasOwnProperty("group_id")||!t.hasOwnProperty("account")){e.next=18;break}return n=E.GROUPMEMBER_TYPE.GROUPMEMBER_ACCOUNT,a=new Array,a[0]={keytype:E.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,match_value:t.group_id.toString()},a[1]={keytype:E.GROUPMEMBER_TYPE.GROUPMEMBER_ACCOUNT,match_value:t.account.toString()},C.info("deleteGroupMember account, operationtype : ",(0,g.isNullOrUndefined)(n)," ,datalist.length : ",(0,g.isNullOrUndefined)(a.length)),a.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=16,r.delgroupmember(n,a,a.length);case 16:e.next=37;break;case 18:if(!t.hasOwnProperty("group_id")||!t.hasOwnProperty("show_account")){e.next=29;break}return i=E.GROUPMEMBER_TYPE.GROUPMEMBER_SHOWACCOUNT,u=new Array,u[0]={keytype:E.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,match_value:t.group_id.toString()},u[1]={keytype:E.GROUPMEMBER_TYPE.GROUPMEMBER_SHOWACCOUNT,match_value:t.show_account.toString()},C.info("deleteGroupMember show_account, operationtype : ",(0,g.isNullOrUndefined)(i)," ,datalist.length : ",(0,g.isNullOrUndefined)(u.length)),u.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=27,r.delgroupmember(i,u,u.length);case 27:e.next=37;break;case 29:if(!t.hasOwnProperty("group_id")){e.next=37;break}return o=E.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,c=new Array,c[0]={keytype:E.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,match_value:t.group_id.toString()},C.info("deleteGroupMember group_id, operationtype : ",(0,g.isNullOrUndefined)(o)," ,datalist.length : ",(0,g.isNullOrUndefined)(c.length)),c.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=37,r.delgroupmember(o,c,c.length);case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(0),C.error("deleteGroupMember",e.t0.toString());case 42:case"end":return e.stop()}},e,void 0,[[0,39]])}));return function(t){return e.apply(this,arguments)}}(),t.queryGroupMemberList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryGroupMemberList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,a=new Array,i=void 0,!t.hasOwnProperty("group_id")){e.next=13;break}i=E.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,a.unshift({keytype:i,match_value:t.group_id.toString()}),e.next=29;break;case 13:if(!t.hasOwnProperty("account")){e.next=18;break}i=E.GROUPMEMBER_TYPE.GROUPMEMBER_ACCOUNT,a.unshift({keytype:i,match_value:t.account.toString()}),e.next=29;break;case 18:if(!t.hasOwnProperty("searchtext")){e.next=23;break}i=E.GROUPMEMBER_TYPE.GROUPMEMBER_SEARCHTEXT,a.unshift({keytype:i,match_value:t.searchtext}),e.next=29;break;case 23:if(!t.hasOwnProperty("show_account")){e.next=28;break}i=E.GROUPMEMBER_TYPE.GROUPMEMBER_SHOWACCOUNT,a.unshift({keytype:i,match_value:t.show_account.toString()}),e.next=29;break;case 28:return e.abrupt("return",[]);case 29:return C.info("queryGroupMemberList, operationtype : ",(0,g.isNullOrUndefined)(i)," ,datalist.length : ",(0,g.isNullOrUndefined)(a.length)),a.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=33,r.querygroupmember(i,a,a.length);case 33:if(!(n=e.sent)||!n.param||null===n.param._memberinfolist){e.next=37;break}return u=n.param._memberinfolist,e.abrupt("return",h.convertGroupMember2JsList(u,t.owner));case 37:return e.abrupt("return",[]);case 38:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutGroupType=function(){var e=(0,m.default)(f.default.mark(function e(t,r){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return C.debug("bulkPutGroupType 空数据"),e.abrupt("return");case 5:return e.next=7,j(t,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.bulkPutGroupTypeList=function(){var e=(0,m.default)(f.default.mark(function e(t,r){var n,a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return C.debug("bulkPutGroupTypeList 空数据"),e.abrupt("return");case 5:return e.next=7,new O.default;case 7:if(n=e.sent,a=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=15;break}return e.next=12,n.addgroupcollectionlist(t);case 12:a=e.sent,e.next=20;break;case 15:return e.next=17,n.addgroupcollection(t);case 17:return a=e.sent,i=(0,p.default)({},info,{id:a.result}),e.abrupt("return",i);case 20:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),z=t.queryGroupTypeList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,new O.default;case 4:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=10;break}return e.next=9,r.querygroupcollection(E.GROUPCOLLECTION_TYPE.GROUPCOLLECTIONMEM_ALL,"");case 9:n=e.sent;case 10:if(!n||!n.param||null===n.param._groupcollectinfolist){e.next=23;break}a=new Array,i=n.param._groupcollectinfolist,u=0;case 14:if(!(u<i.length)){e.next=21;break}return o=i[u],a[u]={id:o.id,type_id:o.collectionid,name:o.name,state:o.state},e.abrupt("return",a);case 18:++u,e.next=14;break;case 21:e.next=24;break;case 23:return e.abrupt("return",[]);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),W=(t.queryAllGroupTypeList=function(){var e=(0,m.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,z({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.bulkPutGroupTypeMember=function(){var e=(0,m.default)(f.default.mark(function e(t,r){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return C.debug("bulkPutGroupTypeMember 空数据"),e.abrupt("return");case 5:return e.next=7,W(t,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.bulkPutGroupTypeMemberList=function(){var e=(0,m.default)(f.default.mark(function e(t,r){var n,a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return C.debug("bulkPutGroupTypeMemberList 空数据"),e.abrupt("return");case 5:return e.next=7,new O.default;case 7:if(n=e.sent,a=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=15;break}return e.next=12,n.addgroupcollectionmemlist(t);case 12:a=e.sent,e.next=20;break;case 15:return e.next=17,n.addgroupcollectionmem(t);case 17:return a=e.sent,i=(0,p.default)({},t,{id:a.result}),e.abrupt("return",i);case 20:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),X=t.queryGroupTypeMemberList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,new O.default;case 4:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=10;break}return e.next=9,r.querygroupcollectionmem(E.GROUPCOLLECTIONMEM_TYPE.GROUPCOLLECTION_ALL,"");case 9:n=e.sent;case 10:if(!n||!n.param||null===n.param._groupcollectmeminfolist){e.next=23;break}a=new Array,i=n.param._groupcollectmeminfolist,u=0;case 14:if(!(u<i.length)){e.next=21;break}return o=i[u],a[u]={id:o.id,type_id:o.collectionid,group_id:o.groupid},e.abrupt("return",a);case 18:++u,e.next=14;break;case 21:e.next=24;break;case 23:return e.abrupt("return",[]);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),Z=(t.queryAllGroupTypeMemberList=function(){var e=(0,m.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,X({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.saveFile=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveFile start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveFile 空数据"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertFile2SqLite(t),R(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addfile(n);case 14:return a=e.sent,e.abrupt("return",(0,p.default)({},t,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutFile=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutFile start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("bulkPutFile 空数据"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:r=e.sent,n=t.splitByNum(30),a=0;case 11:if(!(a<n.length)){e.next=20;break}if(i=h.convertFile2SqLiteList(n[a]),!(u=i.filter(R))){e.next=17;break}return e.next=17,r.addfilelist(i);case 17:a++,e.next=11;break;case 20:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryFile=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,Z(t);case 4:if(r=e.sent,isNullOrEmpty(r)){e.next=9;break}return e.abrupt("return",r[0]);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryFileBySearchText=function(){var e=(0,m.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,Z({searchtext:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryFileList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryFileList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,a=void 0,i=new Array,!t.hasOwnProperty("file_handle")){e.next=14;break}a=E.FILERECORD_TYPE.FILERECORD_FILEHANDLE,i[0]={keytype:a,match_value:t.file_handle},e.next=37;break;case 14:if(!t.hasOwnProperty("recent_id")&&!t.hasOwnProperty("recent_owner")){e.next=21;break}t.hasOwnProperty("recent_id")&&(a=E.FILERECORD_TYPE.FILERECORD_CONVAUTOID,i[0]={keytype:a,match_value:t.recent_id.toString()}),t.hasOwnProperty("recent_owner")&&(a=E.FILERECORD_TYPE.FILERECORD_CONVID,i[0]={keytype:a,match_value:t.recent_owner.toString()}),u=1,t.hasOwnProperty("utc_stamp")&&t.hasOwnProperty("searchtext")&&t.hasOwnProperty("limitcount")&&(i[u++]={keytype:E.FILERECORD_TYPE.FILERECORD_TIMESTAMP,match_value:t.utc_stamp.toString()},i[u++]={keytype:E.FILERECORD_TYPE.FILERECORD_SEARCHGLOBAL,match_value:t.searchtext},i[u++]={keytype:E.FILERECORD_TYPE.FILERECORD_PAGELIMIT,match_value:t.limitcount.toString()}),e.next=37;break;case 21:if(!t.hasOwnProperty("searchtext")){e.next=26;break}a=E.FILERECORD_TYPE.FILERECORD_SEARCHGLOBAL,i[0]={keytype:a,match_value:t.searchtext},e.next=37;break;case 26:if(!t.hasOwnProperty("message_id")){e.next=31;break}a=E.FILERECORD_TYPE.FILERECORD_MESSAGEID,i[0]={keytype:a,match_value:t.message_id.toString()},e.next=37;break;case 31:if(!t.hasOwnProperty("message_server_chat_id_str")){e.next=36;break}a=E.FILERECORD_TYPE.FILERECORD_SERVERMESSAGEID,i[0]={keytype:a,match_value:t.message_server_chat_id_str},e.next=37;break;case 36:return e.abrupt("return",[]);case 37:if(!(i.length>0)){e.next=43;break}return C.info("queryFileList, operationtype : ",(0,g.isNullOrUndefined)(a)," ,datalist.length : ",(0,g.isNullOrUndefined)(i.length)),i.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=42,r.queryfile(a,i,i.length);case 42:n=e.sent;case 43:if(isNullOrEmpty(n)||isNullOrEmpty(n.param)||isNullOrEmpty(n.param._filerecordlist)){e.next=48;break}return o=n.param._filerecordlist,e.abrupt("return",h.convertFile2JsList(o));case 48:return e.abrupt("return",[]);case 49:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),$=(t.saveScreenShot=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return C.debug("saveScreenShot 空数据"),e.abrupt("return");case 5:return e.next=7,new O.default;case 7:return r=e.sent,n=h.convertScreenShot2SqLite(t),e.next=11,r.addscreenshot(n);case 11:return a=e.sent,e.abrupt("return",(0,p.default)({},t,{id:a.result}));case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutScreenShot=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return C.debug("bulkPutScreenShot 空数据"),e.abrupt("return");case 5:return e.next=7,new O.default;case 7:r=e.sent,n=t.splitByNum(30),a=0;case 10:if(!(a<n.length)){e.next=17;break}return i=h.convertScreenShot2SqLiteList(n[a]),e.next=14,r.addscreenshotlist(i);case 14:a++,e.next=10;break;case 17:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryScreenShot=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,$(t);case 4:if(r=e.sent,isNullOrEmpty(r)){e.next=9;break}return e.abrupt("return",r[0]);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryScreenShotList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,new O.default;case 4:if(r=e.sent,n=null,a=void 0,i=new Array,!t.hasOwnProperty("um_url")){e.next=13;break}a=E.SCREENFILE_TYPE.SCREENSHOT_UM_URL,i[0]={keytype:a,match_value:t.um_url},e.next=44;break;case 13:if(!t.hasOwnProperty("file_handle")){e.next=18;break}a=E.SCREENFILE_TYPE.SCREENSHOT_FILEHANDLE,i[0]={keytype:a,match_value:t.file_handle},e.next=44;break;case 18:if(!t.hasOwnProperty("message_id")){e.next=23;break}a=E.SCREENFILE_TYPE.SCREENSHOT_MESSAGEID,i[0]={keytype:a,match_value:t.message_id.toString()},e.next=44;break;case 23:if(!t.hasOwnProperty("server_message_id")){e.next=28;break}a=E.SCREENFILE_TYPE.SCREENSHOT_SERVERMESSAGEID,i[0]={keytype:a,match_value:t.server_message_id},e.next=44;break;case 28:if(!t.hasOwnProperty("recent_id")){e.next=33;break}a=E.SCREENFILE_TYPE.SCREENSHOT_CONVAUTOID,i[0]={keytype:a,match_value:t.recent_id.toString()},e.next=44;break;case 33:if(!t.hasOwnProperty("message_server_chat_id_str")){e.next=38;break}a=E.SCREENFILE_TYPE.SCREENSHOT_SERVERMESSAGEID,i[0]={keytype:a,match_value:t.message_server_chat_id_str},e.next=44;break;case 38:if(!t.hasOwnProperty("recent_owner")){e.next=43;break}a=E.SCREENFILE_TYPE.SCREENSHOT_CONVID,i[0]={keytype:a,match_value:t.recent_owner.toString()},e.next=44;break;case 43:return e.abrupt("return",[]);case 44:if(!(i.length>0)){e.next=48;break}return e.next=47,r.queryscreenshot(a,i,i.length);case 47:n=e.sent;case 48:if(isNullOrEmpty(n)||isNullOrEmpty(n.param)||isNullOrEmpty(n.param._screenfileinfolist)){e.next=53;break}return u=n.param._screenfileinfolist,e.abrupt("return",h.convertScreenShot2JsList(u));case 53:return e.abrupt("return",[]);case 54:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),ee=(t.saveRecent=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveRecent start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveRecent 空数据"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertRecent2SqLite(t),x(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addconversation(n);case 14:return a=e.sent,e.abrupt("return",(0,p.default)({},t,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutRecent=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutRecent start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,new O.default;case 7:r=e.sent,n=t.splitByNum(30),a=0;case 10:if(!(a<n.length)){e.next=19;break}if(i=h.convertRecent2SqLiteList(n[a]),!(u=i.filter(x))){e.next=16;break}return e.next=16,r.addconversationlist(i);case 16:a++,e.next=10;break;case 19:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteRecent=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteRecent start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("id")){e.next=11;break}return C.info("deleteRecent, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=10,r.delconversation(E.CONVERSATION_TYPE.CONV_AUTOID,t.id.toString());case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAllRecent=function(){var e=(0,m.default)(f.default.mark(function e(){var t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee({all:""});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.queryRecent=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:if(r=e.sent,isNullOrEmpty(r)){e.next=7;break}return e.abrupt("return",r[0]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryRecentList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryRecentList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,showDealTime("queryRecentList 查询会话信息"),n=null,!isNullOrEmpty(t)){e.next=10;break}return e.abrupt("return",[]);case 10:if(!t.hasOwnProperty("all")){e.next=16;break}return e.next=13,r.queryconversation(E.CONVERSATION_TYPE.CONV_ALL,"");case 13:n=e.sent,e.next=24;break;case 16:if(!t.hasOwnProperty("owner")||isNullOrEmpty(t.owner)){e.next=23;break}return C.info("queryRecentList, value : ",(0,g.isNullOrUndefined)(t.owner)),e.next=20,r.queryconversation(E.CONVERSATION_TYPE.CONV_CONVID,t.owner.toString());case 20:n=e.sent,e.next=24;break;case 23:return e.abrupt("return",[]);case 24:if(null===n||void 0===n.param||void 0===n.param._cvsinfolist||null===n.param._cvsinfolist){e.next=27;break}return showDealTime("queryRecentList 处理会话信息"),e.abrupt("return",h.convertRecent2JsList(n.param._cvsinfolist));case 27:return e.abrupt("return",[]);case 28:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),te=(t.saveMessage=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveMessage start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveMessage 空数据"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertMessage2SqLite(t),T(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addhistoryrecord(n);case 14:return a=e.sent,C.debug("saveMessage 到db"),e.abrupt("return",(0,p.default)({},t,{id:a.result}));case 17:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutMessage=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutMessage start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("bulkPutMessage 空数据"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:r=e.sent,n=t.splitByNum(30),a=0;case 11:if(!(a<n.length)){e.next=20;break}if(i=h.convertMessage2SqLiteList(n[a]),!(u=i.filter(T))){e.next=17;break}return e.next=17,r.addhistoryrecordlist(i);case 17:a++,e.next=11;break;case 20:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryMessage=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:if(r=e.sent,isNullOrEmpty(r)){e.next=7;break}return e.abrupt("return",r[0]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryMessageBySearchText=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re({searchtext:t});case 2:return r=e.sent,r.filter(function(e){return 0===e.is_quote}),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteMessage=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteMessage start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return C.debug("deleteMessage from db"),e.next=6,new O.default;case 6:if(r=e.sent,!t.hasOwnProperty("id")){e.next=12;break}return C.info("deleteMessage, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=11,r.deletehistoryrecord(E.HISTORYRECORD_TYPE.HISTORYRECORD_RECORDID,t.id.toString());case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),function(){var e=(0,m.default)(f.default.mark(function e(t,r){var n,a,i,u,o,c;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryMessageListByRecent start"),n=new Array,a=void 0,i=!0,t.hasOwnProperty("recent_id")&&(a=E.HISTORYRECORD_TYPE.HISTORYRECORD_CONVAUTOID,n[0]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_CONVAUTOID,match_value:t.recent_id.toString()}),t.hasOwnProperty("recent_owner")&&(a=E.HISTORYRECORD_TYPE.HISTORYRECORD_CONVID,n[0]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_CONVID,match_value:t.recent_owner.toString()}),u=1,t.hasOwnProperty("is_read")&&(n[u++]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_ISREAD,match_value:t.is_read.toString()}),t.hasOwnProperty("utc_stamp")&&(n[u++]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_UTCSTAMP,match_value:t.utc_stamp.toString()}),t.hasOwnProperty("timedirection")?(n[u++]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_RESERVERINT1,match_value:t.timedirection.toString()},"1"===t.timedirection&&(i=!1)):n[u++]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_RESERVERINT1,match_value:"0"},o=window.CLIENTCONFIG.ISMOBILE?window.CLIENTCONFIG.MOBILE_MESSAGE_LIST_PAGE_SIZE:window.CLIENTCONFIG.MESSAGE_LIST_PAGE_SIZE,t.hasOwnProperty("limitcount")&&(o=t.limitcount),n[u++]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_LIMIT,match_value:o.toString()},C.info("queryMessageListByRecent, operationtype : ",(0,g.isNullOrUndefined)(a)," ,datalist.length : ",(0,g.isNullOrUndefined)(n.length)),n.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=17,r.queryhistoryrecord(a,n,n.length);case 17:return c=e.sent,e.abrupt("return",{content:c,isReverse:i});case 19:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),re=t.queryMessageList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o,c,s,l,p,d,_,m,v;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryMessageList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,a=!0,!t.hasOwnProperty("id")){e.next=18;break}return i=E.HISTORYRECORD_TYPE.HISTORYRECORD_RECORDID,u=new Array,u[0]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_RECORDID,match_value:t.id.toString()},C.info("queryMessageList id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=15,r.queryhistoryrecord(i,u,u.length);case 15:n=e.sent,e.next=66;break;case 18:if(!t.hasOwnProperty("searchtext")){e.next=30;break}return o=E.HISTORYRECORD_TYPE.HISTORYRECORD_SHOWTEXT,c=new Array,c[0]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_SHOWTEXT,match_value:t.searchtext.toString()},t.hasOwnProperty("recent_id")?c[1]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_CONVAUTOID,match_value:t.recent_id.toString()}:t.hasOwnProperty("recent_owner")&&(c[1]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_CONVID,match_value:t.recent_owner.toString()}),C.info("queryMessageList searchtext, operationtype : ",(0,g.isNullOrUndefined)(o)," ,datalist.length : ",(0,g.isNullOrUndefined)(c.length)),c.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=27,r.queryhistoryrecord(o,c,c.length);case 27:n=e.sent,e.next=66;break;case 30:if(!t.hasOwnProperty("recent_id")&&!t.hasOwnProperty("recent_owner")){e.next=38;break}return e.next=33,te(t,r);case 33:s=e.sent,n=s.content,a=s.isReverse,e.next=66;break;case 38:if(!t.hasOwnProperty("client_chat_id")){e.next=48;break}return l=E.HISTORYRECORD_TYPE.HISTORYRECORD_CLIENTMESSAGEID,p=new Array,p[0]={keytype:E.HISTORYRECORD_TYPE.HISTORYRECORD_CLIENTMESSAGEID,match_value:t.client_chat_id.toString()},C.info("queryMessageList client_chat_id, value : ",(0,g.isNullOrUndefined)(t.client_chat_id)),e.next=45,r.queryhistoryrecord(l,p,p.length);case 45:n=e.sent,e.next=66;break;case 48:if(!t.hasOwnProperty("server_chat_id_str")){e.next=58;break}return d=E.HISTORYRECORD_TYPE.HISTORYRECORD_MESSAGEID,_=new Array,_[0]={keytype:d,match_value:t.server_chat_id_str||""},C.info("queryMessageList server_chat_id_str, value : ",(0,g.isNullOrUndefined)(t.server_chat_id_str)),e.next=55,r.queryhistoryrecord(d,_,_.length);case 55:n=e.sent,e.next=66;break;case 58:if(!t.hasOwnProperty("all")){e.next=65;break}return m=new Array,e.next=62,r.queryhistoryrecord(E.HISTORYRECORD_TYPE.HISTORYRECORD_ALL,m,m.length);case 62:n=e.sent,e.next=66;break;case 65:return e.abrupt("return",[]);case 66:if(!n||!n.param||null===n.param._historyrecordlist){e.next=74;break}return e.next=69,h.convertMessage2JsList(n.param._historyrecordlist);case 69:return v=e.sent,a&&v.reverse(),e.abrupt("return",v);case 74:return e.abrupt("return",[]);case 75:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),ne=(t.limitMessageList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,C.debug("limitMessageList",t,n),r=window.CLIENTCONFIG.ISMOBILE?window.CLIENTCONFIG.MOBILE_MESSAGE_LIST_PAGE_SIZE:window.CLIENTCONFIG.MESSAGE_LIST_PAGE_SIZE,!n){e.next=9;break}return e.next=6,re((0,p.default)({},t,{limitcount:r,timedirection:"0"}));case 6:return e.abrupt("return",e.sent);case 9:return e.next=11,re((0,p.default)({},t,{limitcount:r,timedirection:"1"}));case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),C.error("limitMessageList",{e:e.t0.toJSON()}),e.abrupt("return",[]);case 18:case"end":return e.stop()}},e,void 0,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),t.limitMessageListByNum=function(){var e=(0,m.default)(f.default.mark(function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:if(e.prev=2,C.debug("limitMessageListByNum"),0===n&&(n=window.CLIENTCONFIG.ISMOBILE?window.CLIENTCONFIG.MOBILE_MESSAGE_LIST_PAGE_SIZE:window.CLIENTCONFIG.MESSAGE_LIST_PAGE_SIZE),!r){e.next=11;break}return e.next=8,re((0,p.default)({},t,{limitcount:n,timedirection:"0"}));case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,re((0,p.default)({},t,{limitcount:n,timedirection:"1"}));case 13:return e.abrupt("return",e.sent);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(2),C.error("limitMessageListByNum",{e:e.t0.toJSON()}),e.abrupt("return",[]);case 20:case"end":return e.stop()}},e,void 0,[[2,16]])}));return function(t){return e.apply(this,arguments)}}(),t.saveUserTrack=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,u,c,s,l,d,_,m,v,E,b,h;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveUserTrack start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveUserTrack param empty"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=43;break}if(t=[].concat((0,o.default)(t)),a=50,!(t.length>a)){e.next=37;break}u=Math.floor(t.length/a),C.debug("write usertrack count "+t.length),c=0;case 17:if(!(c<u)){e.next=26;break}if(s=t.slice(c*a,c*a+a-1),!(l=s.filter(G))){e.next=23;break}return e.next=23,r.addusertracklist(l);case 23:++c,e.next=17;break;case 26:if(!((d=t.length%a)>0)){e.next=35;break}if(_=u*a,m=u*a+d-1,v=t.slice(_,m),!(E=v.filter(G))){e.next=35;break}return e.next=35,r.addusertracklist(E);case 35:e.next=41;break;case 37:if(!(b=t.filter(G))){e.next=41;break}return e.next=41,r.addusertracklist(b);case 41:e.next=51;break;case 43:if(t=(0,i.default)({},t),G(t)){e.next=46;break}return e.abrupt("return");case 46:return e.next=48,r.addusertrack(t);case 48:return n=e.sent,h=(0,p.default)({},t,{id:n.result}),e.abrupt("return",h);case 51:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryUserTrackList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryUserTrackList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n={},!isNullOrEmpty(t)){e.next=13;break}return e.next=10,r.queryusertrack(E.USERTRACK_TYPE.USERTRACK_ALL,"");case 10:n=e.sent,e.next=40;break;case 13:if(!t.hasOwnProperty("all")){e.next=19;break}return e.next=16,r.queryusertrack(E.USERTRACK_TYPE.USERTRACK_ALL,"");case 16:n=e.sent,e.next=40;break;case 19:if(!t.hasOwnProperty("alllength")){e.next=25;break}return e.next=22,r.queryusertrack(E.USERTRACK_TYPE.USERTRACK_ALLLENGTH,"");case 22:n=e.sent,e.next=40;break;case 25:if(!t.hasOwnProperty("id")){e.next=32;break}return C.info("queryUserTrackList id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=29,r.queryusertrack(E.USERTRACK_TYPE.USERTRACK_ID,t.id.toString());case 29:n=e.sent,e.next=40;break;case 32:if(!t.hasOwnProperty("limitcount")){e.next=39;break}return C.info("queryUserTrackList limitcount, value : ",(0,g.isNullOrUndefined)(t.limitcount)),e.next=36,r.queryusertrack(E.USERTRACK_TYPE.USERTRACK_LIMITCOUNT,t.limitcount.toString());case 36:n=e.sent,e.next=40;break;case 39:C.error("queryUserTrackList no support param");case 40:if(!n||!n.param||isNullOrEmpty(n.param._usertrackinfolist)){e.next=46;break}for(a=new Array,i=0;i<n.param._usertrackinfolist.length;++i)u=n.param._usertrackinfolist[i],a[i]={id:u.id,content:u.content,retrycount:u.retrycount};return e.abrupt("return",a);case 46:if(!n.param||!n.param._retlen||isNullOrEmpty(t)||!t.hasOwnProperty("alllength")){e.next=51;break}return o=n.param._retlen,e.abrupt("return",o);case 51:return e.abrupt("return",[]);case 52:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteusertrack=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteusertrack start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("id")){e.next=12;break}return C.info("deleteusertrack id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=10,r.delusertrack(E.USERTRACK_TYPE.USERTRACK_ID,t.id.toString());case 10:e.next=24;break;case 12:if(!t.hasOwnProperty("all")){e.next=23;break}if(!t.hasOwnProperty("idlist")){e.next=19;break}return C.info("deleteusertrack idlist, value : ",(0,g.isNullOrUndefined)(t.idlist)),e.next=17,r.delusertrack(E.USERTRACK_TYPE.USERTRACK_ALL,t.idlist);case 17:e.next=21;break;case 19:return e.next=21,r.delusertrack(E.USERTRACK_TYPE.USERTRACK_ALL,"");case 21:e.next=24;break;case 23:C.debug(" deleteusertrack not support, by param : "+t);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveAvatarTag=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveAvatarTag start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveAvatarTag empty"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:return r=e.sent,n=h.convertAvatarTag2Data(t),e.next=12,r.addavatartag(n);case 12:return a=e.sent,e.abrupt("return",(0,p.default)({},n,{id:a.result}));case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteAvatarTag=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteAvatarTag start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("id")){e.next=12;break}return C.info("deleteAvatarTag id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=10,r.delavatartag(E.AVATARTAG_TYPE.AVATARTAG_ID,t.id.toString());case 10:e.next=24;break;case 12:if(!t.hasOwnProperty("account")){e.next=18;break}return C.info("deleteAvatarTag account, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=16,r.delavatartag(E.AVATARTAG_TYPE.AVATARTAG_ACCOUNT,t.account.toString());case 16:e.next=24;break;case 18:if(!t.hasOwnProperty("all")){e.next=23;break}return e.next=21,r.delavatartag(E.AVATARTAG_TYPE.AVATARTAG_ALL,"");case 21:e.next=24;break;case 23:C.debug(" deleteAvatarTag not support, by param : "+t);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAvatarTagList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryAvatarTagList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n={},!isNullOrEmpty(t)){e.next=13;break}return e.next=10,r.queryavatartag(E.AVATARTAG_TYPE.AVATARTAG_ALL,"");case 10:n=e.sent,e.next=34;break;case 13:if(!t.hasOwnProperty("all")){e.next=19;break}return e.next=16,r.queryavatartag(E.AVATARTAG_TYPE.AVATARTAG_ALL,"");case 16:n=e.sent,e.next=34;break;case 19:if(!t.hasOwnProperty("id")){e.next=26;break}return C.info("queryAvatarTagList id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=23,r.queryavatartag(E.AVATARTAG_TYPE.AVATARTAG_ID,t.id.toString());case 23:n=e.sent,e.next=34;break;case 26:if(!t.hasOwnProperty("account")){e.next=33;break}return C.info("queryAvatarTagList account, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=30,r.queryavatartag(E.AVATARTAG_TYPE.AVATARTAG_ACCOUNT,t.account.toString());case 30:n=e.sent,e.next=34;break;case 33:C.error("queryAvatarTagList no support param");case 34:if(!n||!n.param||isNullOrEmpty(n.param._avatartaglist)){e.next=40;break}for(a=new Array,i=0;i<n.param._avatartaglist.length;++i)u=n.param._avatartaglist[i],a[i]={id:u.id,account:u.account,etag_small:u.etag_small,etag_medium:u.etag_medium,etag_large:u.etag_large};return e.abrupt("return",a);case 40:return e.abrupt("return",[]);case 41:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveOfficialAccountsDetail=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveOfficialAccountsDetail start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveOfficialAccountsDetail empty"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:return r=e.sent,n=h.convertOfficialAccountsDetail2SQLite(t),e.next=12,r.addofficialaccountsdetail(n);case 12:return a=e.sent,e.abrupt("return",(0,p.default)({},n,{id:a.result}));case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkSaveOfficialAccountsDetail=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkSaveOfficialAccountsDetail start, arrlen = ",t.length),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("bulkSaveOfficialAccountsDetail empty"),e.abrupt("return");case 6:return r=50,e.next=9,new O.default;case 9:n=e.sent,a=t.splitByNum(r),i=0;case 12:if(!(i<a.length)){e.next=19;break}return u=h.convertOfficialAccountsDetailList2SQLite(a[i]),e.next=16,n.addofficialaccountsdetaillist(u);case 16:i++,e.next=12;break;case 19:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteOfficialAccountsDetail=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("deleteOfficialAccountsDetail start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,!t.hasOwnProperty("id")){e.next=12;break}return C.info("deleteOfficialAccountsDetail id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=10,r.delofficialaccountsdetail(E.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ID,t.id.toString());case 10:e.next=24;break;case 12:if(!t.hasOwnProperty("nodeID")){e.next=18;break}return C.info("deleteOfficialAccountsDetail nodeID, value : ",(0,g.isNullOrUndefined)(t.nodeID)),e.next=16,r.delofficialaccountsdetail(E.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_NODEID,t.nodeID.toString());case 16:e.next=24;break;case 18:if(!t.hasOwnProperty("all")){e.next=23;break}return e.next=21,r.delofficialaccountsdetail(E.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ALL,"");case 21:e.next=24;break;case 23:C.debug(" deleteOfficialAccountsDetail not support, by param : "+t);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryOfficialAccountsDetailList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryOfficialAccountsDetailList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n={},!isNullOrEmpty(t)){e.next=13;break}return e.next=10,r.queryofficialaccountsdetail(E.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ALL,"");case 10:n=e.sent,e.next=34;break;case 13:if(!t.hasOwnProperty("all")){e.next=19;break}return e.next=16,r.queryofficialaccountsdetail(E.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ALL,"");case 16:n=e.sent,e.next=34;break;case 19:if(!t.hasOwnProperty("id")){e.next=26;break}return C.info("queryOfficialAccountsDetailList id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=23,r.queryofficialaccountsdetail(E.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ID,t.id.toString());case 23:n=e.sent,e.next=34;break;case 26:if(!t.hasOwnProperty("nodeID")){e.next=33;break}return C.info("queryOfficialAccountsDetailList nodeID, value : ",(0,g.isNullOrUndefined)(t.nodeID)),e.next=30,r.queryofficialaccountsdetail(E.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_NODEID,t.nodeID.toString());case 30:n=e.sent,e.next=34;break;case 33:C.error("queryAvatarTagList no support param");case 34:if(!n||!n.param||isNullOrEmpty(n.param._officialaccountsdetaillist)){e.next=39;break}return a=h.convertOfficialAccountsDetail2JsList(n.param._officialaccountsdetaillist),e.abrupt("return",a);case 39:return e.abrupt("return",[]);case 40:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveCallRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveCallRecord start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveCallRecord empty"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertCallRecord2Data(t),I(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addcallrecord(n);case 14:return a=e.sent,e.abrupt("return",(0,p.default)({},n,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveConfRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("saveConfRecord start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("saveConfRecord empty"),e.abrupt("return");case 6:return e.next=8,new O.default;case 8:if(r=e.sent,n=h.convertConfRecord2Data(t),w(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addcallrecord(n);case 14:return a=e.sent,e.abrupt("return",(0,p.default)({},n,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutCallRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("bulkPutCallRecord start"),e.next=3,y.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return C.debug("bulkPutCallRecord empty"),e.abrupt("return");case 6:return r=50,e.next=9,new O.default;case 9:if(n=e.sent,a=t.splitByNum(r),i=h.convertCallRecordList2Data(a),!(u=i.filter(I))){e.next=16;break}return e.next=16,n.addcallrecordlist(i);case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.delcallrecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("delcallrecord start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return C.debug("delcallrecord"),e.next=6,new O.default;case 6:if(r=e.sent,n=void 0,a=void 0,!t.hasOwnProperty("peeraccount")){e.next=14;break}n=E.CALLRECORD_TYPE.CALLRECORD_PEERACCOUNT,a=t.peeraccount.toString(),e.next=25;break;case 14:if(!t.hasOwnProperty("autoid")){e.next=19;break}n=E.CALLRECORD_TYPE.CALLRECORD_ID,a=t.groupid.toString(),e.next=25;break;case 19:if(!t.hasOwnProperty("confid")){e.next=24;break}n=E.CALLRECORD_TYPE.CALLRECORD_CONFID,a=t.confid.toString(),e.next=25;break;case 24:return e.abrupt("return",[]);case 25:return C.info("delcallrecord, value : ",(0,g.isNullOrUndefined)(a),", keytype : ",(0,g.isNullOrUndefined)(n)),e.next=28,r.delcallrecord(n,a);case 28:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryCallRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return C.debug("queryCallRecord"),e.next=5,ne(t);case 5:if(r=e.sent,isNullOrEmpty(r)){e.next=11;break}return C.debug("queryCallRecord result"),e.abrupt("return",r[0]);case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAllConfRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return r=(0,p.default)({},t,{allconf:"allconf"}),e.next=5,ne(r);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAllCallRecord=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return r=(0,p.default)({},t,{allcall:"allcall"}),e.next=5,ne(r);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryCallRecordList=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a,i,u,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.info("queryCallRecordList start"),e.next=3,y.initPublicDbAtomic.wait();case 3:return e.next=5,new O.default;case 5:if(r=e.sent,n=null,a=void 0,i=new Array,!(t.hasOwnProperty("peeraccount")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=17;break}a=E.CALLRECORD_TYPE.CALLRECORD_PEERACCOUNT,i[0]={keytype:a,match_value:t.peeraccount.toString()},i[1]={keytype:E.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},i[2]={keytype:E.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},C.debug("queryCallRecord by peeraccount"),e.next=55;break;case 17:if(!(t.hasOwnProperty("groupid")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=25;break}a=E.CALLRECORD_TYPE.CALLRECORD_GROUPID,i[0]={keytype:a,match_value:t.groupid.toString()},i[1]={keytype:E.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},i[2]={keytype:E.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},C.debug("queryCallRecord by groupid"),e.next=55;break;case 25:if(!(t.hasOwnProperty("confid")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=33;break}a=E.CALLRECORD_TYPE.CALLRECORD_CONFID,i[0]={keytype:a,match_value:t.confid.toString()},i[1]={keytype:E.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},i[2]={keytype:E.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},C.debug("queryCallRecord by confid"),e.next=55;break;case 33:if(!(t.hasOwnProperty("allconf")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=40;break}a=E.CALLRECORD_TYPE.CALLRECORD_ALLCONF,i[0]={keytype:E.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},i[1]={keytype:E.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},C.debug("queryCallRecord  allconf"),e.next=55;break;case 40:if(!(t.hasOwnProperty("allcall")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=47;break}a=E.CALLRECORD_TYPE.CALLRECORD_ALLCALL,i[0]={keytype:E.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},i[1]={keytype:E.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},C.debug("queryCallRecord  allcall"),e.next=55;break;case 47:if(!t.hasOwnProperty("starttime")||!t.hasOwnProperty("limitcount")){e.next=54;break}a=E.CALLRECORD_TYPE.CALLRECORD_ALL,i[0]={keytype:E.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},i[1]={keytype:E.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},C.debug("queryCallRecord  all"),e.next=55;break;case 54:return e.abrupt("return",[]);case 55:if(!(i.length>0)){e.next=61;break}return C.info("queryCallRecordList, operationtype : ",(0,g.isNullOrUndefined)(a)," ,datalist.length : ",(0,g.isNullOrUndefined)(i.length)),i.forEach(function(e){C.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=60,r.querycallrecord(a,i,i.length);case 60:n=e.sent;case 61:if(!n||!n.param||null===n.param._callrecordlist){e.next=68;break}return u=n.param._callrecordlist,o=h.convertCallRecord2JsList(u),C.debug("queryCallRecord  all",o),e.abrupt("return",o);case 68:return e.abrupt("return",[]);case 69:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),ae=t.queryDiscSerialNumber=function(){var e=(0,m.default)(f.default.mark(function e(){var t,r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,new O.default;case 4:return t=e.sent,e.next=7,t.querydiscnumber();case 7:return r=e.sent,e.abrupt("return",r.param.discserialnumber);case 9:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}();t.examineEncryptFile=function(){var e=(0,m.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.initPublicDbAtomic.wait();case 2:return e.next=4,new O.default;case 4:return r=e.sent,e.next=7,r.examineEncryptFile();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryDBKeySalt=function(){var e=(0,m.default)(f.default.mark(function e(){var t,r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new O.default;case 2:return t=e.sent,e.next=5,t.getdbsaltkey();case 5:return r=e.sent,e.abrupt("return",r.param.secvalue);case 7:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.initDBPath=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new O.default;case 2:return r=e.sent,e.next=5,r.initdbpath(t,a);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveDBKeySalt=function(){var e=(0,m.default)(f.default.mark(function e(t,r,n){var a,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new O.default;case 2:return a=e.sent,e.next=5,a.setdbsaltkey(t,r,n);case 5:i=e.sent;case 6:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),t.initSQLitePublicDB=function(){var e=(0,m.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C.info("initSQLitePublicDB, syspath : "+t),!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=4;break}return C.info("has initSQLitePublicDB"),e.abrupt("return","");case 4:return e.next=6,new O.default;case 6:return r=e.sent,e.next=9,r.init(t,"public");case 9:return n=e.sent,C.info("initSQLitePublicDB Success"),e.abrupt("return",n);case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()}});