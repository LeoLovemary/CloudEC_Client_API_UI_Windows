webpackJsonp([23],{106:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HwHttpSdk=void 0;var a=r(123),u=n(a),o=r(4),s=n(o),p=r(1812);e.HwHttpSdk=function t(){(0,s.default)(this,t),(0,u.default)(this,(0,p.getHttpApiList)())}},119:function(t,e,r){t.exports={default:r(145),__esModule:!0}},120:function(t,e,r){t.exports=r(0)(45)},121:function(t,e,r){t.exports=r(0)(47)},123:function(t,e,r){t.exports=r(0)(562)},130:function(t,e,r){t.exports=r(0)(238)},133:function(t,e,r){t.exports={default:r(169),__esModule:!0}},137:function(t,e,r){var n=r(10),a=r(8),u=r(138);t.exports=function(t,e){var r=(a.Object||{})[t]||Object[t],o={};o[t]=e(r),n(n.S+n.F*u(function(){r(1)}),"Object",o)}},138:function(t,e,r){t.exports=r(0)(59)},145:function(t,e,r){r(146),t.exports=r(8).Object.getPrototypeOf},146:function(t,e,r){var n=r(130),a=r(147);r(137)("getPrototypeOf",function(){return function(t){return a(n(t))}})},147:function(t,e,r){t.exports=r(0)(585)},162:function(t,e,r){t.exports=r(0)(80)},169:function(t,e,r){r(170),t.exports=r(8).Object.keys},170:function(t,e,r){var n=r(130),a=r(162);r(137)("keys",function(){return function(t){return a(n(t))}})},1812:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getHttpApiList=void 0;var a=r(1),u=n(a),o=r(2),s=n(o),p=r(119),i=n(p),c=r(4),l=n(c),f=r(120),d=n(f),_=r(121),h=n(_),y=r(1813),v=n(y),m=r(1814),x=n(m),g=coreLogger.getLogger("logic")("HttpImpl"),w=function(t){function e(){var t=this;(0,l.default)(this,e);var r=(0,d.default)(this,(e.__proto__||(0,i.default)(e)).call(this));return r.initHttpTrans=(0,s.default)(u.default.mark(function e(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r._getTupHttpInstance().then(function(t){t.setNotifyFunc(1376289,r._resultNotify),t.setNotifyFunc(1376290,r._progressNotify)}));case 1:case"end":return t.stop()}},e,t)})),r.sendSyncRequest=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o,s,p=n.url,i=n.type,c=n.header,l=void 0===c?{}:c,f=n.body,d=void 0===f?"":f,_=n.cipherlist,h=void 0===_?[]:_;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._getTupHttpInstance();case 2:return a=t.sent,t.next=5,r._getProxyInfo();case 5:return o=t.sent,t.next=8,r._getTlsInfo();case 8:return s=t.sent,t.abrupt("return",a.sendSyncRequest({url:p,type:i,header:l,body:d,proxyInfo:o,tlsParam:s,cipherlist:h}));case 10:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r.downloadFile=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o,s=n.params,p=n.progressCallback,i=n.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._getTupHttpInstance();case 2:return a=t.sent,t.next=5,r._getProxyInfo();case 5:return s.proxyInfo=t.sent,t.next=8,a.httpDownloadFile(s);case 8:return o=t.sent,o&&0===o.result&&o.param&&o.param.handle?(p&&(r.progressMap[o.param.handle]=p),i&&(r.resultMap[o.param.handle]=i)):g.info("httpDownloadFile interface failed: "+o.result),t.abrupt("return",o);case 11:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r.uploadFile=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o,s=n.params,p=n.useProxy,i=void 0===p||p,c=n.progressCallback,l=n.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._getTupHttpInstance();case 2:return a=t.sent,t.next=5,r._getProxyInfo(i);case 5:return s.proxyInfo=t.sent,t.next=8,a.httpUploadFile(s);case 8:return o=t.sent,o&&0===o.result&&o.handle?(c&&(r.progressMap[o.handle]=c),l&&(r.resultMap[o.handle]=l)):g.info("httpUploadFile interface failed: "+o.result),t.abrupt("return",o);case 11:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r.stopMission=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.handle,g.info("stopMission ",a),delete r.progressMap[a],delete r.resultMap[a],t.next=6,r._getTupHttpInstance();case 6:return o=t.sent,t.abrupt("return",o.httpReleaseHandle(a));case 8:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r._getProxyInfo=function(){var e=(0,s.default)(u.default.mark(function e(){var r,n,a,o,s,p,i,c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coreAccount.getLoginModel();case 2:return r=t.sent,n=r.proxyAddress,a=r.proxyPort,o=r.proxyAccount,s=r.isSupportProxy,t.next=9,coreSecurity.getPasswordManager();case 9:return p=t.sent,t.next=12,p.getPassword("proxyPassword");case 12:return i=t.sent,s&&0!==parseInt(c)||(n="",a="0",o="",i=""),t.abrupt("return",{proxyAddress:n,proxyPort:a,proxyAccount:o,proxyPassword:i});case 15:case"end":return t.stop()}},e,t)}));return function(){return e.apply(this,arguments)}}(),r._getTlsInfo=(0,s.default)(u.default.mark(function e(){var r,n;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coreAccount.getLoginModel();case 2:return r=t.sent,n=r.isSupportCACertCheck,t.abrupt("return",{caCertPath:window.EXEC_PATH,tlsMode:n?1:0});case 5:case"end":return t.stop()}},e,t)})),r._getTupHttpInstance=(0,s.default)(u.default.mark(function e(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return!coreCommon.isMac()&&r.tupHttpInstance||(r.tupHttpInstance=new x.default),t.abrupt("return",r.tupHttpInstance);case 2:case"end":return t.stop()}},e,t)})),r._resultNotify=function(t){var e=t&&t.param&&t.param.handle;if(e){var n=r.resultMap[e];n&&n(t),delete r.progressMap[e],delete r.resultMap[e]}},r._progressNotify=function(t){var e=t&&t.param&&t.param.handle;if(e){var n=r.progressMap[e];n&&n(t)}},r.progressMap={},r.resultMap={},r}return(0,h.default)(e,t),e}(v.default),k=void 0;e.getHttpApiList=function(){return isNullOrEmpty(k)&&(k=new w),k.getApiList()}},1813:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(1),u=n(a),o=r(2),s=n(o),p=r(119),i=n(p),c=r(4),l=n(c),f=r(120),d=n(f),_=r(121),h=n(_),y=function(t){function e(){var t,r,n,a,o=this;(0,l.default)(this,e);for(var p=arguments.length,c=Array(p),f=0;f<p;f++)c[f]=arguments[f];return r=n=(0,d.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(c))),n.initHttpTrans=(0,s.default)(u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)})),n.sendSyncRequest=function(){var t=(0,s.default)(u.default.mark(function t(e){e.url,e.type,e.header,e.body,e.cipherlist;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),n.downloadFile=function(){var t=(0,s.default)(u.default.mark(function t(e){e.params,e.progressCallback,e.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),n.uploadFile=function(){var t=(0,s.default)(u.default.mark(function t(e){e.params,e.useProxy,e.progressCallback,e.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),n.stopMission=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),a=r,(0,d.default)(n,a)}return(0,h.default)(e,t),e}(coreCommon.Interface);e.default=y},1814:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(133),u=n(a),o=r(69),s=n(o),p=r(1),i=n(p),c=r(123),l=n(c),f=r(2),d=n(f),_=r(3),h=n(_),y=r(4),v=n(y),m=r(5),x=n(m),g=coreLogger.getLogger("tup")("httptrans"),w=coreCommon.getTupProtocolClass(),k=null,P=function(){function t(e){var r=this;return(0,v.default)(this,t),new h.default(function(){var t=(0,d.default)(i.default.mark(function t(n,a){var u;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u={key:constant.TupModuleKey.httptrans,moduleName:"tup_httptrans_service_protocol",webSocketUri:""},(0,l.default)(u,e),t.next=4,new w(u);case 4:r.tupProtocol=t.sent,n(r);case 6:case"end":return t.stop()}},t,r)}));return function(e,r){return t.apply(this,arguments)}}())}return(0,x.default)(t,null,[{key:"getinstance",value:function(){return!coreCommon.isMac()&&k||(k=new t),k}}]),(0,x.default)(t,[{key:"sendMessage",value:function(t){var e=this,r=Sno();return(0,l.default)(t,{sno:r}),new h.default(function(r,n){var a={resolve:r,data:t,timeoutTime:3e4};e.tupProtocol.setRspFuncsAndSendMessage(a)})}},{key:"setNotifyFunc",value:function(t,e){this.tupProtocol.setNotifyFunc(t,e)}},{key:"httpReleaseHandle",value:function(t){g.info("start tup_http_release_handle");var e={description:"tup_http_release_handle",cmd:1376261,param:{handle:t}};return this.sendMessage(e)}},{key:"httpForceUninit",value:function(t){g.info("start tup_http_forced_uninit");var e={description:"tup_http_forced_uninit",cmd:1376264};return this.sendMessage(e)}},{key:"httpUploadFile",value:function(t){var e=t.url,r=t.username,n=void 0===r?"":r,a=t.password,u=void 0===a?"":a,o=t.header,p=void 0===o?{}:o,i=t.tlsParam,c=void 0===i?{}:i,l=t.filePath,f=t.content,d=t.proxyInfo,_=t.auth_mode,h=void 0===_?0:_,y=t.req_type,v=void 0===y?0:y,m=t.is_cwmp,x=void 0===m?0:m;g.info("start tup_http_upload_file");var w={description:"tup_http_upload_file",cmd:1376260,param:{url:e,header:p,req_type:v,config_param:{proxy_param:{ip:d.proxyAddress,port:parseInt(d.proxyPort),auth_info:{username:d.proxyAccount,password:d.proxyPassword}},tcp_timeout:100},file_path:l}};isNullOrEmpty(c)||(w.param.tls_param=c),1===h&&(w.param.auth_info={mode:h,username:n,password:u},x&&(w.param.mult_part={key:"Account",content:(0,s.default)(f)}));var k=$getState().myInfo.account;return-1!==l.indexOf(k)&&(l=l.replace(k,"***")),g.info("tup_http_upload_file_params, url=",e),g.info("tup_http_upload_file_params, filePath=",l),this.sendMessage(w)}},{key:"sendSyncRequest",value:function(t){var e=t.url,r=t.type,n=t.body,a=t.header,u=void 0===a?{}:a,o=t.proxyInfo,s=t.tlsParam,p=t.cipherlist;return this.sendRequest({url:e,type:r,body:n,header:u,proxyInfo:o,tlsParam:s,cipherlist:p,sync:!0})}},{key:"sendAsyncRequest",value:function(t){var e=t.url,r=t.type,n=t.body,a=t.header,u=void 0===a?{}:a,o=t.proxyInfo,s=t.tlsParam,p=t.cipherlist;return this.sendRequest({url:e,type:r,body:n,header:u,proxyInfo:o,tlsParam:s,cipherlist:p,sync:!1})}},{key:"sendRequest",value:function(t){var e=t.url,r=t.type,n=t.body,a=t.header,o=void 0===a?{}:a,s=t.proxyInfo,p=t.tlsParam,i=t.cipherlist,c=t.sync,l=void 0!==c&&c,f={description:l?"tup_http_syn_send":"tup_http_asyn_send",cmd:l?1376263:1376259,param:{req_param:{url:e,type:r,body:n,header:(0,u.default)(o).map(function(t){return{name:t,value:o[t]}}),auth_info:{mode:0,username:"",password:""}},config_param:{proxy_param:{ip:s.proxyAddress,port:parseInt(s.proxyPort)||0,auth_info:{username:s.proxyAccount,password:s.proxyPassword}},tls_param:{ca_cert_path:p.caCertPath,client_cert_path:"",client_key_path:"",tls_mode:p.tlsMode,vertfy_server_mode:0},cipherlist:i,tcp_timeout:5,req_timeout:30}}};return this.sendMessage(f)}},{key:"httpDownloadFile",value:function(t){var e=t.url,r=t.filePath,n=t.body,a=t.header,o=t.auth_mode,s=void 0===o?1:o,p=t.userName,i=t.password,c=t.proxyInfo;g.info("start tup_http_download_file");var l={description:"tup_http_download_file",cmd:1376265,param:{url:e,body:n,header:(0,u.default)(a).map(function(t){return{name:t,value:a[t]}}),config_param:{proxy_param:{ip:c.proxyAddress,port:parseInt(c.proxyPort),auth_info:{username:c.proxyAccount,password:c.proxyPassword}},tls_param:{ca_cert_path:"",client_cert_path:"",client_key_path:"",tls_mode:0,vertfy_server_mode:0},cipherlist:[50331695,50331701,50331708,50331709],tcp_timeout:5,req_timeout:5},keep_download:2,file_path:r}};return 1===s&&(l.param.auth_info={mode:s,username:p,password:i}),this.sendMessage(l)}}]),t}();e.default=P},69:function(t,e,r){t.exports={default:r(70),__esModule:!0}},70:function(t,e,r){var n=r(8),a=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}}});