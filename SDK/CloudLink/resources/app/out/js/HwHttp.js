webpackJsonp([22],{105:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HwHttpSdk=void 0;var a=r(124),o=n(a),s=r(4),u=n(s),i=r(1811),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),c=r(1292),d=n(c);e.HwHttpSdk=function t(){(0,u.default)(this,t),(0,o.default)(this,p),this.hwTupHttpTransSdk=d.default}},118:function(t,e,r){t.exports=r(0)(0)},124:function(t,e,r){t.exports=r(0)(277)},1292:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(65),o=n(a),s=r(135),u=n(s),i=r(1),p=n(i),c=r(124),d=n(c),l=r(2),f=n(l),h=r(3),_=n(h),y=r(4),m=n(y),v=r(5),w=n(v),x=window.Logger("tup")("httptrans"),P=coreCommon.getTupProtocolClass(),g=function(){function t(e){var r=this;return(0,m.default)(this,t),new _.default(function(){var t=(0,f.default)(p.default.mark(function t(n,a){var o;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={key:constant.TupModuleKey.httptrans,moduleName:"tup_httptrans_service_protocol",webSocketUri:""},(0,d.default)(o,e),t.next=4,new P(o);case 4:r.tupProtocol=t.sent,n(r);case 6:case"end":return t.stop()}},t,r)}));return function(e,r){return t.apply(this,arguments)}}())}return(0,w.default)(t,[{key:"sendMessage",value:function(t){var e=this,r=Sno();return(0,d.default)(t,{sno:r}),new _.default(function(r,n){var a={resolve:r,data:t,timeoutTime:3e4};e.tupProtocol.setRspFuncsAndSendMessage(a)})}},{key:"setlogparam",value:function(t){var e={cmd:1376262,description:"tup_http_set_log_params",param:t};return this.sendMessage(e)}},{key:"setNotifyFunc",value:function(t,e){this.tupProtocol.setNotifyFunc(t,e)}},{key:"httpTransInit",value:function(t){x.info("start tup_httptrans_init");var e={description:"tup_http_init",cmd:1376257};return this.sendMessage(e)}},{key:"httpTransUninit",value:function(){x.info("start tup_httptrans_uninit");var t={description:"tup_http_uninit",cmd:1376258};return this.sendMessage(t)}},{key:"httpForceUninit",value:function(t){x.info("start tup_http_forced_uninit");var e={description:"tup_http_forced_uninit",cmd:1376264};return this.sendMessage(e)}},{key:"httpUploadFile",value:function(t){var e=t.url,r=t.username,n=t.password,a=t.header,s=void 0===a?{}:a,i=t.filePath,p=t.content,c=t.proxyInfo,d=t.auth_mode,l=void 0===d?1:d,f={description:"tup_http_upload_file",cmd:1376260,param:{url:e,header:(0,u.default)(s).map(function(t){return{name:t,value:s[t]}}),config_param:{proxy_param:{ip:c.proxyAddress,port:parseInt(c.proxyPort),auth_info:{username:c.proxyAccount,password:c.proxyPassword}}},file_path:i}};1===l&&(f.param.auth_info={mode:l,username:r,password:n},f.param.mult_part={key:"Account",content:(0,o.default)(p)});var h=$getState().myInfo.account;return-1!==i.indexOf(h)&&(i=i.replace(h,"***")),x.info("tup_http_upload_file_params, url=",e),x.info("tup_http_upload_file_params, filePath=",i),this.sendMessage(f)}},{key:"sendSyncRequest",value:function(t){var e=t.url,r=t.type,n=t.body,a=t.header,o=void 0===a?{}:a,s=t.proxyInfo,u=t.tlsParam,i=t.cipherlist;return this.sendRequest({url:e,type:r,body:n,header:o,proxyInfo:s,tlsParam:u,cipherlist:i,sync:!0})}},{key:"sendAsyncRequest",value:function(t){var e=t.url,r=t.type,n=t.body,a=t.header,o=void 0===a?{}:a,s=t.proxyInfo,u=t.tlsParam,i=t.cipherlist;return this.sendRequest({url:e,type:r,body:n,header:o,proxyInfo:s,tlsParam:u,cipherlist:i,sync:!1})}},{key:"sendRequest",value:function(t){var e=t.url,r=t.type,n=t.body,a=t.header,o=void 0===a?{}:a,s=t.proxyInfo,i=t.tlsParam,p=t.cipherlist,c=t.sync,d=void 0!==c&&c,l={description:d?"tup_http_syn_send":"tup_http_asyn_send",cmd:d?1376263:1376259,param:{req_param:{url:e,type:r,body:n,header:(0,u.default)(o).map(function(t){return{name:t,value:o[t]}}),auth_info:{mode:0,username:"",password:""}},config_param:{proxy_param:{ip:s.proxyAddress,port:parseInt(s.proxyPort)||0,auth_info:{username:s.proxyAccount,password:s.proxyPassword}},tls_param:{ca_cert_path:i.caCertPath,client_cert_path:"",client_key_path:"",tls_mode:i.tlsMode,vertfy_server_mode:0},cipherlist:p,tcp_timeout:5,req_timeout:30}}};return this.sendMessage(l)}},{key:"httpDownloadFile",value:function(t){var e=t.url,r=t.filePath,n=t.body,a=t.header,o=t.auth_mode,s=void 0===o?1:o,i=t.userName,p=t.password,c=t.proxyInfo;x.info("start tup_http_download_file");var d={description:"tup_http_download_file",cmd:1376265,param:{url:e,body:n,header:(0,u.default)(a).map(function(t){return{name:t,value:a[t]}}),config_param:{proxy_param:{ip:c.proxyAddress,port:parseInt(c.proxyPort),auth_info:{username:c.proxyAccount,password:c.proxyPassword}},tls_param:{ca_cert_path:"",client_cert_path:"",client_key_path:"",tls_mode:0,vertfy_server_mode:0},cipherlist:[50331695,50331701,50331708,50331709],tcp_timeout:5,req_timeout:5},keep_download:2,file_path:r}};return 1===s&&(d.param.auth_info={mode:s,username:i,password:p}),this.sendMessage(d)}}]),t}();e.default=g},135:function(t,e,r){t.exports={default:r(358),__esModule:!0}},139:function(t,e,r){t.exports=r(0)(155)},145:function(t,e,r){var n=r(10),a=r(8),o=r(147);t.exports=function(t,e){var r=(a.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)}},147:function(t,e,r){t.exports=r(0)(51)},1811:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.handleUploadChrFile=e.uninitHttpTrans=e.initHttpTrans=e.forceUninitHttp=e.httpAsyncResponse=void 0;var a=r(1),o=n(a),s=r(65),u=n(s),i=r(2),p=n(i),c=r(118),d=(n(c),r(1292)),l=n(d),f=window.Logger("logic")("httptrans"),h=null,_=e.httpAsyncResponse=function(){function t(t,e){r[t]=e}function e(t){if(t.hasOwnProperty("param")&&t.param.hasOwnProperty("handle")){if(!(r.hasOwnProperty(t.param.handle)&&r[t.param.handle]instanceof Function))return null;r[t.param.handle](t)}}var r={};return{addHandle:t,parseNotify:e}}();e.forceUninitHttp=function(){var t=(0,p.default)(o.default.mark(function t(){var e;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("ios"!==window.CLIENTCONFIG.PLATFORM||window.CLIENTCONFIG.ENABLE_IT_MEETING){t.next=8;break}return t.next=3,new l.default;case 3:return h=t.sent,t.next=6,h.httpForceUninit();case 6:e=t.sent,0!==e.result?f.info("force uninit tup http trans failed for ios, res=",(0,u.default)(e)):f.info("force uninit tup http trans success for ios");case 8:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}(),e.initHttpTrans=function(){var t=(0,p.default)(o.default.mark(function t(){var e;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new l.default;case 2:return h=t.sent,t.next=5,h.httpTransInit();case 5:e=t.sent,0!==e.result?f.info("init tup http trans failed, res=",(0,u.default)(e)):(f.info("init tup http trans success",(0,u.default)(e)),h.setNotifyFunc(1376289,_.parseNotify));case 7:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}(),e.uninitHttpTrans=function(){var t=(0,p.default)(o.default.mark(function t(){var e;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new l.default;case 2:return h=t.sent,t.next=5,h.httpTransUninit();case 5:e=t.sent,0!==e.result?f.info("uninit tup http trans failed, res=",(0,u.default)(e)):f.info("uninit tup http trans success",(0,u.default)(e));case 7:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}(),e.handleUploadChrFile=function(){var t=(0,p.default)(o.default.mark(function t(e){var r,n,a,s,u,i,p,c,d,_,y,m,v,w,x,P,g,k,C,A,N,b,O;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=window.CLIENTCONFIG["Device.ComCfg.CHR.CHRAddress"],n=window.CLIENTCONFIG["Device.ComCfg.CHR.CHRName"],t.next=4,coreSecurity.PasswordManager.getPassword("CHRPassword");case 4:if(a=t.sent,s=e.path,u=isNullOrEmpty(s),i=isNullOrEmpty(r),p=isNullOrEmpty(n),c=isNullOrEmpty(a),!(u||i||p||c)){t.next=13;break}return f.info("CHR basci info is null, address=",i+", userName=",p+", [psd]=",c),t.abrupt("return");case 13:if(d="TRUE"===window.CLIENTCONFIG["Device.ComCfg.CHR.enableCHR"]?1:0,0!==(_=coreSetting.getChrEnableValue(d))){t.next=18;break}return f.info("CHR file upload is closed, server data is:"+d),t.abrupt("return");case 18:return y="/chrFile/",m=window.APP_DATA_PATH+y+s,window.fs&&(m=window.path.join(window.APP_DATA_PATH,y,s)),v=void 0,w=$getState(),x=w.login,P=x.account,g=x.real_user_account,isNullOrEmpty(g)?v=P:(v=g,f.info("use real_user_account")),k={Account:v},C={proxyAddress:"",proxyPort:0,proxyAccount:"",proxyPassword:""},A=$getState().login,t.next=29,coreSecurity.PasswordManager.getPassword("proxyPassword");case 29:return N=t.sent,A.isSupportProxy&&(C.proxyAddress=A.proxyAddress,C.proxyPort=A.proxyPort,C.proxyAccount=A.proxyAccount,C.proxyPassword=N),t.next=33,new l.default;case 33:return h=t.sent,t.next=36,h.httpUploadFile({url:r,username:n,password:a,filePath:m,content:k,proxyInfo:C});case 36:b=t.sent,0!==b.result?f.info("set tup upload file chr failed, result=",b.result):f.info("set tup upload chr file success"),O=function(t){var e=t.param.rsp_body.rsp_code;200!==e?f.info("tup upload chr files to server failed, rsp_code=",e):f.info("tup upload chr files to server success, rsp_code=",e)},coreHttp.httpAsyncResponse.addHandle(b.handle,O);case 40:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},186:function(t,e,r){t.exports=r(0)(63)},358:function(t,e,r){r(359),t.exports=r(8).Object.keys},359:function(t,e,r){var n=r(139),a=r(186);r(145)("keys",function(){return function(t){return a(n(t))}})},65:function(t,e,r){t.exports={default:r(66),__esModule:!0}},66:function(t,e,r){var n=r(8),a=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}}});